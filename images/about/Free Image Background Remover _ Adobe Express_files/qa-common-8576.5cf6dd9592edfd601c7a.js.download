"use strict";(self.webpackChunk_hz_quick_actions_standalone_webapp=self.webpackChunk_hz_quick_actions_standalone_webapp||[]).push([[8576],{463601:(e,t,i)=>{i.d(t,{c:()=>l});var r=i(851606),s=i(857128),n=i(454374),o=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}return o},a=function(e,t,i){if(i||2===arguments.length)for(var r,s=0,n=t.length;s<n;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))},c="context",d=new r.z,l=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalContextManager=function(e){return(0,s.TG)(c,e,n.G.instance())},e.prototype.active=function(){return this._getContextManager().active()},e.prototype.with=function(e,t,i){for(var r,s=[],n=3;n<arguments.length;n++)s[n-3]=arguments[n];return(r=this._getContextManager()).with.apply(r,a([e,t,i],o(s),!1))},e.prototype.bind=function(e,t){return this._getContextManager().bind(e,t)},e.prototype._getContextManager=function(){return(0,s.Rd)(c)||d},e.prototype.disable=function(){this._getContextManager().disable(),(0,s.J_)(c,n.G.instance())},e}()},454374:(e,t,i)=>{i.d(t,{G:()=>d});var r=i(449812),s=i(611544),n=i(452109),o=i(857128),a=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}return o},c=function(e,t,i){if(i||2===arguments.length)for(var r,s=0,n=t.length;s<n;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))},d=function(){function e(){function e(e){return function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];var r=(0,o.Rd)("diag");if(r)return r[e].apply(r,c([],a(t),!1))}}var t=this;t.setLogger=function(e,i){var r,a,c;if(void 0===i&&(i={logLevel:n.n.INFO}),e===t){var d=new Error("Cannot use diag as the logger for itself. Please use a DiagLogger implementation like ConsoleDiagLogger or a custom implementation");return t.error(null!==(r=d.stack)&&void 0!==r?r:d.message),!1}"number"==typeof i&&(i={logLevel:i});var l=(0,o.Rd)("diag"),h=(0,s.X)(null!==(a=i.logLevel)&&void 0!==a?a:n.n.INFO,e);if(l&&!i.suppressOverrideMessage){var u=null!==(c=(new Error).stack)&&void 0!==c?c:"<failed to generate stacktrace>";l.warn("Current logger will be overwritten from "+u),h.warn("Current logger will overwrite one already registered from "+u)}return(0,o.TG)("diag",h,t,!0)},t.disable=function(){(0,o.J_)("diag",t)},t.createComponentLogger=function(e){return new r.q(e)},t.verbose=e("verbose"),t.debug=e("debug"),t.info=e("info"),t.warn=e("warn"),t.error=e("error")}return e.instance=function(){return this._instance||(this._instance=new e),this._instance},e}()},763041:(e,t,i)=>{i.d(t,{F:()=>a});var r=i(675631),s=i(857128),n=i(454374),o="metrics",a=function(){function e(){}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalMeterProvider=function(e){return(0,s.TG)(o,e,n.G.instance())},e.prototype.getMeterProvider=function(){return(0,s.Rd)(o)||r.i},e.prototype.getMeter=function(e,t,i){return this.getMeterProvider().getMeter(e,t,i)},e.prototype.disable=function(){(0,s.J_)(o,n.G.instance())},e}()},459793:(e,t,i)=>{i.d(t,{i:()=>h});var r=i(857128),s=i(217794),n=i(689147),o=i(124516),a=i(476578),c=i(454374),d="propagation",l=new s.q,h=function(){function e(){this.createBaggage=a.H,this.getBaggage=o.ZD,this.getActiveBaggage=o.nN,this.setBaggage=o.Oi,this.deleteBaggage=o._l}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalPropagator=function(e){return(0,r.TG)(d,e,c.G.instance())},e.prototype.inject=function(e,t,i){return void 0===i&&(i=n.M),this._getGlobalPropagator().inject(e,t,i)},e.prototype.extract=function(e,t,i){return void 0===i&&(i=n.r),this._getGlobalPropagator().extract(e,t,i)},e.prototype.fields=function(){return this._getGlobalPropagator().fields()},e.prototype.disable=function(){(0,r.J_)(d,c.G.instance())},e.prototype._getGlobalPropagator=function(){return(0,r.Rd)(d)||l},e}()},179760:(e,t,i)=>{i.d(t,{r:()=>d});var r=i(857128),s=i(984413),n=i(725235),o=i(948611),a=i(454374),c="trace",d=function(){function e(){this._proxyTracerProvider=new s.K,this.wrapSpanContext=n.kw,this.isSpanContextValid=n.BM,this.deleteSpan=o.TW,this.getSpan=o.Br,this.getActiveSpan=o.HN,this.getSpanContext=o.A3,this.setSpan=o.WZ,this.setSpanContext=o.G3}return e.getInstance=function(){return this._instance||(this._instance=new e),this._instance},e.prototype.setGlobalTracerProvider=function(e){var t=(0,r.TG)(c,this._proxyTracerProvider,a.G.instance());return t&&this._proxyTracerProvider.setDelegate(e),t},e.prototype.getTracerProvider=function(){return(0,r.Rd)(c)||this._proxyTracerProvider},e.prototype.getTracer=function(e,t){return this.getTracerProvider().getTracer(e,t)},e.prototype.disable=function(){(0,r.J_)(c,a.G.instance()),this._proxyTracerProvider=new s.K},e}()},124516:(e,t,i)=>{i.d(t,{Oi:()=>a,ZD:()=>n,_l:()=>c,nN:()=>o});var r=i(463601),s=(0,i(934279).Y)("OpenTelemetry Baggage Key");function n(e){return e.getValue(s)||void 0}function o(){return n(r.c.getInstance().active())}function a(e,t){return e.setValue(s,t)}function c(e){return e.deleteValue(s)}},317745:(e,t,i)=>{i.d(t,{t:()=>n});var r=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}return o},s=function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},n=function(){function e(e){this._entries=e?new Map(e):new Map}return e.prototype.getEntry=function(e){var t=this._entries.get(e);if(t)return Object.assign({},t)},e.prototype.getAllEntries=function(){return Array.from(this._entries.entries()).map((function(e){var t=r(e,2);return[t[0],t[1]]}))},e.prototype.setEntry=function(t,i){var r=new e(this._entries);return r._entries.set(t,i),r},e.prototype.removeEntry=function(t){var i=new e(this._entries);return i._entries.delete(t),i},e.prototype.removeEntries=function(){for(var t,i,r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var o=new e(this._entries);try{for(var a=s(r),c=a.next();!c.done;c=a.next()){var d=c.value;o._entries.delete(d)}}catch(e){t={error:e}}finally{try{c&&!c.done&&(i=a.return)&&i.call(a)}finally{if(t)throw t.error}}return o},e.prototype.clear=function(){return new e},e}()},785459:(e,t,i)=>{i.d(t,{D:()=>r});var r=i(463601).c.getInstance()},851606:(e,t,i)=>{i.d(t,{z:()=>o});var r=i(934279),s=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}return o},n=function(e,t,i){if(i||2===arguments.length)for(var r,s=0,n=t.length;s<n;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))},o=function(){function e(){}return e.prototype.active=function(){return r.I},e.prototype.with=function(e,t,i){for(var r=[],o=3;o<arguments.length;o++)r[o-3]=arguments[o];return t.call.apply(t,n([i],s(r),!1))},e.prototype.bind=function(e,t){return t},e.prototype.enable=function(){return this},e.prototype.disable=function(){return this},e}()},934279:(e,t,i)=>{function r(e){return Symbol.for(e)}i.d(t,{I:()=>s,Y:()=>r});var s=new function e(t){var i=this;i._currentContext=t?new Map(t):new Map,i.getValue=function(e){return i._currentContext.get(e)},i.setValue=function(t,r){var s=new e(i._currentContext);return s._currentContext.set(t,r),s},i.deleteValue=function(t){var r=new e(i._currentContext);return r._currentContext.delete(t),r}}},897929:(e,t,i)=>{i.d(t,{K:()=>r});var r=i(454374).G.instance()},449812:(e,t,i)=>{i.d(t,{q:()=>o});var r=i(857128),s=function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,s,n=i.call(e),o=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)o.push(r.value)}catch(e){s={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(s)throw s.error}}return o},n=function(e,t,i){if(i||2===arguments.length)for(var r,s=0,n=t.length;s<n;s++)!r&&s in t||(r||(r=Array.prototype.slice.call(t,0,s)),r[s]=t[s]);return e.concat(r||Array.prototype.slice.call(t))},o=function(){function e(e){this._namespace=e.namespace||"DiagComponentLogger"}return e.prototype.debug=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("debug",this._namespace,e)},e.prototype.error=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("error",this._namespace,e)},e.prototype.info=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("info",this._namespace,e)},e.prototype.warn=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("warn",this._namespace,e)},e.prototype.verbose=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return a("verbose",this._namespace,e)},e}();function a(e,t,i){var o=(0,r.Rd)("diag");if(o)return i.unshift(t),o[e].apply(o,n([],s(i),!1))}},611544:(e,t,i)=>{i.d(t,{X:()=>s});var r=i(452109);function s(e,t){function i(i,r){var s=t[i];return"function"==typeof s&&e>=r?s.bind(t):function(){}}return e<r.n.NONE?e=r.n.NONE:e>r.n.ALL&&(e=r.n.ALL),t=t||{},{error:i("error",r.n.ERROR),warn:i("warn",r.n.WARN),info:i("info",r.n.INFO),debug:i("debug",r.n.DEBUG),verbose:i("verbose",r.n.VERBOSE)}}},452109:(e,t,i)=>{var r;i.d(t,{n:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.ERROR=30]="ERROR",e[e.WARN=50]="WARN",e[e.INFO=60]="INFO",e[e.DEBUG=70]="DEBUG",e[e.VERBOSE=80]="VERBOSE",e[e.ALL=9999]="ALL"}(r||(r={}))},778647:(e,t,i)=>{i.d(t,{ZP:()=>c});var r=i(785459),s=i(897929),n=i(73294),o=i(151181),a=i(286437);const c={context:r.D,diag:s.K,metrics:n.q,propagation:o.u,trace:a.g}},857128:(e,t,i)=>{i.d(t,{J_:()=>h,Rd:()=>l,TG:()=>d});var r=i(932034),s=i(677956),n=i(719915),o=s.q.split(".")[0],a=Symbol.for("opentelemetry.js.api."+o),c=r.E;function d(e,t,i,r){var n;void 0===r&&(r=!1);var o=c[a]=null!==(n=c[a])&&void 0!==n?n:{version:s.q};if(!r&&o[e]){var d=new Error("@opentelemetry/api: Attempted duplicate registration of API: "+e);return i.error(d.stack||d.message),!1}if(o.version!==s.q){d=new Error("@opentelemetry/api: Registration of version v"+o.version+" for "+e+" does not match previously registered API v"+s.q);return i.error(d.stack||d.message),!1}return o[e]=t,i.debug("@opentelemetry/api: Registered a global for "+e+" v"+s.q+"."),!0}function l(e){var t,i,r=null===(t=c[a])||void 0===t?void 0:t.version;if(r&&(0,n.o)(r))return null===(i=c[a])||void 0===i?void 0:i[e]}function h(e,t){t.debug("@opentelemetry/api: Unregistering a global for "+e+" v"+s.q+".");var i=c[a];i&&delete i[e]}},719915:(e,t,i)=>{i.d(t,{o:()=>n});var r=i(677956),s=/^(\d+)\.(\d+)\.(\d+)(-(.+))?$/;var n=function(e){var t=new Set([e]),i=new Set,r=e.match(s);if(!r)return function(){return!1};var n=+r[1],o=+r[2],a=+r[3];if(null!=r[4])return function(t){return t===e};function c(e){return i.add(e),!1}function d(e){return t.add(e),!0}return function(e){if(t.has(e))return!0;if(i.has(e))return!1;var r=e.match(s);if(!r)return c(e);var l=+r[1],h=+r[2],u=+r[3];return null!=r[4]||n!==l?c(e):0===n?o===h&&a<=u?d(e):c(e):o<=h?d(e):c(e)}}(r.q)},73294:(e,t,i)=>{i.d(t,{q:()=>r});var r=i(763041).F.getInstance()},675631:(e,t,i)=>{i.d(t,{i:()=>s});var r=i(7571),s=new(function(){function e(){}return e.prototype.getMeter=function(e,t,i){return r.dI},e}())},932034:(e,t,i)=>{i.d(t,{E:()=>r});var r="object"==typeof globalThis?globalThis:"object"==typeof self?self:"object"==typeof window?window:"object"==typeof i.g?i.g:{}},151181:(e,t,i)=>{i.d(t,{u:()=>r});var r=i(459793).i.getInstance()},217794:(e,t,i)=>{i.d(t,{q:()=>r});var r=function(){function e(){}return e.prototype.inject=function(e,t){},e.prototype.extract=function(e,t){return e},e.prototype.fields=function(){return[]},e}()},689147:(e,t,i)=>{i.d(t,{M:()=>s,r:()=>r});var r={get:function(e,t){if(null!=e)return e[t]},keys:function(e){return null==e?[]:Object.keys(e)}},s={set:function(e,t,i){null!=e&&(e[t]=i)}}},286437:(e,t,i)=>{i.d(t,{g:()=>r});var r=i(179760).r.getInstance()},403101:(e,t,i)=>{i.d(t,{s:()=>s});var r=i(633058),s=function(){function e(e){void 0===e&&(e=r.Rr),this._spanContext=e}return e.prototype.spanContext=function(){return this._spanContext},e.prototype.setAttribute=function(e,t){return this},e.prototype.setAttributes=function(e){return this},e.prototype.addEvent=function(e,t){return this},e.prototype.setStatus=function(e){return this},e.prototype.updateName=function(e){return this},e.prototype.end=function(e){},e.prototype.isRecording=function(){return!1},e.prototype.recordException=function(e,t){},e}()},673847:(e,t,i)=>{i.d(t,{E:()=>c});var r=i(463601),s=i(948611),n=i(403101),o=i(725235),a=r.c.getInstance(),c=function(){function e(){}return e.prototype.startSpan=function(e,t,i){if(void 0===i&&(i=a.active()),Boolean(null==t?void 0:t.root))return new n.s;var r,c=i&&(0,s.A3)(i);return"object"==typeof(r=c)&&"string"==typeof r.spanId&&"string"==typeof r.traceId&&"number"==typeof r.traceFlags&&(0,o.BM)(c)?new n.s(c):new n.s},e.prototype.startActiveSpan=function(e,t,i,r){var n,o,c;if(!(arguments.length<2)){2===arguments.length?c=t:3===arguments.length?(n=t,c=i):(n=t,o=i,c=r);var d=null!=o?o:a.active(),l=this.startSpan(e,n,d),h=(0,s.WZ)(d,l);return a.with(h,c,void 0,l)}},e}()},794570:(e,t,i)=>{i.d(t,{J:()=>s});var r=i(673847),s=function(){function e(){}return e.prototype.getTracer=function(e,t,i){return new r.E},e}()},650547:(e,t,i)=>{i.d(t,{T:()=>s});var r=new(i(673847).E),s=function(){function e(e,t,i,r){this._provider=e,this.name=t,this.version=i,this.options=r}return e.prototype.startSpan=function(e,t,i){return this._getTracer().startSpan(e,t,i)},e.prototype.startActiveSpan=function(e,t,i,r){var s=this._getTracer();return Reflect.apply(s.startActiveSpan,s,arguments)},e.prototype._getTracer=function(){if(this._delegate)return this._delegate;var e=this._provider.getDelegateTracer(this.name,this.version,this.options);return e?(this._delegate=e,this._delegate):r},e}()},984413:(e,t,i)=>{i.d(t,{K:()=>n});var r=i(650547),s=new(i(794570).J),n=function(){function e(){}return e.prototype.getTracer=function(e,t,i){var s;return null!==(s=this.getDelegateTracer(e,t,i))&&void 0!==s?s:new r.T(this,e,t,i)},e.prototype.getDelegate=function(){var e;return null!==(e=this._delegate)&&void 0!==e?e:s},e.prototype.setDelegate=function(e){this._delegate=e},e.prototype.getDelegateTracer=function(e,t,i){var r;return null===(r=this._delegate)||void 0===r?void 0:r.getTracer(e,t,i)},e}()},948611:(e,t,i)=>{i.d(t,{A3:()=>u,Br:()=>a,G3:()=>h,HN:()=>c,TW:()=>l,WZ:()=>d});var r=i(934279),s=i(403101),n=i(463601),o=(0,r.Y)("OpenTelemetry Context Key SPAN");function a(e){return e.getValue(o)||void 0}function c(){return a(n.c.getInstance().active())}function d(e,t){return e.setValue(o,t)}function l(e){return e.deleteValue(o)}function h(e,t){return d(e,new s.s(t))}function u(e){var t;return null===(t=a(e))||void 0===t?void 0:t.spanContext()}},633058:(e,t,i)=>{i.d(t,{AE:()=>n,Rr:()=>o,fQ:()=>s});var r=i(848299),s="0000000000000000",n="00000000000000000000000000000000",o={traceId:n,spanId:s,traceFlags:r.r.NONE}},848299:(e,t,i)=>{var r;i.d(t,{r:()=>r}),function(e){e[e.NONE=0]="NONE",e[e.SAMPLED=1]="SAMPLED"}(r||(r={}))},677956:(e,t,i)=>{i.d(t,{q:()=>r});var r="1.7.0"},794378:(e,t,i)=>{i.d(t,{Z:()=>r});const r=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},213946:(e,t,i)=>{i.d(t,{Z:()=>n});var r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto),s=new Uint8Array(16);function n(){if(!r)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(s)}},646583:(e,t,i)=>{i.d(t,{Z:()=>o});for(var r=i(975329),s=[],n=0;n<256;++n)s.push((n+256).toString(16).substr(1));const o=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,i=(s[e[t+0]]+s[e[t+1]]+s[e[t+2]]+s[e[t+3]]+"-"+s[e[t+4]]+s[e[t+5]]+"-"+s[e[t+6]]+s[e[t+7]]+"-"+s[e[t+8]]+s[e[t+9]]+"-"+s[e[t+10]]+s[e[t+11]]+s[e[t+12]]+s[e[t+13]]+s[e[t+14]]+s[e[t+15]]).toLowerCase();if(!(0,r.Z)(i))throw TypeError("Stringified UUID is invalid");return i}},472568:(e,t,i)=>{i.d(t,{Z:()=>n});var r=i(213946),s=i(646583);const n=function(e,t,i){var n=(e=e||{}).random||(e.rng||r.Z)();if(n[6]=15&n[6]|64,n[8]=63&n[8]|128,t){i=i||0;for(var o=0;o<16;++o)t[i+o]=n[o];return t}return(0,s.Z)(n)}},975329:(e,t,i)=>{i.d(t,{Z:()=>s});var r=i(794378);const s=function(e){return"string"==typeof e&&r.Z.test(e)}},318803:(e,t,i)=>{var r;i.d(t,{b:()=>r}),function(e){e.local="local",e.dev="dev",e.stage="stage",e.prod="prod"}(r||(r={}))},273393:(e,t,i)=>{var r;i.d(t,{C:()=>r}),function(e){e.latest="latest",e.nonCurrent="non-current",e.rolledBack="rolled-back",e.expired="expired",e.invalidated="invalidated",e.unknown="unknown"}(r||(r={}))},826321:(e,t,i)=>{i.d(t,{L:()=>o,VP:()=>r,w$:()=>n,wC:()=>s});const r="feature-enable",s="feature-disable",n="feature-reset",o="setting-"},392113:(e,t,i)=>{i.d(t,{w:()=>n});var r=i(472568),s=i(314685);class n{constructor(){this.featureOverrides={},this.settingOverrides={},this.experimentFeatureOverrides={},this.rolloutFeatureOverrides={},this.sessionId=(0,r.Z)(),this._initialized=!1,this.initPromiseSettingOverrides=new Promise((e=>{this.initResolveSettingOverrides=e})),this.initPromiseFeatureOverrides=new Promise((e=>{this.initResolveFeatureOverrides=e})),this.initPromiseExperimentFeatureOverrides=new Promise((e=>{this.initResolveExperimentFeatureOverrides=e})),this.initPromiseRolloutFeatureOverrides=new Promise((e=>{this.initResolveRolloutFeatureOverrides=e}))}setStaticSettings(e){for(const t of Object.keys(e))this.settingOverrides[t]=e[t];this.initResolveSettingOverrides(this.settingOverrides)}setStaticFeatureFlags(e){for(const t of Object.keys(e))this.featureOverrides[t]=e[t];this.initResolveFeatureOverrides(this.featureOverrides)}initializeWithDataTransfer(e,t){this.sessionId=t.sessionId,t.ENABLED_DRAFT_FEATURE_FLAGS&&t.ENABLED_DRAFT_FEATURE_FLAGS.forEach((e=>{s.Vd.has(e)||s.Vd.add(e)})),this.initialize(t.buildInfo,e,t.compiledConfig,t.releasePlaneConfig,t.localConfig,void 0,void 0,void 0,!1)}setLoggerFactory(e){e().then((e=>{this.loggerInstance=e})).catch(console.error)}logger(){return this.loggerInstance}tryToLogFeatureFlag(e,t,i){this.loggerInstance?.get("AppConfig").trace("[AppConfig] Feature flag evaluated",{feature_flag:{key:e,provider_name:t,value:i}})}}},159625:(e,t,i)=>{i.d(t,{y:()=>_});var r=i(318803),s=i(314685),n=i(273393),o=i(392113),a=i(707902),c=i(246709),d=i(666013),l=i(24387),h=i(90541),u=i(328179),g=i(473450);class _ extends o.w{static singleton(){return _._singleton||(_._singleton=new _),_._singleton}static async createInitializeAttach(e,t,i,r,s,n,o,a,c){const d=new _;return await d.initialize(e,t,i,r,s,o,a,c),n&&d.attach(n),d}createModuleConfig(){return new h.M(this)}constructor(){super(),this._featuresFromExperiments={},this._requiredSettingsResolvers=new Map,this._pendingExperimentsFeatureFlags={},this._pendingRolloutConfigurationsFeatureFlags={},this._updateListeners={},this._waitForExperimentResolution=!0,this._localConfig={features:{},settings:{}},this._browserLocalConfig=void 0,this._atpFactoryPromise=new Promise((e=>{this._atpFactoryResolver=e}))}registerListener(e,t){void 0===this._updateListeners[e]?this._updateListeners[e]=[t]:this._updateListeners[e]=[...this._updateListeners[e],t]}isInExperiment(e){return"boolean"==typeof this._featuresFromExperiments[e]}isPendingExperimentResolution(e){return void 0!==this._pendingExperimentsFeatureFlags[e]}isPendingRolloutResolution(e){return void 0!==this._pendingRolloutConfigurationsFeatureFlags[e]}async getFeaturesFromExperiments(){return await this.initialized(),this._featuresFromExperiments}async getFeaturesOverrides(){await this.initialized(),await this._experimentsInitialized(),await this._rolloutConfigurationsInitialized();const e={},t=l.Y.getInstance(this);for(const i in this._compiledAppConfig.floodgateFeatureNames)e[i]=await t.getFeatureState(i);return{...e,...this.featureOverrides,...this.rolloutFeatureOverrides,...this.experimentFeatureOverrides}}getBrowserLocalConfig(){return this._browserLocalConfig}_getEnvValue(e){if(void 0!==e){if(!this._initializedEnv){const e="Checking environmental config can only be done after appConfig.initialized()";throw console.error(e),new Error(e)}return void 0!==e.envOverrides[this._initializedEnv]?e.envOverrides[this._initializedEnv]:e.default}}_getSettingValue(e){let t;if(!this._initialized)throw t="Checking setting config can only be done after appConfig.initialize(..)",console.error(t),new Error(t);const i=this._localConfig.settings[e];if(void 0!==i)return i;if(void 0!==this.settingOverrides[e])return this.settingOverrides[e];const r=this._getEnvValue(this._compiledAppConfig.envSettings[e]);if(void 0!==r)return r;const s=this._compiledAppConfig.settingValues[e];if(void 0!==s)return s;throw t=`Static config not found: ${e}`,console.error(t),new Error("Static config not found: "+e)}_setSettingValue(e,t){if(void 0!==this._lazySettings?.get(e)&&this._lazySettings.delete(e),this.settingOverrides[e]=t,void 0!==this._lazySettings?.get(e)&&this._lazySettings.delete(e),this._requiredSettingsResolvers.has(e)){this._requiredSettingsResolvers.get(e)(t),this._requiredSettingsResolvers.delete(e)}}_getBrowserFlag(e){return this._localConfig.features[e]}async getLocalConfig(){return await this.initialized(),this._localConfig}setLocalConfig(e){this._localConfig=e}getFeatureOverrideValue(e){return"boolean"==typeof this.featureOverrides[e]?this.featureOverrides[e]:void 0}getFeatureValueFromExperiments(e){return"boolean"==typeof this.experimentFeatureOverrides[e]?this.experimentFeatureOverrides[e]:void 0}getFeatureValueFromRolloutConfigurations(e){return"boolean"==typeof this.rolloutFeatureOverrides[e]?this.rolloutFeatureOverrides[e]:void 0}_getFeatureEnabled(e,t){if(!this._initialized){const e="Checking feature config can only be done after appConfig.initialize(..)";throw console.error(e),new Error(e)}if("boolean"==typeof this._localConfig.features[e])return this.tryToLogFeatureFlag(e,g.R.browserFlags,this._localConfig.features[e]),this._localConfig.features[e];const i=this.getFeatureValueFromExperiments(e);if(void 0!==i)return this.tryToLogFeatureFlag(e,g.R.expClient,i),i;if("boolean"==typeof this.rolloutFeatureOverrides[e])return this.tryToLogFeatureFlag(e,g.R.rollout,this.rolloutFeatureOverrides[e]),this.rolloutFeatureOverrides[e];if("boolean"==typeof this.featureOverrides[e])return this.tryToLogFeatureFlag(e,g.R.releasePlane,this.featureOverrides[e]),this.featureOverrides[e];const r=t();return"boolean"==typeof r?(this.tryToLogFeatureFlag(e,g.R.floodgate,r),r):(this.tryToLogFeatureFlag(e,g.R.appConfig,Boolean(this._compiledAppConfig.featureValues[e])),Boolean(this._compiledAppConfig.featureValues[e]))}async initialize(e,t,i,r,s,n,o,a,d=!0){this._initialized?console.warn("AppConfig is already initialized, not doing anything"):(this.attach(c.q),this.buildInfo=e,this._host=t,void 0!==s?this._localConfig=s:this._host.sessionStorage()&&(this._browserLocalConfig=this._createBrowserLocalConfig(this._host.searchParams()??new URLSearchParams),this._localConfig=this._browserLocalConfig.localConfig),this._compiledAppConfig=i,this._featuresFromExperiments=n||{},this._isPersonalizationEnabled(r)&&(this._pendingRolloutConfigurationsFeatureFlags={...a}),void 0!==r.features["appconfig-wait-for-experiments"]&&(this._waitForExperimentResolution=r.features["appconfig-wait-for-experiments"]),0===Object.keys(this._featuresFromExperiments).length&&(this._waitForExperimentResolution=!1),this._configureExperimentsFeatureFlags(r,o),i.lazySettings.length>0&&(this._lazySettings=new Map,i.lazySettings.forEach((e=>{this._lazySettings.set(e,e)}))),this._setStaticSettingOverrides(r.settings),await this.initialized(),d&&this._scheduleDynamicConfigSync())}isLazySetting(e){return void 0!==this._lazySettings?.get(e)}_createBrowserLocalConfig(e){return new a.Pb(e)}_isExperimentationEnabled(e){return this._localConfig.features["enable-experimentation"]||e.features["enable-experimentation"]}_isPersonalizationEnabled(e){return this._localConfig.features["enable-personalization"]||e.features["enable-personalization"]}_configureExperimentsFeatureFlags(e,t){if(this._isExperimentationEnabled(e)&&t){this._pendingExperimentsFeatureFlags={...this._featuresFromExperiments};const i=t();this._setStaticFeatureOverrides({...e.features,...i})}else this._setStaticFeatureOverrides(e.features)}_scheduleDynamicConfigSync(){u.J.isConfigured()&&(this._rrsDynamicConfig=new u.J(this._host),this._rrsDynamicConfig.initAndScheduleSyncIfNeeded())}async initialized(){await Promise.all([this.initPromiseFeatureOverrides,this.initPromiseSettingOverrides]),this._initialized=!0}updateFeaturesFromExperiments(e){for(const t of Object.keys(e))void 0!==this._featuresFromExperiments[t]&&(this.experimentFeatureOverrides[t]=e[t],this._updateListeners[t]&&this._updateListeners[t].forEach((e=>e(t))),delete this._pendingExperimentsFeatureFlags[t]);0===Object.keys(this._pendingExperimentsFeatureFlags).length&&this.initResolveExperimentFeatureOverrides(this.experimentFeatureOverrides)}updateRolloutFeatures(e){for(const t of Object.keys(e))void 0!==this._pendingRolloutConfigurationsFeatureFlags[t]&&(this.rolloutFeatureOverrides[t]=e[t],this._updateListeners[t]&&this._updateListeners[t].forEach((e=>e(t))),delete this._pendingRolloutConfigurationsFeatureFlags[t],0===Object.keys(this._pendingRolloutConfigurationsFeatureFlags).length&&this.initResolveRolloutFeatureOverrides(this.rolloutFeatureOverrides))}resolvePendingRolloutFeatureFlags(){for(const e in this._pendingRolloutConfigurationsFeatureFlags)this._resolvePendingFeatureFlag(e);this.initResolveRolloutFeatureOverrides({})}resolvePendingExperimentFeatureFlags(){for(const e in this._pendingExperimentsFeatureFlags)this._resolvePendingFeatureFlag(e);this.initResolveExperimentFeatureOverrides({})}_resolvePendingFeatureFlag(e){void 0===this._pendingExperimentsFeatureFlags[e]&&void 0===this._pendingRolloutConfigurationsFeatureFlags[e]||(delete this.experimentFeatureOverrides[e],delete this.rolloutFeatureOverrides[e],this._updateListeners[e]&&this._updateListeners[e].forEach((t=>t(e))),delete this._pendingExperimentsFeatureFlags[e],delete this._pendingRolloutConfigurationsFeatureFlags[e])}_experimentsInitialized(){return this.initPromiseExperimentFeatureOverrides}_rolloutConfigurationsInitialized(){return this.initPromiseRolloutFeatureOverrides}async getHost(){return this.initPromiseSettingOverrides.then((()=>this._host))}async getEnabledFeaturesFromFloodgate(e){return void 0===this._floodgateConnector&&(this._floodgateConnector=new d.L(this)),this._floodgateConnector.getEnabledFeatures(e)}async syncWithFloodgate(){return await this.initialized(),l.Y.getInstance(this).syncNow()}setFactoryForAccessTokenProvider(e){this._atpFactoryResolver(e)}async getAccessTokenProvider(){return(await this._atpFactoryPromise)()}async attach(e){for(const t of Object.keys(e))e[t].attach(this);return this.initialized()}maybeRegisterSettingResolver(e,t){return void 0!==this._lazySettings?.get(e)&&(this._requiredSettingsResolvers.set(e,t),!0)}get _environment(){if(!this._initializedEnv){const e="appConfig._environment can only be checked synchronously after awaiting appConfig.initialize()";throw console.error(e),new Error(e)}return this._initializedEnv}_setStaticSettingOverrides(e){let t,i;if("string"!=typeof e.env)throw i="Invalid AppConfig settings override does not include required 'env'.",console.error(i),new Error(i);if(t=e.env,!Object.keys(r.b).includes(t))throw i=`Invalid AppConfig settings override.  Unsupported 'env' value provided = ${t}`,console.error(i),new Error(i);if(this._initializedEnv=t,"string"!=typeof e.envName)throw i="Invalid AppConfig settings override does not include required 'envName'.",console.error(i),new Error(i);super.setStaticSettings(e)}async getSettings(){await this.initialized();const e={};for(const t of Object.keys(this._compiledAppConfig.settingValues))e[t]=this._compiledAppConfig.settingValues[t];for(const t of Object.keys(this._compiledAppConfig.envSettings)){const i=this._getEnvValue(this._compiledAppConfig.envSettings[t]);void 0!==i&&(e[t]=i)}for(const t of Object.keys(this.settingOverrides))e[t]=this.settingOverrides[t];for(const t of Object.keys(this._localConfig.settings))e[t]=this._localConfig.settings[t];return e}async hasDraftFeature(e){await this.initialized();return this._localConfig.features[e]??s.Vd.has(e)}async getFeatures(e=!0){await this.initialized();const t={};for(const e of Object.keys(this._compiledAppConfig.featureValues))t[e]=this._compiledAppConfig.featureValues[e];for(const e of Object.keys(this.featureOverrides))t[e]=this.featureOverrides[e];for(const e of Object.keys(this._localConfig.features))t[e]=this._localConfig.features[e];if(!1===e)return t;for(const e of this._compiledAppConfig.draftDocModelFeatureNames){t[e]&&!this._localConfig.features[e]&&(t[e]=!1);const i=e;void 0!==i&&s.Vd.has(i)&&(t[e]=!0)}return t}async getWorkerDataTransfer(){await this.initialized(),this._waitForExperimentResolution&&await this._experimentsInitialized();return{sessionId:this.sessionId,buildInfo:JSON.parse(JSON.stringify(this.buildInfo)),compiledConfig:this._compiledAppConfig,releasePlaneConfig:{settings:this.settingOverrides,features:{...this.featureOverrides,...this.rolloutFeatureOverrides,...this.experimentFeatureOverrides}},localConfig:this._localConfig,ENABLED_DRAFT_FEATURE_FLAGS:s.Vd}}_setStaticFeatureOverrides(e){super.setStaticFeatureFlags(e)}async hasFeature(e){const t=await this.getFeatures();return Boolean(t[e])}async _resetBrowserFlags(){this._browserLocalConfig?.clearSessionStorage()}async _setBrowserFlag(e,t){this._browserLocalConfig?.setFeature(e,t,"session"),console.info("Success - flag set locally in this browser.")}async _setBrowserFlagList(e,t){this._browserLocalConfig?.setFeaturesToValue(e,t,"session"),console.info("Success - flag set locally in this browser.")}async _setBrowserSetting(e,t){this._browserLocalConfig?.setSetting(e,t,"session"),console.info("Success - setting set locally in this browser.")}async enableAllFeatureFlags(){const e=await this.getFeatures(!1),t=Object.keys(e);this._browserLocalConfig?.setFeaturesToValue(t,!0,"session"),console.info("Success - all flags set locally in this browser.")}getFloodgateKeyOrName(e){if(!this._initialized){throw new Error("Checking feature values can only be done after appConfig.initialize(..)")}return this._compiledAppConfig.floodgateFeatureNames[e]??void 0}async getAppDraftModelFlags(){await this.initialized();const e=this._localConfig.features;return Object.values(s._5).filter((t=>e[t]??s.Vd.has(t)))}async adoptDraftModelFlags(e){if(!this._browserLocalConfig)return!1;const t={};for(const i of e)t[i]=!0;const i=await this.getAppDraftModelFlags();for(const r of i)e.includes(r)||(t[r]=!1);return this._browserLocalConfig.setFeatures(t,"session"),!0}async persistAllBrowserFlags(){await this.initialized(),this._browserLocalConfig?.persistURLConfigToSessionStorage()}async getCurrentBuildState(){return await this.initialized(),void 0===this._rrsDynamicConfig?n.C.unknown:this._rrsDynamicConfig.getBuildState(c.q.rrBuildSha.value)}getCurrentBuildStateSync(){return void 0===this._rrsDynamicConfig?n.C.unknown:this._rrsDynamicConfig.getBuildStateSync(c.q.rrBuildSha.value)}addBuildStateObserver(e){this._rrsDynamicConfig?.addBuildStateObserver(c.q.rrBuildSha.value,e)}}},707902:(e,t,i)=>{i.d(t,{Pb:()=>o});var r=i(826321);const s="_hz_browser_flags",n="_hz_browser_settings";class o{constructor(e=new URLSearchParams(window.location.search)){this._localFeatures={},this._localSettings={},this._sessionFeatures={},this._sessionSettings={},this._loadFromBrowserStorage(),this._extractFlagsAndSessionSettingsFromURLParams(e)}get localConfig(){return{features:{...this._localFeatures,...this._sessionFeatures},settings:{...this._localSettings,...this._sessionSettings}}}_extractFlagsAndSessionSettingsFromURLParams(e){try{if(e.has(r.w$)&&(this._sessionFeatures={},this._sessionStorage?.removeItem(s)),e.has(r.VP)){e.getAll(r.VP).forEach((e=>{this._sessionFeatures[e]=!0}))}if(e.has(r.wC)){e.getAll(r.wC).forEach((e=>{this._sessionFeatures[e]=!1}))}const t={};e.forEach(((e,i)=>{if(i.startsWith(r.L)){const s=i.substring(r.L.length),n=t[s];void 0===n||Array.isArray(n)?Array.isArray(n)?n.push(e):t[s]=this._parseSettingParam(e):t[s]=[String(n),e]}})),Object.keys(t).forEach((e=>{this._sessionSettings[e]=t[e]}))}catch(e){console.warn("error extracting feature flags and/or session settings overrides from URL params",e)}}_parseSettingParam(e){const t=e.toLowerCase();return"true"===t||"false"!==t&&(isNaN(Number(e))?e:Number(e))}persistURLConfigToSessionStorage(){try{this._sessionStorage?.setItem(s,JSON.stringify(this._sessionFeatures)),this._sessionStorage?.setItem(n,JSON.stringify(this._sessionSettings))}catch(e){console.warn("error persisting session config to session storage",e)}}clearSessionStorage(){try{this._sessionFeatures={},this._sessionSettings={},this._sessionStorage?.removeItem(s),this._sessionStorage?.removeItem(n)}catch(e){console.warn("error clearing session storage",e)}}clearLocalStorage(){try{this._localFeatures={},this._localSettings={},this._localStorage?.removeItem(s),this._localStorage?.removeItem(n)}catch(e){console.warn("error clearing local storage",e)}}clear(){this.clearSessionStorage(),this.clearLocalStorage()}setFeature(e,t,i){this.setFeatures({[e]:t},i)}setFeaturesToValue(e,t,i){const r={};e.forEach((e=>{r[e]=t})),this.setFeatures(r,i)}setFeatures(e,t){try{const i="session"===t?this._sessionFeatures:this._localFeatures;Object.assign(i,e);const r="session"===t?this._sessionStorage:this._localStorage;if(!r)return void console.warn(`${t} storage is required to use setFeatures. in-memory setting only`);r.setItem(s,JSON.stringify(i))}catch(e){console.warn(`error setting features in ${t} storage. in-memory setting only`,e)}}setSetting(e,t,i="session"){this.setSettings({[e]:t},i)}setSettings(e,t="session"){try{const i="session"===t?this._sessionSettings:this._localSettings;Object.assign(i,e);const r="session"===t?this._sessionStorage:this._localStorage;if(!r)return void console.warn(`${t} storage is required to use setSettings. in-memory setting only`);r.setItem(n,JSON.stringify(i))}catch(e){console.warn(`error setting settings in ${t} storage. in-memory setting only`,e)}}removeSettings(e,t="session"){try{const i="session"===t?this._sessionSettings:this._localSettings;e.forEach((e=>{delete i[e]}));const r="session"===t?this._sessionStorage:this._localStorage;if(!r)return void console.warn(`${t} storage is required to use removeSettings. in-memory removing only`);r.setItem(n,JSON.stringify(i))}catch(e){console.warn(`error removing settings in ${t} storage`,e)}}get _localStorage(){try{return window.localStorage}catch(e){return}}get _sessionStorage(){try{return window.sessionStorage}catch(e){return}}_loadFromBrowserStorage(){this._localFeatures=this._loadFeaturesFromStorage("local"),this._localSettings=this._loadSettingsFromStorage("local"),this._sessionFeatures=this._loadFeaturesFromStorage("session"),this._sessionSettings=this._loadSettingsFromStorage("session");const e=this.localConfig;for(const t of Object.keys(e.features)){const i=this._sessionFeatures[t]?"session":"local";console.info(`BrowserLocalConfig: feature[${t}] = ${e.features[t]} (${i} storage)`)}for(const t of Object.keys(e.settings)){const i=this._sessionSettings[t]?"session":"local";console.info(`BrowserLocalConfig: setting[${t}] = ${e.settings[t]} (${i} storage)`)}}_loadFeaturesFromStorage(e){try{const t="session"===e?this._sessionStorage:this._localStorage;if(!t)return console.warn(`${e} storage not available. Cannot load features`),{};const i=t.getItem(s);return i?JSON.parse(i):{}}catch(t){return console.warn(`error loading features from ${e} storage`,t),{}}}_loadSettingsFromStorage(e){try{const t="session"===e?this._sessionStorage:this._localStorage;if(!t)return console.warn(`${e} storage not available. Cannot load settings`),{};const i=t.getItem(n);return i?JSON.parse(i):{}}catch(t){return console.warn(`error loading settings from ${e} storage`,t),{}}}}},473450:(e,t,i)=>{var r;i.d(t,{R:()=>r}),function(e){e.appConfig="app_config",e.browserFlags="browser_flags",e.expClient="exp_client",e.floodgate="floodgate",e.moduleConfig="module_config",e.releasePlane="release_plane",e.rollout="rollout"}(r||(r={}))},328179:(e,t,i)=>{i.d(t,{J:()=>o});var r=i(352161),s=i(273393),n=i(246709);class o{constructor(e){if(this._buildStateObservers=new Map,this._setConfiguration=async()=>{try{const e=this._rrsDynamicConfig;this._rrsDynamicConfig=await this._rrApiClient.getConfiguration();for(const[t,i]of this._buildStateObservers.entries()){const r=this._rrsDynamicConfig?.builds[t]?.state;e?.builds[t]?.state!==r&&i(r)}}catch(e){console.error("Error while syncing dynamic config",e)}},this._initializedPromise=new Promise((e=>{this._initializedPromiseResolver=e})),!o.isConfigured())return console.info("At least one of the required settings is missing. Skipping heartbeat initialization."),void this._initializedPromiseResolver();this._host=e,this._rrApiClient=new r.V({rrEntryName:n.q.rrEntryName.value,rrEntryConfigName:n.q.rrEntryConfigName.value,rrTrafficTargetName:n.q.rrTrafficTargetName.value,bundleHash:n.q.rrBuildSha.value,host:this._host})}static isConfigured(){return""!==n.q.rrEntryName.value&&""!==n.q.rrEntryConfigName.value&&""!==n.q.rrTrafficTargetName.value&&""!==n.q.rrBuildSha.value}async getDynamicConfig(){return await this._initializedPromise,this._rrsDynamicConfig}initAndScheduleSyncIfNeeded(){o.isConfigured()?setTimeout((async()=>{await this._setConfiguration(),this._initializedPromiseResolver(),this._scheduleDynamicConfigSync()}),7e4):this._initializedPromiseResolver()}async getBuildState(e){return await this._initializedPromise,this.getBuildStateSync(e)}getBuildStateSync(e){return void 0===this._rrsDynamicConfig||void 0===this._rrsDynamicConfig.builds||void 0===this._rrsDynamicConfig.builds[e]?s.C.unknown:this._rrsDynamicConfig.builds[e].state}addBuildStateObserver(e,t){this._buildStateObservers.set(e,t)}_scheduleDynamicConfigSync(){setInterval(this._setConfiguration,60*n.q.rrConfigSyncInterval.value*1e3)}}},246709:(e,t,i)=>{i.d(t,{q:()=>g});var r=i(107169);const s=new r.pE("floodgateApiKey",""),n=new r.pE("floodgateClientId","horizon-platform"),o=new r.NE("floodgateFeaturesUrl","https://p13n-stage.adobe.io/fg/api/v3/feature",{prod:"https://p13n.adobe.io/fg/api/v3/feature"}),a=new r.pE("rrEntryName",""),c=new r.pE("rrEntryConfigName",""),d=new r.pE("rrTrafficTargetName",""),l=new r.pE("rrBuildSha",""),h=new r.pE("rrConfigSyncInterval",10),u=new r.pE("consoleLogLevel-AppConfig","info"),g={enabledLogLevelAppConfig:new r.pE("enabledLogLevel-AppConfig","none"),consoleLogLevelAppConfig:u,floodgateApiKey:s,floodgateClientId:n,floodgateFeaturesUrl:o,rrEntryName:a,rrEntryConfigName:c,rrTrafficTargetName:d,rrBuildSha:l,rrConfigSyncInterval:h}},666013:(e,t,i)=>{i.d(t,{L:()=>s});var r=i(246709);class s{constructor(e){this._appConfig=e,this._appConfig.attach(r.q),this._initPromise=this._init()}async getEnabledFeatures(e){return await this._initPromise,this._getAllEnabledFeatures(e)}async _init(){this._host=await this._appConfig.getHost(),this._apiKey=r.q.floodgateApiKey.value,this._clientId=r.q.floodgateClientId.value,this._featuresUrl=r.q.floodgateFeaturesUrl.value}async _getAllEnabledFeatures(e){try{const t=await this._callFeaturesApi(e);return this._extractFeaturesFromApiResponse(t)}catch(e){return console.warn("Caught error while trying to obtain FloodGate features",e),{}}}_extractFeaturesFromApiResponse(e){if(void 0===e.releases)return{};const t={};return e.releases.forEach((e=>{e.features.forEach((e=>t[e]=!0))})),t}async _callFeaturesApi(e){const t=this._getFeaturesUrl(),i=await this._getRequestHeaders(e),r=await this._host.fetch(t,{method:"GET",headers:i});return await r.json()}_getFeaturesUrl(){return`${this._featuresUrl}?clientId=${this._clientId}`}async _getRequestHeaders(e){const t={"x-api-key":this._apiKey,"Content-Type":"application/json"};return void 0!==e&&(t.Authorization=`Bearer ${e}`),t}}},24387:(e,t,i)=>{i.d(t,{Y:()=>s});var r=i(666013);class s{constructor(e){this._resyncScheduled=!1,this._updateListeners={},this._appConfig=e,this._initFloodgatePromise=new Promise(((e,t)=>{this._resolveFloodgateFeatures=e})),this._floodgateConnector=this._createFloodgateConnector(),this._initEnabledFeatures()}static getInstance(e){return void 0===s._instance&&(s._instance=new s(e)),s._instance}_createFloodgateConnector(){return new r.L(this._appConfig)}async syncNow(){return void 0===this._onDemandSyncPromise&&(this._onDemandSyncPromise=new Promise(((e,t)=>{setTimeout((async()=>{try{await this._resyncFeatures(!1),e()}catch(e){t(e)}finally{this._onDemandSyncPromise=void 0}}))}))),this._onDemandSyncPromise}async getFeatureState(e){return(await this._initFloodgatePromise)[e]??!1}registerForUpdates(e,t){if(!0!==e.floodgateData.dynamic)throw new Error(`Cannot register feature "${e.name}" for updates because it is not dynamic.`);this._updateListeners[e.name]=t,this._resyncScheduled||this._scheduleResync()}async _initEnabledFeatures(){const e=await this._getAccessToken(),t=await this._floodgateConnector.getEnabledFeatures(e);this._resolveFloodgateFeatures(t)}async _resyncFeatures(e=!0){const t=await this._getAccessToken();void 0===t&&console.warn("AppConfig: Floodgate API will be called without an access token.");const i=await this._floodgateConnector.getEnabledFeatures(t);for(const e of Object.keys(this._updateListeners)){const t=i[e]??!1;try{this._updateListeners[e](t)}catch(i){console.warn(`An error was caught when trying to update feature "${e}" with state "${t}":`,i)}}e&&this._scheduleResync()}_scheduleResync(){setTimeout((async()=>{this._resyncFeatures()}),s.RESYNC_INTERVAL),this._resyncScheduled=!0}async _getAccessToken(e=5e3){const t=new Promise(((t,i)=>{setTimeout((()=>t(void 0)),e)})),i=await Promise.race([t,this._appConfig.getAccessTokenProvider()]);if(void 0!==i){console.info("AppConfig: Got IMS access token provider");const e=await i.getAccessTokenValue();if(void 0===e)return e;const t=e.split(".");if(t&&3===t.length)try{const i=atob(t[1]);return"guest"===JSON.parse(i).atp?void 0:e}catch(t){return e}return e}console.warn(`AppConfig: No IMS access token provider received in ${e} ms`)}}s.RESYNC_INTERVAL=3e5},549950:(e,t,i)=>{i.d(t,{y:()=>o});var r=i(785778);const s={[r.QY.Edge]:/(?:Edge|Edg(?:A|iOS)?)\/(\d+\.[\d.]+)/,[r.QY.Firefox]:/(?:Firefox|FxiOS)\/(\d+(\.\d+)?)/,[r.QY.Chrome]:/(?:Chrome|CriOS)\/(\d+\.[\d.]+)/,[r.QY.Safari]:/version\/(\d+(\.?_?\d+)+)/i,[r.QY.Samsung]:/(?:SamsungBrowser)\/(\d+\.[\d.]+)/},n={[r.OS.Windows]:/Windows NT (\d+\.\d+)/,[r.OS.Mac]:/Mac OS X (\d+([._]\d+)*)/,[r.OS.iOS]:/OS (\d+([._]\d+)*)/,[r.OS.iPadOS]:/OS (\d+([._]\d+)*)/,[r.OS.Android]:/Android (\d+(\.\d+)*)/,[r.OS.ChromeOS]:/CrOS(?: [a-z0-9-_.]+)? (\d+(\.\d+)*)/};class o{constructor(e){this._navigator=e}get deviceOs(){return this._deviceOs??(this._deviceOs=this._getDeviceOS())}get deviceModel(){return this._deviceModel??(this._deviceModel=this._getDeviceModel())}get deviceOsVersion(){return this._deviceOsVersion??(this._deviceOsVersion=this._getDeviceOSVersion())}get webBrowser(){return this._webBrowser??(this._webBrowser=this._getWebBrowser())}get webBrowserVersion(){return this._webBrowserVersion??(this._webBrowserVersion=this._getWebBrowserVersion())}get platformIsMacLike(){return this.deviceOs===r.OS.Mac||this.deviceOs===r.OS.iOS}get isMacDevice(){return this.deviceOs===r.OS.Mac}get isAndroidDevice(){return this.deviceOs===r.OS.Android}get isLinuxDevice(){return this.deviceOs===r.OS.Linux}get isIOSDevice(){return this.deviceOs===r.OS.iOS}get isIPadOSDevice(){return this.deviceOs===r.OS.iPadOS}get isChromeOSDevice(){return this.deviceOs===r.OS.ChromeOS}get isMobile(){return this.isIOSDevice||this.isAndroidDevice}get isChromeBrowser(){return this.webBrowser===r.QY.Chrome}get isFirefoxBrowser(){return this.webBrowser===r.QY.Firefox}get isEdgeBrowser(){return this.webBrowser===r.QY.Edge}get isSafariBrowser(){return this.webBrowser===r.QY.Safari}get isSamsungBrowser(){return this.webBrowser===r.QY.Samsung}get isMobileWeb(){return this.isMobile&&!this.isMobileWebView}get isEmbed(){if("undefined"==typeof window||void 0===window.location)return!1;return"true"===new URL(window.location.href).searchParams.get("embed")}get isEmbedDesktop(){if(!this.isEmbed)return!1;return"desktop"===new URL(window.location.href).searchParams.get("platform")}get isEmbedWeb(){if(!this.isEmbed)return!1;return"web"===new URL(window.location.href).searchParams.get("platform")}get isMobileWebView(){return this.webBrowser===r.QY.WebView}get isIOSApp(){return this.isIOSDevice&&Boolean(this._window?.webkit?.messageHandlers?.hzMobile?.postMessage)}get isIPadApp(){return this.isIPadOSDevice&&Boolean(this._window?.webkit?.messageHandlers?.hzMobile?.postMessage)}get isAndroidApp(){return Boolean(this._window?.hzMobile?.postMessage)}get isChromeOSWeb(){return this.isChromeOSDevice&&!this.isAndroidApp}get _window(){return"undefined"!=typeof window?window:void 0}async isBraveBrowser(){const e=this._navigator;return void 0===this._isBraveBrowser&&(this._isBraveBrowser=await(e.brave?.isBrave?.())??!1),this._isBraveBrowser}_getDeviceOS(){const e=this._navigator?.userAgent??"",t=this._navigator?.maxTouchPoints??0;return/\bwindows nt\b/i.test(e)?r.OS.Windows:/\bMacintosh\b/.test(e)?t>0?r.OS.iPadOS:r.OS.Mac:/\biPad\b/.test(e)?r.OS.iPadOS:/\biPhone|iPod\b/.test(e)?r.OS.iOS:/\bAndroid\b/.test(e)?r.OS.Android:/\bCrOS\b/.test(e)?r.OS.ChromeOS:/\bLinux\b/.test(e)?r.OS.Linux:r.OS.Unknown}_getDeviceOSVersion(){const e=n[this.deviceOs];if(e){const t=this._navigator.userAgent.match(e);if(Array.isArray(t)&&"string"==typeof t[1])return t[1].replace(/_/g,".")}return""}_getWebBrowser(){const e=this._navigator?.userAgent;return this.isAndroidApp||this.isIOSApp||this.isIPadApp?r.QY.WebView:/SamsungBrowser/.test(e)?r.QY.Samsung:/Chrome|CriOS/.test(e)&&!/Edg|OPR|Opera|OPiOS|Vivaldi|YaBrowser|Avast|VivoBrowser|GSA/.test(e)?r.QY.Chrome:/Firefox|FxiOS/.test(e)?r.QY.Firefox:/Edg[eA]?/.test(e)?r.QY.Edge:/Safari/.test(e)&&!/Chrome|CriOS|FxiOS|Edg|OPR|Opera|OPiOS|Vivaldi|YaBrowser|Avast|VivoBrowser|GSA/.test(e)?r.QY.Safari:r.QY.Unknown}_getWebBrowserVersion(){const e=s[this.webBrowser];if(e){const t=this._navigator.userAgent.match(e);if(Array.isArray(t)&&t.length>=2&&"string"==typeof t[1])return t[1]}return""}async _getDeviceModel(){return(await(this._navigator.userAgentData?.getHighEntropyValues?.(["model"])))?.model||"Not available"}}},255850:(e,t,i)=>{i.d(t,{qD:()=>n});var r=i(549950),s=i(785778);class n extends EventTarget{get deviceOs(){return this.browserOSUtils.deviceOs}get deviceModel(){return this.browserOSUtils.deviceModel}get deviceOsVersion(){return this.browserOSUtils.deviceOsVersion}get webBrowser(){return this.browserOSUtils.webBrowser}get platformIsMacLike(){return this.browserOSUtils.platformIsMacLike}get isMacDevice(){return this.browserOSUtils.isMacDevice}get isAndroidDevice(){return this.browserOSUtils.isAndroidDevice}get isLinuxDevice(){return this.browserOSUtils.isLinuxDevice}get isIOSDevice(){return this.browserOSUtils.isIOSDevice}get isIPadOSDevice(){return this.browserOSUtils.isIPadOSDevice}get webBrowserVersion(){return this.browserOSUtils.webBrowserVersion}get webBrowserInfo(){return{browser:this.webBrowser,version:this.webBrowserVersion}}get isChromeOSDevice(){return this.browserOSUtils.isChromeOSDevice}get hasCoarsePointer(){return this._coarsePointerQuery?.matches??!1}get hasFinePointer(){return this._finePointerQuery?.matches??!1}get isTouchable(){return this.hasCoarsePointer}get isDeviceTouchOnly(){return this.isTouchable&&!this.hasFinePointer}get isDeviceFinePointerOnly(){return this.hasFinePointer&&!this.isTouchable}get isChromeBrowser(){return this.browserOSUtils.isChromeBrowser}get isFirefoxBrowser(){return this.browserOSUtils.isFirefoxBrowser}get isEdgeBrowser(){return this.browserOSUtils.isEdgeBrowser}get isSafariBrowser(){return this.browserOSUtils.isSafariBrowser}get isSamsungBrowser(){return this.browserOSUtils.isSamsungBrowser}isBraveBrowser(){return this.browserOSUtils.isBraveBrowser()}get isMobileWebView(){return this.browserOSUtils.isMobileWebView}get isAndroidApp(){return this.browserOSUtils.isAndroidApp}get isIOSApp(){return this.browserOSUtils.isIOSApp}get isIPadApp(){return this.browserOSUtils.isIPadApp}get isChromeOSWeb(){return this.browserOSUtils.isChromeOSWeb}get isMobileWeb(){return this.browserOSUtils.isMobileWeb}get isEmbedDesktop(){return this.browserOSUtils.isEmbedDesktop}get isEmbed(){return this.browserOSUtils.isEmbed}get deviceMemoryCategory(){const e=this.browserOSUtils.deviceOs;return e===s.OS.Mac||e===s.OS.Windows||e===s.OS.Linux?s.L9.high:e===s.OS.ChromeOS?s.L9.medium:s.L9.low}get platformType(){return this.isIOSApp?s.zh.iOSApp:this.isIPadApp?s.zh.iPadOSApp:this.isAndroidApp?s.zh.AndroidApp:this.isChromeOSWeb?s.zh.ChromeOSApp:this.isMobileWeb?s.zh.MobileWeb:s.zh.DesktopWeb}get platformTypeDetail(){if(this.isIOSApp)return s.oF.iOSApp;if(this.isIPadApp)return s.oF.iPadOSApp;if(this.isAndroidApp)return s.oF.AndroidApp;if(this.isChromeOSWeb)return s.oF.DesktopWeb;if(this.isMobileWeb){if(this.isAndroidDevice)return s.oF.MobileWebAndroid;if(this.isIOSDevice)return s.oF.MobileWebIOS;if(this.isIPadOSDevice)return s.oF.MobileWebIPadOS}return s.oF.DesktopWeb}constructor(e,t){super(),this._matchMedia=t,this._coarsePointerQuery=this._matchMedia("(any-pointer: coarse)"),this._finePointerQuery=this._matchMedia("(pointer: fine)"),this.browserOSUtils=new r.y(e)}}},785778:(e,t,i)=>{var r,s,n,o,a;i.d(t,{L9:()=>n,OS:()=>r,QY:()=>s,oF:()=>a,zh:()=>o}),function(e){e.Windows="Windows",e.ChromeOS="ChromeOS",e.Linux="Linux",e.Mac="Mac",e.iOS="iOS",e.iPadOS="iPadOS",e.Android="Android",e.Unknown="Unknown"}(r||(r={})),function(e){e.Chrome="Chrome",e.Firefox="Firefox",e.Edge="Edge",e.Safari="Safari",e.Samsung="Samsung",e.WebView="NA",e.Unknown="Unknown"}(s||(s={})),function(e){e.low="low",e.medium="medium",e.high="high"}(n||(n={})),function(e){e.MobileWeb="mobile-web",e.DesktopWeb="desktop-web",e.iOSApp="ios-app",e.iPadOSApp="ipad-app",e.ChromeOSApp="chrome-app",e.AndroidApp="android-app"}(o||(o={})),function(e){e.DesktopWeb="desktop-web",e.MobileWebAndroid="mobile-web-android",e.MobileWebIOS="mobile-web-iOS",e.MobileWebIPadOS="mobile-web-ipadOS",e.iOSApp="mobile-app-iOS",e.iPadOSApp="mobile-app-ipadOS",e.AndroidApp="mobile-app-android"}(a||(a={}))},990779:(e,t,i)=>{i.d(t,{A9:()=>n,eW:()=>r,st:()=>a,su:()=>s,xn:()=>o});var r=(e=>(e.default="default",e.noStore="no-store",e.reload="reload",e.noCache="no-cache",e.forceCache="force-cache",e.onlyIfCached="only-if-cached",e))(r||{}),s=(e=>(e.omit="omit",e.sameOrigin="same-origin",e.include="include",e))(s||{}),n=(e=>(e.follow="follow",e.error="error",e.manual="manual",e))(n||{}),o=(e=>(e.noReferrer="no-referrer",e.noReferrerWhenDowngrade="no-referrer-when-downgrade",e.origin="origin",e.originWhenCrossOrigin="origin-when-cross-origin",e.sameOrigin="same-origin",e.strictOrigin="strict-origin",e.strictOriginWhenCrossOrigin="strict-origin-when-cross-origin",e.unsafeURL="unsafe-url",e))(o||{}),a=(e=>(e[e.Browser=0]="Browser",e[e.Node=1]="Node",e[e.Worker=2]="Worker",e))(a||{})},545276:(e,t,i)=>{i.d(t,{f:()=>Ee});var r=i(990779),s=i(953853),n=i(255850),o=i(971920),a=i(700537),c=i(472568),d=i(425243);const l=/access_token=[0-9A-Za-z-._%&=]+/,h="horizon_app_access_country",u=s.CA.DEVICE_NAME,g=s.CA.PLATFORM_TYPE,_=s.CA.EVENT_USER_AGENT,p=s.CA.EVENT_THREAD,f=s.CA.EVENT_ENVIRONMENT,v=s.CA.EVENT_ENVIRONMENT_TYPE,m=s.CA.MOBILE_ID,w=s.CA.MOBILE_INSTALL_DATE,y=s.CA.DEVICE_HEIGHT,E=s.CA.DEVICE_WIDTH,S=s.CA.EVENT_BUILD,b=s.CA.EVENT_BUILD_BRANCH,C=s.CA.EVENT_BUNDLE_HASH,O=s.CA.EVENT_OVERRIDES_CONFIGURATION_HASH,A=s.CA.EVENT_SOURCE_CLIENT_ID,F=s.CA.EVENT_SOURCE_NAME,P=s.CA.EVENT_SOURCE_VERSION,I=s.CA.EVENT_MOBILE_APP_VERSION,T=s.CA.EVENT_NETWORK_TYPE,R=s.CA.CONTEXT_WEBVIEW_ROLE,D=s.CA.EVENT_MOBILE_BUILD_TYPE,N=s.CA.EVENT_REFERRER,L=s.CA.EVENT_URL,x=s.CA.EVENT_LOCALE,U=s.CA.DISPLAYED_LANGUAGE,k=s.CA.PROFILE_COUNTRY,M=s.CA.ACCESS_COUNTRY,B=s.CA.ENTITLEMENT_TYPE,V=s.CA.GEN_AI_TOTAL_CREDITS,z=s.CA.EVENT_SESSION_ID,W=s.CA.IS_NEW_USER,j=s.CA.CUSTOM_USER_ADMIN_ROLE,G=s.CA.EVENT_MCID_GUID,q=s.CA.SESSION_RECORDING_URL,H=s.CA.EVENT_CONTEXT_GUID,Y=s.CA.EVENT_USER_GUID,$=s.CA.EVENT_PROFILE_GUID,Q=s.CA.USER_SERVICE_CODE,K=s.CA.USER_SERVICE_LEVEL,X=s.CA.USER_ACCOUNT_TYPE,J=s.CA.IS_EDU_USER,Z=s.CA.CUSTOM_USER_ID_TYPE,ee=s.CA.CUSTOM_USER_OFFERING,te=s.CA.EVENT_GUID,ie=s.CA.EVENT_CATEGORY,re=s.CA.CONTEXT_USER_ROLE,se=s.CA.CONTEXT_GUID,ne=s.CA.CONTENT_SCHEMA_VERSION,oe=s.CA.EXPERIMENTS_ASSIGNED,ae=s.CA.EXPERIMENTS_EXPOSED,ce=s.CA.CUSTOM_REFERRER_APP,de=s.CA.CUSTOM_REFERRER_ACTION,le=s.CA.CUSTOM_REFERRER_ASSET_ID,he=s.CA.CUSTOM_REFERRER_INTENT,ue=s.CA.CUSTOM_REFERRER_LANDING_TAB,ge=s.CA.EVENT_SOURCE_OS_VERSION,_e=s.CA.EVENT_SOURCE_OS_NAME,pe=s.CA.EVENT_SOURCE_DEVICE_MODEL,fe=s.CA.EVENT_SOURCE_BROWSER_NAME,ve=s.CA.EVENT_SOURCE_BROWSER_VERSION,me=s.CA.EVENT_SOURCE_PLATFORM_TYPE_DETAIL,we=[_,S,b,C,O,se,N,L,x,M,k,B,v,f,G,q,z,Y,X,W,j,J,Z,ee,oe,ae,Q,K,A,g,T,R,u,y,E,ce,de,le,he,ue,_e,ge,pe,fe,me,U],ye=[ge,m,w];class Ee{async _initAccessCountry(){await this._accessCountryPromise}async _initIMSUserData(){await this._IMSUserData}async _initIMSIdData(){await this._IMSIdData}_createInitTimeout(){return new Promise(((e,t)=>{this._initTimeoutId=setTimeout((()=>{e()}),3e3)}))}constructor(e,t,i,r){this._initTimeoutId=0,this._embedParams=[],this._initAttributesPromises=[],this._accessCountryPromise=new Promise(((e,t)=>{this._resolveAccessCountry=()=>{this._resolveAccessCountry=void 0,e()}})),this._IMSUserData=new Promise(((e,t)=>{this._resolveIMSUserData=()=>{this._resolveIMSUserData=void 0,e()}})),this._IMSIdData=new Promise(((e,t)=>{this._resolveIMSIdData=()=>{this._resolveIMSIdData=void 0,e()}})),this._windowResizeHandler=(0,o.Z)((()=>this.extractDeviceDimensions(window)),s.zi),this._windowResizeHandlerLoaded=!1,this._initialized=!1,this._data={},this._listeners=new Set,this._hostPromise=e,this._configPromise=i,this._marketingTechService=r,this._data[z]=t,this._data[M]="",this.assignedExperiments="",this.exposedExperiments="",this.assignedOverridesConfigurationHash="",this._initAttributesPromises=[this._hostPromise,this._configPromise,this._initDeviceContext(),this._initMcidGuidContext(),this._initAppContext(),this._initPageContext(),this._initAccessCountry(),this._initIMSUserData(),this._initDataFromBrowserService(),this._initIMSIdData()];const n=this._createInitTimeout(),a=Promise.allSettled(this._initAttributesPromises);this._initPromise=Promise.race([a,n]),this._initDocContext(),this.extractAccessCountry()}async _initDataFromBrowserService(){(await this._hostPromise).executionEnvironment()===r.st.Browser&&(this._browserService??(this._browserService=new n.qD(window.navigator,window.matchMedia.bind(window))),this._data[_e]=this._browserService.deviceOs,this._data[ge]=this._browserService.deviceOsVersion,this._data[ve]=this._browserService.webBrowserVersion,this._data[me]=this._browserService.platformTypeDetail,this._data[fe]=this._browserService.webBrowser,this._data[pe]=await this._browserService.deviceModel)}async _initDeviceContext(){const e=await this._hostPromise,t=e.deviceAgent();switch(this._data[_]=t,this._data[T]=this._getNetworkTypeForAnalytics(e),e.executionEnvironment()){case r.st.Browser:{this._data[p]="main";const e=t.match(/(iPad)|(iPhone)|(iPod)|(android)|(webOS)/i),i=t.match(/(Macintosh)/i),s=window?.navigator?.maxTouchPoints>0;e?!1===(0,a.eW)(r.st.Browser)?this._data[g]="mobile-web":((0,a.PR)()&&(this._data[g]="android"),(0,a.te)()&&(this._data[g]="iOS")):this._data[g]=i&&s?"mobile-web":"desktop-web",this._data[u]=this.extractDeviceName(t),window?.addEventListener("resize",this._windowResizeHandler),this._windowResizeHandlerLoaded=!0,this.extractDeviceDimensions(window);break}case r.st.Node:this._data[p]="main";break;case r.st.Worker:this._data[p]="worker-thread"}}_getNetworkTypeForAnalytics(e){const t=e.connection()?.effectiveType,i=e.connection()?.type;return void 0===t?s.kC.NOT_SPECIFIED:void 0===i?t:`${t}/${i}`}async _initAppContext(){const e=await this._configPromise;this._data[S]=`${e.includeIngestBuildPrefix?"prod"===e.envName?"prod:":"stage:":""}${e.buildInfo.sha}`,this._data[b]=e.buildInfo.branch,this._data[C]=e.bundleHash,this._data[ie]=e.ingestAppCategory,this._data[f]=e.envName,this._data[v]=e.env,this._data[F]=e.appSAPCode,this._data[P]=e.appVersion}async _initPageContext(){if((await this._hostPromise).executionEnvironment()===r.st.Browser){const e=this._documentHref();this._data[L]=e.replace(l,""),this._data[N]=document.referrer}}_documentHref(){return document.location.href}async _initMcidGuidContext(){const e=await this._hostPromise,t=e.deviceLanguage();this._data[x]=t;const i=(await this._configPromise).useExperienceEdge;e.executionEnvironment()===r.st.Browser&&i&&(this.mcidGuid=await this._marketingTechService.mcidGuid())}_setAndResolveAccessCountry(e){this._data[M]=e,this._broadcastUpdate([M]),this._resolveAccessCountry&&this._resolveAccessCountry()}async fetchGeo2location(){const e=await fetch("https://geo2.adobe.com/json/");return await e.text()}async extractAccessCountry(){if((await this._hostPromise).executionEnvironment()===r.st.Browser){const e=sessionStorage.getItem(h);if(e)this._setAndResolveAccessCountry(e);else try{const e=await this.fetchGeo2location();if(e){const t=JSON.parse(e),i=String(t.country);sessionStorage.setItem(h,i),this._setAndResolveAccessCountry(i)}}catch(e){console.warn("Failed to get location data from geo2.adobe.com")}}}_initDocContext(){this._data[se]="",this._data[ne]="",this._data[re]=""}async userIdInitialized(){await this._initIMSUserData()}async initialized(){this._initialized||(await this._initPromise,clearTimeout(this._initTimeoutId),this._initialized=!0)}isInitialized(){return this._initialized}shutdown(){this._windowResizeHandlerLoaded&&window?.removeEventListener("resize",this._windowResizeHandler)}updateShellAppContext(e){e&&0!==Object.keys(e).length&&!0===(0,a.eW)(r.st.Browser)&&(this.updateFromPayload(e),this._broadcastUpdate(Object.keys(e)))}adornEventData(e){Object.keys(this._data).forEach((t=>{e[t]||(e[t]=this._data[t])})),e[te]=e[te]||(0,c.Z)(),!e[se]&&this.currentAssetId&&(e[se]=this.currentAssetId),e[s.CA.EVENT_TIME_START]||(e[s.CA.EVENT_TIME_START]=(new Date).toISOString()),e[s.CA.EVENT_COUNT]||e[s.CA.EVENT_WORKFLOW]===s.kC.WORKFLOW_DEBUG||(e[s.CA.EVENT_COUNT]=1);const t=(0,d.T)();t&&(e[s.CA.SESSION_RECORDING_URL]=t)}addListener(e){this._listeners.add(e)}deleteListener(e){this._listeners.delete(e)}_callListeners(e){this._listeners.forEach((t=>{t(e)}))}generateInitPayload(){const e=Object.values(s.eN).filter((e=>Boolean(this._data[e]))),t=[...we,...e];if(!0===(0,a.eW)(r.st.Browser)){const e=Object.values(ye).filter((e=>Boolean(this._data[e])));t.push(...e)}return this._embedParams.length&&t.push(...this._embedParams),this._generatePayload(t)}_generatePayload(e){const t={};return e.forEach((e=>{t[e]=this._data[e]})),t}_broadcastUpdate(e){this._callListeners(this._generatePayload(e))}async updateFromPayload(e){await this.initialized();Object.keys(e).forEach((t=>{this._data[t]=e[t]}))}addContextGUID(e){this._data[H]=e}removeContextGUID(){delete this._data[H]}set imsProfile(e){const t=e.account_type,i=[];let r;if(this._data[Y]=String(e.userId),this._data[X]=String(t),e.profileId&&(this._data[$]=String(e.profileId),i.push($)),e.countryCode&&(this._data[k]=String(e.countryCode),i.push(k)),e.serviceAccounts&&(r=e.serviceAccounts.find((e=>"creative_cloud"===e.serviceCode))),this._data[K]=r?r.serviceLevel:"",this._data[Q]=r?r.serviceCode:"",e.email){const t=e.email.toLowerCase();(t.endsWith("@adobe.com")||t.endsWith("@adobetest.com"))&&(this._data[Q]+="_adobe")}this._broadcastUpdate([Y,X,K,Q,...i]),this._resolveIMSUserData&&this._resolveIMSUserData()}set imsIdData(e){const t=e.client_id||"no-client-id";this._data[A]=t,this._broadcastUpdate([A]),this._resolveIMSIdData&&this._resolveIMSIdData()}set pageURL(e){this._data[L]=e.replace(l,""),this._broadcastUpdate([L])}get isInternalUser(){return String(this._data[Q]).endsWith("_adobe")}set accessCountry(e){this._setAndResolveAccessCountry(e)}get accessCountry(){return this._data[M]}set threadName(e){this._data[p]=e}get threadName(){return this._data[p]}get deviceName(){return this._data[g]}set mcidGuid(e){this._data[G]=e,this._broadcastUpdate([G])}get mcidGuid(){return this._data[G]}set expressEntitlementType(e){this._data[B]=e,this._broadcastUpdate([B])}get expressEntitlementType(){return this._data[B]}set genAITotalCredits(e){this._data[V]=String(e),this._broadcastUpdate([V])}get genAITotalCredits(){return Number(this._data[V])}set sessionRecordingUrl(e){this._data[q]=e,this._broadcastUpdate([q])}get sessionRecordingUrl(){return this._data[q]}set sessionId(e){this._data[z]=e,this._broadcastUpdate([z])}get sessionId(){return this._data[z]}get newUserStatus(){return this._data[W]}set newUserStatus(e){this._data[W]=e,this._broadcastUpdate([W])}get customUserAdminRole(){return this._data[j]}set customUserAdminRole(e){this._data[j]=e,this._broadcastUpdate([j])}get eduUserStatus(){return this._data[J]}set eduUserStatus(e){this._data[J]=e,this._broadcastUpdate([J])}get eduUserIdTypeStatus(){return this._data[Z]}set eduUserIdTypeStatus(e){this._data[Z]=e,this._broadcastUpdate([Z])}get userOffering(){return this._data[ee]}set userOffering(e){this._data[ee]=e,this._broadcastUpdate([ee])}get displayedLanguage(){return this._data[U]}set displayedLanguage(e){this._data[U]=e,this._broadcastUpdate([U])}get customUserIdTypeStatus(){return this._data[Z]}set customUserIdTypeStatus(e){this._data[Z]=e,this._broadcastUpdate([Z])}set userHasEditRights(e){this._data[re]=e?"editor":"viewer",this._broadcastUpdate([re])}set currentAssetId(e){this._data[se]=e,this._broadcastUpdate([se])}async setEmbedContextAndParams(e){this._embedParams=Object.keys(e),await this.updateFromPayload(e),this._broadcastUpdate(Object.keys(e))}set currentDocumentVersion(e){this._data[ne]=e,this._broadcastUpdate([ne])}set assignedExperiments(e){this._data[oe]=e,this._broadcastUpdate([oe])}set exposedExperiments(e){this._data[ae]=e,this._broadcastUpdate([ae])}get exposedExperiments(){return this._data[ae]}set assignedOverridesConfigurationHash(e){this._data[O]=e,this._broadcastUpdate([O])}extractDeviceDimensions(e){const t=e?.outerHeight,i=e?.outerWidth;this._data[y]&&0===t||(this._data[y]=String(t),this._data[E]=String(i),this._broadcastUpdate([y,E]))}extractDeviceName(e){const t=e.match("\\(([^)]+)\\)");return t?t[1]:e}get osVersion(){return this._data[ge]}get appVersion(){return this._data[P]}get appName(){return this._data[F]}get userId(){return this._data[Y]}get mobileAppVersion(){return this._data[I]}addCampaignProperties(e){if(e&&Object.keys(e).length>0)for(const t in e)this._data[t]=e[t]}get customReferrerApp(){return this._data[ce]}get customCampaingReferrerApp(){return this._data[s.eN.MV2]}get customReferrerIntent(){return this._data[he]}set mobileBuildType(e){this._data[D]=e}get mobileBuildType(){return this._data[D]}}},800646:(e,t,i)=>{i.d(t,{NH:()=>n});var r=i(953853),s=i(207268);class n{async shutdown(){await this._initializedPromise,clearInterval(this._queueIntervalHandle),this._queueIntervalHandle=void 0,await this._processQueueAsync()}constructor(e){this._eventDeliveryFunction=e,this._maxQueueLength=500,this._batchSize=10,this._isInitialized=!1,this._overflowedEventsCount=0,this._events=[]}async start(e){this._initializedPromise=this._processOnceInitialized(e),await this._initializedPromise}async _processOnceInitialized(e){this._isInitialized=!0,this._queueIntervalHandle=setInterval((()=>{this._processQueue()}),e),this._processQueue()}async initialized(){return this._initializedPromise}_isLowPriority(e){return e[r.CA.LOG_LEVEL]!==r.kC.LOG_LEVEL_ERROR}_isOverflow(){return this._events.length>this._maxQueueLength}_handleOverflow(){this._overflowedEventsCount++;let e=!1;for(let t=0;t<this._events.length;t++)if(this._isLowPriority(this._events[t])){e=!0,console.warn("EventQueue overflow with High Priority Event, dropping log event below error level."),this._events.splice(t,1);break}e||(console.error("EventQueue overflow, dropping important event."),this._events.shift())}queueEventData(e){this._events.push(e),this._isOverflow()&&this._handleOverflow(),this._isInitialized&&this._events.length>=this._batchSize&&this._processQueue()}async _processQueueAsync(){if(this._queueIsSending)return this._queueIsSending.promise;if(this._events.length){for(this._queueIsSending=new s.B;this._events.length>0;)try{const e=this._events.slice(0,Math.min(this._events.length,this._batchSize));await this._eventDeliveryFunction(e),this._events.splice(0,Math.min(e.length,this._batchSize))}catch(e){console.error("EventQueue: encountered an error trying to send events to Ingest",e);break}this._queueIsSending.resolve(),this._queueIsSending=void 0}}_processQueue(){this._queueIsSending||this._processQueueAsync()}get maxQueueLength(){return this._maxQueueLength}set maxQueueLength(e){this._maxQueueLength=e}get batchSize(){return this._batchSize}set batchSize(e){this._batchSize=e}get overflowedEventsCount(){return this._overflowedEventsCount}get queueIsSendingPromise(){return this._queueIsSending?.promise}get queueLength(){return this._events.length}}},26481:(e,t,i)=>{i.d(t,{h:()=>l});var r=i(990779),s=i(207268),n=i(953853),o=i(700537),a=i(255850);const c=["adobePrivacy:PrivacyConsent","adobePrivacy:PrivacyCustom","adobePrivacy:PrivacyReject"],d="PrivacyServiceError: Failed to load";class l{constructor(e,t){this._onLoadHandler=()=>{this._loadPromise?.isSettled||(window.adobePrivacy?this._loadPromise?.resolve():this._loadPromise?.reject("PrivacyServiceError: window.adobePrivacy API is not available after load event."))},this._hostConfigPromises=Promise.all([e,t]).then((([e,t])=>{this._config=t,this._host=e}))}addConsentChangeListener(e,t){this.load().then((()=>{if((0,o.eW)(r.st.Browser))return Promise.resolve();if(this._host.executionEnvironment()===r.st.Browser){if(this._browserService??(this._browserService=new a.qD(window.navigator,window.matchMedia.bind(window))),this._browserService.isEmbedDesktop)return Promise.resolve();this._addPrivacyListener(e),e()}})).catch((e=>{console.error(e),t([{[n.CA.EVENT_WORKFLOW]:"Debug",[n.CA.EVENT_SUBTYPE]:"log",[n.CA.EVENT_TYPE]:"failure",error:e}])}))}_addPrivacyListener(e,t=!1){const i=t?()=>{e(),c.forEach((e=>{window.removeEventListener(e,i)}))}:e;c.forEach((e=>{window.addEventListener(e,i)}))}_registerLoadListeners(){this._addPrivacyListener(this._onLoadHandler.bind(this),!0)}_registerConfigs(){const{otDomainId:e,footerLinkSelector:t,documentLanguage:i}=this._config,r={otDomainId:e};t&&(r.footerLinkSelector=t),i&&(r.documentLanguage=i),window.fedsConfig=window.fedsConfig||{privacy:r}}async _loadPrivacy(){if(this._host.executionEnvironment()===r.st.Browser){this._registerConfigs(),this._registerLoadListeners();const e=document.createElement("script");e.src=this._config.privacyUrl,e.async=!0,e.addEventListener("error",(()=>{!this._loadPromise?.isSettled&&this._loadPromise?.reject(d)})),document.head.appendChild(e)}else!this._loadPromise?.isSettled&&this._loadPromise?.resolve()}async load(){return this._loadPromise?this._loadPromise.promise:(this._loadPromise=new s.B,(0,o.eW)(r.st.Browser)?this._loadPromise?.promise:(await this._hostConfigPromises,this._host.executionEnvironment()===r.st.Browser&&(this._browserService??(this._browserService=new a.qD(window.navigator,window.matchMedia.bind(window))),this._browserService.isEmbedDesktop)||this._loadPrivacy().catch((()=>{!this._loadPromise?.isSettled&&this._loadPromise?.reject(d)})),this._loadPromise?.promise))}resolvePrivacyLoadInNativeAppShell(){this._loadPromise?.resolve()}rejectLoadPromise(){this._loadPromise?.reject(d)}}},700537:(e,t,i)=>{i.d(t,{PR:()=>n,eW:()=>o,te:()=>s});var r=i(990779);function s(){return"undefined"!=typeof window&&Boolean(window.webkit?.messageHandlers?.hzMobile?.postMessage)}function n(){return"undefined"!=typeof window&&Boolean(window.hzMobile?.postMessage)}function o(e){if(e===r.st.Browser)return s()||n()}},585791:(e,t,i)=>{i.d(t,{q:()=>C});var r=i(107169),s=i(571909);const n=new r.NK("env"),o=new r.NK("envName"),a=new r.NK("ingestApiKey"),c=new r.pE("aaTrackingServer","stats.adobe.com"),d=new r.pE("aaSecureTrackingServer","sstats.adobe.com"),l=new r.pE("bundleHash",""),h=new r.pE("ingestAppCategory","WEB"),u=new r.NK("appVersion"),g=new r.NK("appSAPCode"),_=new r.NK("ingestProject"),p=new r.NE("ingestHost","https://cc-api-data-stage.adobe.io",{prod:"https://cc-api-data.adobe.io"}),f=new r.NE("ingestHostAlwaysProd","https://cc-api-data.adobe.io",{}),v=new s.L0("ingest-host-always-prod-enabled",!1),m=new r.pE("ingestProcessingInterval",3e3),w=new r.pE("analyticsBufferLimit",500),y=new s.L0("use-experience-edge",!1),E=new s.L0("enableAnalytics",!0),S=new r.NE("launchUrl","https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/launch-2c94beadc94f-development.js",{stage:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/launch-5dd5dd2177e6.js",prod:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/launch-5dd5dd2177e6.min.js"}),b=new r.NE("marketingTechUrl","https://www.adobe.com/marketingtech/main.standard.qa.js",{stage:"https://www.adobe.com/marketingtech/main.standard.js",prod:"https://www.adobe.com/marketingtech/main.standard.min.js"}),C={env:n,envName:o,enableAnalytics:E,ingestAPIKey:a,ingestAppCategory:h,appVersion:u,appSAPCode:g,ingestProject:_,ingestHost:p,ingestHostAlwaysProd:f,ingestHostAlwaysProdEnabled:v,aaTrackingServer:c,aaSecureTrackingServer:d,bundleHash:l,ingestProcessingInterval:m,analyticsBufferLimit:w,aepConfigId:new r.NE("experience-edge-config-id","2a892ed7-c50f-4acf-8726-d41bd770ddbd",{prod:"28baacdc-56e1-4191-a72d-2b4086448495"}),useExperienceEdge:y,includeIngestBuildPrefix:new s.L0("include-ingest-build-prefix",!0),otDomainId:new r.NE("otDomainId","7a5eb705-95ed-4cc4-a11d-0cc5760e93db-test",{prod:"7a5eb705-95ed-4cc4-a11d-0cc5760e93db"}),privacyURL:new r.NE("privacyUrl","https://www.stage.adobe.com/etc.clientlibs/globalnav/clientlibs/base/privacy-standalone.js",{local:"https://www.stage.adobe.com/etc.clientlibs/globalnav/clientlibs/base/privacy-standalone.js",prod:"https://www.adobe.com/etc.clientlibs/globalnav/clientlibs/base/privacy-standalone.js"}),footerLinkSelector:new r.pE("footerLinkSelector",""),ingestWaitForAppStartup:new s.L0("ingest-wait-for-app-startup",!0),launchURL:S,marketingTechURL:b}},712992:(e,t,i)=>{i.d(t,{v:()=>o});var r=i(727325),s=i(549649),n=i(800646);class o{async shutdown(){await this._initializedPromise,await this._eventQueue.shutdown()}constructor(e,t){this._configPromise=t,this._ingestService=r.k.createInstance(e,t.then((e=>e.ingestConfig))),this._eventQueue=new n.NH(this._eventQueueDeliveryFunction.bind(this)),this._initializedPromise=this._processOnceInitialized()}async _processOnceInitialized(){await this._ingestService.initialized();const e=await this._configPromise;this._eventQueue.maxQueueLength=e.analyticsBufferLimit,await this._eventQueue.start(e.ingestProcessingInterval)}async initialized(){return this._initializedPromise}queueEventData(e){this._eventQueue.queueEventData(e)}async _eventQueueDeliveryFunction(e){const t={maxAttempts:3,shouldRetry:e=>!(e instanceof r.o&&!1===e.retryable),delay:500},i=(0,s.XD)(this._ingestService.sendEventData,t);await i(e)}}},727325:(e,t,i)=>{i.d(t,{k:()=>d,o:()=>c});var r=i(990779),s=i(953853),n=i(472568);const o=[s.CA.ERROR_FULL_STACK,s.CA.ERROR_LOG_METADATA,s.CA.EVENT_URL],a=[s.CA.LOG_METADATA,s.CA.ERROR_LOG_METADATA];class c extends Error{constructor(e){super(e),this.name="IngestAPIError",this.retryable=!0}}class d{constructor(e,t){this._appStartupHasCompleted=!1,this._appStartupCompleteTimeout=3e3,this._useKeepaliveForFetch=!1,this.sendEventData=this.sendEventData.bind(this),this._initPromise=Promise.all([t,e]).then((([e,t])=>{if(this._host=t,this._config=e,this._url=new URL("/ingest",this._config.ingestHost),!0===this._config.ingestWaitForAppStartup){if(this._host.executionEnvironment()!==r.st.Browser)return void(this._useKeepaliveForFetch=!0);this._windowBeforeUnloadPromise=new Promise((e=>{window.addEventListener("beforeunload",(()=>{this._useKeepaliveForFetch=!0,e()}))})),"hidden"===document.visibilityState&&(this._appStartupHasCompleted=!0,this._useKeepaliveForFetch=!0),this._setVisibilityChangePromise(),"complete"===document.readyState?this._appStartupHasCompleted=!0:this._windowOnloadPromise=new Promise((e=>{window.addEventListener("load",(()=>{e()}))}))}else this._appStartupHasCompleted=!0}))}_setVisibilityChangePromise(){this._windowVisibilityChangeHiddenPromise=new Promise((e=>{document.addEventListener("visibilitychange",(()=>{this._useKeepaliveForFetch="visible"!==document.visibilityState,e()}))}))}static createInstance(e,t){return new d(e,t)}async initialized(){await this._initPromise}_getHeaders(){return{"Content-Type":"application/json","x-api-key":this._config.ingestApiKey}}_adornSDMEvent(e){e[s.CA.EVENT_GUID]=e[s.CA.EVENT_GUID]||(0,n.Z)(),e[s.CA.EVENT_CATEGORY]=this._config.ingestAppCategory}_redactTokens(e){const t=/access_token=ey[0-9A-Za-z-._%=]+/g,i=/accessToken=ey[0-9A-Za-z-._%=]+/g,r=/Bearer ey[0-9A-Za-z-._%=]+/g;for(const i of o)this._redactSingleToken(e,i,t,"access_token=XXaccess_token_redactedXX");for(const t of a)this._redactSingleToken(e,t,r,"XXbearer_token_redactedXX"),this._redactSingleToken(e,t,i,"accessToken=XXaccess_token_redactedXX")}_redactSingleToken(e,t,i,r){if(e[t])if("string"!=typeof e[t])for(const s in e[t])this._redactSingleToken(e[t],s,i,r);else e[t]=e[t].replace(i,r)}_wrapSDMData(e){const t={};return t[s.CA.EVENT_PKG_INGEST_TYPE]=s.kC.INGEST_TYPE,e[s.CA.OVERRIDE_PKG_PROJECT]?(t[s.CA.EVENT_PKG_PROJECT]=e[s.CA.OVERRIDE_PKG_PROJECT],delete e[s.CA.OVERRIDE_PKG_PROJECT]):t[s.CA.EVENT_PKG_PROJECT]=this._config.ingestProject,t[s.CA.EVENT_PKG_TIME]=e[s.CA.EVENT_TIME_START]||(new Date).toISOString(),t[s.CA.EVENT_PKG_ENVIRONMENT]=this._config.envName,t[s.CA.EVENT_PKG_DATA]=e,t}_addPromiseToArrayIfDefined(e,t){void 0!==t&&e.push(t)}sendEventData(e){const t={headers:this._getHeaders(),body:{events:[]}};for(const i of e)this._adornSDMEvent(i),this._redactTokens(i),t.body.events.push(this._wrapSDMData(i));if(0===t.body.events.length)return Promise.resolve();let i="";try{i=JSON.stringify(t.body)}catch(e){const t=new c("JSON parsing an Ingest event body failed!");return t.retryable=!1,Promise.reject(t)}if(!1===this._appStartupHasCompleted){const e=[new Promise((e=>{setTimeout((()=>{e()}),this._appStartupCompleteTimeout)}))];return this._addPromiseToArrayIfDefined(e,this._windowOnloadPromise),this._addPromiseToArrayIfDefined(e,this._windowBeforeUnloadPromise),this._addPromiseToArrayIfDefined(e,this._windowVisibilityChangeHiddenPromise),Promise.race(e).then((()=>(this._appStartupHasCompleted=!0,this._sendRequest(i,t))))}return this._sendRequest(i,t)}_sendRequest(e,t){return this._host.fetch(this._url.href,{method:"POST",keepalive:this._useKeepaliveForFetch,cache:r.eW.default,credentials:r.su.omit,headers:t.headers,redirect:r.A9.follow,referrerPolicy:r.xn.noReferrer,body:e}).catch((e=>{throw new c(`Network request failed: ${e}`)})).then((e=>{if(!e.ok)throw new c(`Network response was not ok: ${e.status}`)}))}}},198264:(e,t,i)=>{i.d(t,{$:()=>o});var r=i(990779),s=i(953853),n=i(207268);class o{constructor(e,t){this.sendEvent=this.sendEvent.bind(this),this.mcidGuid=this.mcidGuid.bind(this),this._isInitialized=!1,this._loadPromise=new n.B,this._initPromise=Promise.all([e,t]).then((([e,t])=>{this._host=e,this._config=t}))}async _initialized(){try{await this._initPromise;if(this._config.useExperienceEdge&&this._host.executionEnvironment()===r.st.Browser){window.alloy_load={data:{},...window.alloy_load},window.alloy_all={data:{_adobe_corpnew:{digitalData:{page:{pageInfo:{}}}}},...window.alloy_all};const e=this._config.launchURL,t=this._config.marketingTechURL,i=this._config.aepConfigId;window.marketingtech={adobe:{launch:{url:e,controlPageLoad:!0},alloy:{edgeConfigId:i},target:!1,audienceManager:!1,sophia:!1,marketingTags:{disableGlobalTags:!1,disableContentsquare:!0}}};const r=document.createElement("script");r.src=t,r.onload=()=>{this._loadPromise?.resolve(),console.log("MarketingTech loaded successfully")},r.onerror=e=>{this._loadPromise?.reject(e),console.error("Failed to load MarketingTech",e)},document.head.appendChild(r)}else!this._loadPromise?.isSettled&&this._loadPromise?.resolve();this._isInitialized=!0}catch(e){!this._loadPromise?.isSettled&&this._loadPromise?.reject(e),console.error("Failed to initialized marketingTech",e)}return this._loadPromise?.promise}_generatePayload(e){return{eventType:"web.webinteraction.linkClicks",xdm:{web:{webPageDetails:{isErrorPage:!1,isHomePage:!1,name:window.location.host,server:window.location.href,siteSection:window.location.href},webReferrer:{URL:e[s.CA.EVENT_REFERRER]||""},webInteraction:{name:e[s.CA.EVENT_PAGENAME]||"",linkClicks:{value:1},type:"other"}}},data:{_adobe_corpnew:{digitalData:{},sdm:this._unflatten(e)},marketingtech:{adobe:{alloy:{approach:"optimized",edgeConfigId:this._config.aepConfigId}}}}}}_setProp(e,t,i){const r=t.indexOf("."),s=t.substring(0,r),n=t.substring(r+1);e[s]=e[s]||{};const o=e[s];n.includes(".")?this._setProp(o,n,i):o[n]=i}_unflatten(e){const t={};for(const i of Object.keys(e))i.includes(".")?this._setProp(t,i,e[i]):t[i]=e[i];return t}_sendEvent(e){try{if(!this._config.useExperienceEdge)return;window._satellite.track("event",e)}catch(e){console.warn("MarketingTechService encountered an unexpected error sending events to AEP",e)}}sendEvent(e){const t=this._generatePayload(e);this._isInitialized?this._sendEvent(t):this._initialized().then((()=>{this._sendEvent(t)}))}async mcidGuid(){if(this._isInitialized||await this._initialized(),!this._config.useExperienceEdge)return"";try{return(await window.alloy_getIdentity).identity?.ECID??s.J6}catch(e){return console.warn("Could not get ECID. Mostly adBlocker is blocking calls to AEP",e),s.J6}}}},425243:(e,t,i)=>{function r(){if("undefined"!=typeof window)return window.CS_CONF?.integrations_handler?.getReplayLink()}i.d(t,{T:()=>r})},352161:(e,t,i)=>{i.d(t,{V:()=>s});var r=i(549649);class s{constructor(e){this._host=e.host,this._bundleHash=e.bundleHash,this._rrEntryName=e.rrEntryName,this._rrEntryConfigName=e.rrEntryConfigName,this._rrTrafficTargetName=e.rrTrafficTargetName}async ping(){return Promise.resolve("OK")}async getConfiguration(){const e=["/_rr_",this._rrEntryName,this._rrEntryConfigName,this._rrTrafficTargetName,this._bundleHash].join("/"),t=(0,r.XD)(this._callRrApi.bind(this),{maxAttempts:s.MAX_RETRIES,delay:s.RETRY_DELAY});return Promise.race([t(e),new Promise(((e,t)=>setTimeout(t,s.TIMEOUT,"Timeout")))])}async _callRrApi(e){try{const t=await this._host.fetch(e);return await t.json()}catch(e){throw console.error(`Failed to get configuration from Request Router service. ${e}`),e}}}s.MAX_RETRIES=3,s.RETRY_DELAY=200,s.TIMEOUT=3e3},207268:(e,t,i)=>{i.d(t,{B:()=>s});var r=i(17305);class s{constructor(){this._isFulfilled=!1,this._isRejected=!1,this._hasAdoptedOnce=!1,this._promiseInUse=!1,this.reset()}get promise(){return this._promiseInUse=!0,this._promise}get isSettled(){return this._isFulfilled||this._isRejected}get isFulfilled(){return this._isFulfilled}get isRejected(){return this._isRejected}adopt(e){return this._promiseInUse=!0,e.then(this._resolvePromise).catch(this._rejectPromise),this.promise}adoptOnce(e){return this._promiseInUse=!0,this._hasAdoptedOnce||(this.adopt(e()),this._hasAdoptedOnce=!0),this.promise}resolve(e){this._resolvePromise(e)}reject(e){this._rejectPromise(e)}reset(){!this._isFulfilled&&!this._isRejected&&this._promiseInUse&&this._rejectPromise&&this._rejectPromise(new r.R("DeferredPromiseReset","Deferred was reset before result arrived")),this._isFulfilled=!1,this._isRejected=!1,this._hasAdoptedOnce=!1,this._promiseInUse=!1,this._promise=new Promise(((e,t)=>{this._resolvePromise=t=>{this._isFulfilled=!0,this._isRejected=!1,e(t)},this._rejectPromise=e=>{this._isRejected=!0,this._isFulfilled=!1,t(e)}}))}}},17305:(e,t,i)=>{i.d(t,{R:()=>o});var r=i(472568),s=i(724562),n=i(813952);Error.stackTraceLimit=50;class o extends Error{constructor(e,t,i){super(t),this._code=e,this._isExpected=!1,this.name=e+"Error",i&&(i instanceof Error?this.previousError=i:(this.previousError=i.previousError,this.category=i.category,this.logMetadata=i.logMetadata,this.isExpected=Boolean(i.isExpected)))}get code(){return this._code}get uuid(){return this._uuid||(this._uuid=(0,r.Z)()),this._uuid}set uuid(e){this._uuid=e}get isExpected(){return!!this._isExpected||this.previousError instanceof o&&this.previousError.isExpected}set isExpected(e){this._isExpected=e}hasErrorCode(e){return this.code===e||this.previousError instanceof o&&this.previousError.hasErrorCode(e)}findErrorBy(e){return e(this)?this:this.previousError instanceof o?this.previousError.findErrorBy(e):void 0}getDataRepresentation(e={skipStack:!1}){const t={kind:"HzError",code:this.code,message:this.message,stack:e.skipStack?void 0:this.stack,uuid:this.uuid,category:this.category,isExpected:this.isExpected,logMetadata:this.logMetadata};return this.previousError&&(this.previousError instanceof o?t.previousErrorData=this.previousError.getDataRepresentation(e):t.previousErrorData={kind:"Error",message:this.previousError.message,stack:e.skipStack?void 0:this.previousError.stack}),(0,s.a1)(t)}_getErrorMessageWithCode(e){return(0,n.isAdobeDCXError)(e)?`${e.name}: ${e.code}: ${e.message}`:`${e.name}: ${e.message}`}_getDCXUnderlyingErrorMessage(e){let t=this._getErrorMessageWithCode(e);return(0,n.isAdobeDCXError)(e)&&e.underlyingError&&(t+=`\nFrom underlying error: ${this._getDCXUnderlyingErrorMessage(e.underlyingError)}`),t}_getDCXErrorFullStack(e){let t=e.stack;return(0,n.isAdobeDCXError)(e)&&e.underlyingError&&(t+=`\nFrom underlying error: ${this._getDCXErrorFullStack(e.underlyingError)}`),t}get fullStack(){let e=this.stack||"";return this.previousError&&(e+="\nFrom previous error: ",this.previousError instanceof o?e+=this.previousError.fullStack:(0,n.isAdobeDCXError)(this.previousError)?e+=this._getDCXErrorFullStack(this.previousError):e+=this.previousError.stack),e.replace(/access_token=[0-9A-Za-z-._%=]+/,"")}get messageWithCode(){return this.category?`${this.category}: ${this.code}: ${this.message}`:`${this.code}: ${this.message}`}get fullMessageWithCode(){let e=this.messageWithCode;return this.previousError&&(e+="\nFrom previous error: ",this.previousError instanceof o?e+=this.previousError.fullMessageWithCode:(0,n.isAdobeDCXError)(this.previousError)?e+=this._getDCXUnderlyingErrorMessage(this.previousError):e+=this.previousError),e}get fullLogMetadata(){let e=this.logMetadata;if(this.previousError instanceof o){const t=this.previousError.fullLogMetadata;t&&(e=Object.assign({},this.logMetadata),e.previousLogMetadata=t)}return e}}},724562:(e,t,i)=>{i.d(t,{a1:()=>s,or:()=>n});const r=["authorization","authtoken","servicetoken"];function s(e){if(!e)return e;try{const t=n(e);return t?JSON.parse(t):{}}catch(e){return console.error("safeCopy() - Failed to copy",e),{}}}function n(e){try{const t=new Set;return JSON.stringify(e,((e,i)=>{if("string"==typeof e&&r.includes(e.toLowerCase()))return"xxxxx";if(i instanceof Date)return i.toISOString();const s=typeof i;if("object"===s||i instanceof Array){if(t.has(i))return"--visited--";t.add(i)}else if("bigint"===s)return i.toString();return i}))}catch(e){return console.error("safeStringify() - Failed to stringify",e),""}}}}]);
//# sourceMappingURL=qa-common-8576.5cf6dd9592edfd601c7a.js.map