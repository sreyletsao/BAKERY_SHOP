(self.webpackChunk_hz_quick_actions_standalone_webapp=self.webpackChunk_hz_quick_actions_standalone_webapp||[]).push([[54826],{571729:(e,t,i)=>{"use strict";i.d(t,{h:()=>r});var r=Symbol("BaggageEntryMetadata")},476578:(e,t,i)=>{"use strict";i.d(t,{H:()=>a,u:()=>c});var r=i(454374),o=i(317745),n=i(571729),s=r.G.instance();function a(e){return void 0===e&&(e={}),new o.t(new Map(Object.entries(e)))}function c(e){return"string"!=typeof e&&(s.error("Cannot create baggage metadata from unknown type: "+typeof e),e=""),{__TYPE__:n.h,toString:function(){return e}}}},7571:(e,t,i)=>{"use strict";i.d(t,{dI:()=>p,v7:()=>S});var r,o=(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},r(e,t)},function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=function(){function e(){}return e.prototype.createHistogram=function(e,t){return g},e.prototype.createCounter=function(e,t){return f},e.prototype.createUpDownCounter=function(e,t){return m},e.prototype.createObservableGauge=function(e,t){return v},e.prototype.createObservableCounter=function(e,t){return E},e.prototype.createObservableUpDownCounter=function(e,t){return T},e.prototype.addBatchObservableCallback=function(e,t){},e.prototype.removeBatchObservableCallback=function(e){},e}(),s=function(){},a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(s),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.add=function(e,t){},t}(s),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t.prototype.record=function(e,t){},t}(s),u=function(){function e(){}return e.prototype.addCallback=function(e){},e.prototype.removeCallback=function(e){},e}(),d=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(u),h=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(u),_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return o(t,e),t}(u),p=new n,f=new a,g=new l,m=new c,E=new d,v=new h,T=new _;function S(){return p}},725235:(e,t,i)=>{"use strict";i.d(t,{BM:()=>c,jN:()=>a,kw:()=>l});var r=i(633058),o=i(403101),n=/^([0-9a-f]{32})$/i,s=/^[0-9a-f]{16}$/i;function a(e){return n.test(e)&&e!==r.AE}function c(e){return a(e.traceId)&&(t=e.spanId,s.test(t)&&t!==r.fQ);var t}function l(e){return new o.s(e)}},604651:(e,t,i)=>{"use strict";i.d(t,{q:()=>ie});var r=i(571909),o=i(107169);const n=new class{constructor(e){this.name="AppOverrides",this.config=e}attach(e){}}({settings:{appSAPCode:"CCEX",appName:"Quick Actions",clientId:"quickactions_hz_webapp",exportWorkflow:"quick-actions-export",floodgateApiKey:"quickactions_hz_webapp",appVersion:"0.0.1",ingestApiKey:"ccx-projectx-web-service",ingestProject:"ccx-projectx-web-service",ingestAppName:"Quick Actions",ingestAppCategory:"WEB",ingestVisitorAAOrgId:"9E1005A551ED61CA0A490D45@AdobeOrg",aaTrackingServer:"stats.adobe.com",aaSecureTrackingServer:"sstats.adobe.com",rapiServerUrl:"https://platform-cs-stage-va6.adobe.io/",snowId:"330803","experience-edge-config-id":"28baacdc-56e1-4191-a72d-2b4086448495",launchUrl:"https://assets.adobedtm.com/d4d114c60e50/a0e989131fd5/launch-5dd5dd2177e6.min.js",marketingTechUrl:"https://www.adobe.com/marketingtech/main.standard.min.js","move-crop-shape":!0,minHeightWidthForCropResize:0},features:{"use-experience-edge":!0,"synthetic-eye-dropper":!0,"in-module-experimentation":!0}}),s=new r.L0("artboard-sequence-enabled",!0),a=new r.L0("audio-support-enabled",!0),c=new r.L0("canvas-accessibility-enabled",!1),l=new r.L0("canvas-accessibility-path-enabled",!1),u=new r.L0("color-scheme-preference-enabled",!1),d=new r.L0("disable-viewport-pan",!0),h=new r.L0("include-ingest-build-prefix",!0),_=new r.L0("ingest-host-always-prod-enabled",!0),p=new r.L0("localdata-transfer-iframe-enabled",!0),f=new r.L0("quick-action-download-in-projectx-enabled",!1),g=new r.L0("scene-line-feature-enabled",!0),m=new r.L0("use-locale-negotiator",!0),E=new r.L0("video-support-enabled",!0),v=new r.L0("sceneline-thumbnails-enabled",!0),T=new r.L0("upload-info-for-all-elements",!0),S=new o.NK("appVersion"),y=new o.NE("env","stage",{local:"stage",stage:"stage",prod:"prod"}),O=new o.NE("envName","stage",{local:"stage",stage:"stage",prod:"prod"}),C=new o.pE("authEngApiKey","quickactions_hz_webapp"),I=new o.NE("authEngApiHost","https://hz-ccx-das-stage.adobe.io",{local:"https://hz-ccx-das-stage.adobe.io",stage:"https://hz-ccx-das-stage.adobe.io",prod:"https://hz-ccx-das.adobe.io"}),w=new o.NE("aiWebUrl","https://stage.illustrator.adobe.com",{local:"https://stage.illustrator.adobe.com",stage:"https://stage.illustrator.adobe.com",prod:"https://preview.illustrator.adobe.com"}),A=new o.NE("adobeIoApiKey","quickactions_hz_webapp",{}),b=new o.NE("accessProfileHost","https://aps-web-stage.adobe.io",{local:"https://aps-web-stage.adobe.io",stage:"https://aps-web-stage.adobe.io",prod:"https://aps-web.adobe.io"}),k=new o.NE("assetsWebHost","https://assets-stage.adobecc.com",{local:"https://assets-stage.adobecc.com",stage:"https://assets-stage.adobecc.com",prod:"https://assets.adobe.com"}),R=new o.NE("appName","Quick Actions",{local:"Quick Actions Local",stage:"Quick Actions Stage",prod:"Quick Actions Prod"}),D=new o.NE("behanceApiHost","https://cc-api-behance-stage.adobe.io/v2/users/",{local:"https://cc-api-behance-stage.adobe.io/v2/users/",stage:"https://cc-api-behance-stage.adobe.io/v2/users/",prod:"https://cc-api-behance.adobe.io/v2/users/"}),N=new o.NE("ccprojectsEndpoint","https://ccprojects-stage.adobe.io",{local:"https://ccprojects-stage.adobe.io",stage:"https://ccprojects-stage.adobe.io",prod:"https://ccprojects.adobe.io"}),P=new o.NE("consoleLogLevel","debug",{}),M=new o.NE("ccStorageHost","https://cc-api-storage-stage.adobe.io",{local:"https://cc-api-storage-stage.adobe.io",stage:"https://cc-api-storage-stage.adobe.io",prod:"https://cc-api-storage.adobe.io"}),U=new o.NE("dcxStorageEndpoint","https://platform-cs-stage.adobe.io",{prod:"https://platform-cs.adobe.io"}),F=new o.NE("enabledLogLevel","debug",{local:"debug",stage:"debug",prod:"debug"}),L=new o.NE("fedsLibHost","https://www.dev02.adobe.com/etc.clientlibs/globalnav/clientlibs/base/feds.js",{dev:"https://www.dev02.adobe.com/etc.clientlibs/globalnav/clientlibs/base/feds.js",local:"https://www.dev02.adobe.com/etc.clientlibs/globalnav/clientlibs/base/feds.js",stage:"https://www.dev02.adobe.com/etc.clientlibs/globalnav/clientlibs/base/feds.js",prod:"https://www.adobe.com/etc.clientlibs/globalnav/clientlibs/base/feds.js"}),x=new o.NE("floodgateApiKey","quickactions_hz_webapp",{local:"quickactions_hz_webapp",stage:"quickactions_hz_webapp",prod:"quickactions_hz_webapp"}),j=new o.NE("identityPublicProfileHost","https://pps-stage.adobe.io",{local:"https://pps-stage.adobe.io",stage:"https://pps-stage.adobe.io",prod:"https://pps.adobe.io"}),B=new o.Wb("nativeWebViewRole",(async()=>"")),V=new o.pE("imsClientId","quickactions_hz_webapp"),G=new o.NE("imsEnv","stg1",{local:"stg1",stage:"stg1",prod:"prod"}),z=new o.NE("imsScope","ab.manage,AdobeID,openid,read_organizations,creative_cloud,creative_sdk,tk_platform,tk_platform_sync,af_byof,DCAPI,tk_platform_grant_free_subscription,pps.read,firefly_api,uds_read,uds_write",{local:"ab.manage,AdobeID,openid,read_organizations,creative_cloud,creative_sdk,tk_platform,tk_platform_sync,af_byof,DCAPI,tk_platform_grant_free_subscription,pps.read,firefly_api,uds_read,uds_write",stage:"ab.manage,AdobeID,openid,read_organizations,creative_cloud,creative_sdk,tk_platform,tk_platform_sync,af_byof,DCAPI,tk_platform_grant_free_subscription,pps.read,firefly_api,uds_read,uds_write",prod:"ab.manage,AdobeID,openid,read_organizations,creative_cloud,creative_sdk,tk_platform,tk_platform_sync,af_byof,DCAPI,tk_platform_grant_free_subscription,pps.read,firefly_api,uds_read,uds_write"}),H=new o.NE("invitationsServiceEndpoint","https://invitations-stage.adobe.io/api/v4",{local:"https://invitations-stage.adobe.io/api/v4",stage:"https://invitations-stage.adobe.io/api/v4",prod:"https://invitations.adobe.io/api/v4"}),K=new o.NE("lesEnv","stage",{local:"stage",stage:"stage",prod:"prod"}),W=new r.L0("logged-out-user-support",!0),q=new r.L0("in-module-experimentation",!0),Y=new o.NE("newRelicAppId","1834953833",{local:"1834953830",stage:"1834953833",prod:"1834953834"}),$=new o.NE("psWebUrl","https://stage.photoshop.adobe.com",{local:"https://stage.photoshop.adobe.com",stage:"https://stage.photoshop.adobe.com",prod:"https://photoshop.adobe.com"}),J=new o.NE("stockEndpoint","https://stock-stage.adobe.io",{local:"https://stock-stage.adobe.io",stage:"https://stock-stage.adobe.io",prod:"https://stock.adobe.io"}),X=new o.pE("stockProductKey","QA-Web/1.0"),Z=new r.lm("hz_debug_enabled"),Q=new r.lm("hz_pjx_trial_user_ccx"),ee=new r.L0("additional-background-options-enabled",!1),te=new o.NE("udsAppDomain","uds-quickactions",{local:"uds-quickactions",dev:"uds-quickactions",stage:"uds-quickactions",prod:"uds-quickactions"}),ie={accessProfileHost:b,adobeIoApiKey:A,apiKey:new o.pE("apiKey","quickactions_hz_webapp"),authEngApiKey:C,authEngApiHost:I,aiWebUrl:w,assetsWebHost:k,appName:R,appSpecificConfig:n,fedsLibHost:L,floodgateApiKey:x,appVersion:S,behanceApiHost:D,loggedOutUserSupport:W,consoleLogLevel:P,debugEnabled:Z,enabledLogLevel:F,artboardSequenceEnabled:s,audioSupportEnabled:a,ccprojectsEndpoint:N,ccStorageHost:M,canvasAccessibilityEnabled:c,canvasAccessibilityPathEnabled:l,colorSchemePreferenceEnabled:u,dcxStorageEndpoint:U,disableViewportPan:d,env:y,envName:O,includeIngestBuildPrefix:h,ingestHostAlwaysProdEnabled:_,identityPublicProfileHost:j,nativeWebViewRole:B,imsClientId:V,imsEnv:G,imsScope:z,invitationsServiceEndpoint:H,lesEnv:K,localdataTransferIframeEnabled:p,newRelicAppId:Y,quickActionDownloadInProjectXEnabled:f,sceneLineFeatureEnabled:g,stockEndpoint:J,stockProductKey:X,useLocaleNegotiator:m,psWebUrl:$,videoSupportEnabled:E,scenelineThumbnailsEnabled:v,uploadInfoForAllElements:T,udsAppDomain:te,trialUser:Q,inModuleExperimentation:q,additionalBackgroundOptionsEnabled:ee}},211246:(e,t,i)=>{"use strict";var r;!function(e){e.uiKernel="uiKernel",e.uiStartup="uiStartup",e.uiPostStartup="uiPostStartup"}(r||(r={}));var o=i(159625),n=i(228138),s=i(17305),a=i(911454),c=i(87818),l=i(240630);class u extends l.w{constructor(e,t){super(e),this._activateOnDemandBrick=t,this.activateOnDemandBrick=async e=>this._activateOnDemandBrick(this.locator,e)}}class d{constructor(e,t,i,r,o){this._logger=e,this._brickRegistry=i,this._brickManager=r,this._collectionToBricksMap=new Map,this._constructedBricks=new Set,this._collectionPromises=new Map,this._brickRegistryEntryMap=new Map(Object.entries(this._brickRegistry.bricks)),this._processBrickRegistry();this._brickDependencyCollector=new a.S(t,(e=>{const t=e;return void 0!==t.dependencies?t.dependencies.map((e=>this._brickRegistryEntryMap.get(e))):[]}),o),this._brickManager.setBrickContextFactory((e=>new u(e,((e,t)=>this._activateOnDemandBrick(e,t)))))}_processBrickRegistry(){for(const e of this._brickRegistryEntryMap.values())for(const t of Object.keys(e.collections)){const i=t,r=this._collectionToBricksMap.get(i)??new Set;r.add(e),this._collectionToBricksMap.set(i,r)}}async _activateOnDemandBrick(e,t){const i=this._brickRegistryEntryMap.get(t);let r;if(void 0===i)r=new s.R("BrickActivation",`${t} is not defined in the BrickRegistry`);else{const e=Object.keys(i.collections);(e.length>1||!0!==i.collections[e[0]].isOnDemand)&&(r=new s.R("BrickActivation",`${t} is not an on-demand brick`))}if(void 0!==r)throw c.I.logClientFatalError(r,this._logger),r;const o=await this._loadBricksFromRegistry([i]);return(await this._activateBricks(e,o))[0]}async activateCollection(e,t){const i=this._collectionToBricksMap.get(t)??new Set,r=[];for(const e of i)!0===e.collections[t].isEntryPoint&&r.push(e);let o;try{await this._loadCollection(t),o=await this._loadBricksFromRegistry(r)}catch(e){throw c.I.logClientFatalError(e,this._logger),e}return this._activateBricks(e,o)}async _getBrickFactory(e){const t=this._brickRegistry.bricks[e],i=new Set;for(const e of Object.keys(t.collections))i.add(e);return(await this._getOrLoadFirstAvailableCollection(i)).factories[e]}async _getOrLoadFirstAvailableCollection(e,t=!1){for(const t of e.values())if(this._collectionPromises.has(t))return this._collectionPromises.get(t);const i=e.values().next().value;if(t){if(1!==e.size)throw new s.R("BrickActivation",`Expected one of the collections ${Array.from(e).join(", ")} to already be loaded before a child required it.`);this._logger.warn(`Expected collection "${i}" to already be loaded before a child required it.`)}if(!i)throw new s.R("BrickActivation","Expected the collection names set to contain at least one item.");return this._loadCollection(i)}async _loadCollection(e){return this._collectionPromises.has(e)||this._collectionPromises.set(e,this._loadCollectionInternal(e)),this._collectionPromises.get(e)}async _loadCollectionInternal(e){let t;if(e===this._brickRegistry.rootCollection.name)t=await this._brickRegistry.rootCollection.factory();else{const i=this._brickRegistry.childCollectionIndex[e],r=await this._getOrLoadFirstAvailableCollection(new Set(i.parents),!0);t=await r.childCollections[e]()}return t}async _loadBricksFromRegistry(e){const t=await this._brickDependencyCollector.collectBricksAndDependencies(e),i=[];t.forEach((e=>{const t=e.id;this._constructedBricks.has(t)||(this._constructedBricks.add(t),i.push(t))}));const r=[];return await Promise.all(i.map((async e=>{try{const t=await(await this._getBrickFactory(e))();r.push([e,t])}catch(t){throw new s.R("BrickActivation",`Failed to create brick with ID "${e}"`,t)}}))),r}async _activateBricks(e,t){return Promise.all(t.map((([t,i])=>this._brickManager.activateBrickInstance(e,i,t))))}}var h=i(172377),_=i(807794),p=i(6784),f=i(207268),g=i(990465),m=i(911798);const E={perfMonitorMarkAllActions:new(i(571909).L0)("perf-monitor-mark-all-actions",!1)};class v{constructor(e){this._options=e,this._startDeferred=new f.B,this._logger=_.L.singleton(),(0,m.u)(this._logger);const t=[this._logger,this._options.locatorOptions?.name??"ui"];"function"==typeof this._options.locatorFactoryForTests?this._locator=this._options.locatorFactoryForTests(...t):this._locator=new h.P(...t),this._locator.set("Logger",(async()=>this._logger)),this._locator.set("Host",(async()=>this._options.appConfigOptions.host)),this._locator.set("AppConfig",(async()=>this._appConfigFactory())),this._startDeferred.adopt(this.finishStartup())}get locator(){return this._locator}get host(){return this._options.appConfigOptions.host}async start(){return this._startDeferred.promise}async _appConfigFactory(){const e=this._options.appConfigOptions.appConfigInstance??o.y.singleton();e.setLoggerFactory((async()=>this._logger));const{host:t,compiledConfig:i,releasePlaneConfig:r,localConfig:n,featuresFromExperiments:s,zeroCostExperimentsCallback:a,startApplicationHeartbeat:c,featuresFromRolloutConfigurations:l}=this._options.appConfigOptions,{buildSha:u,branch:d}=r.settings,h={sha:u||"",branch:d||""};return await e.initialize(h,t,i,r,n,s,a,l,c),await Promise.all([e.attach(E),e.attach(this._options.configInterface)]),e}finishStartup(){return this._locator.get("AppConfig").then((e=>this._appConfigComplete(e)))}async _appConfigComplete(e){const t={maxActions:50,numTrailingFramesToTrack:100,markAllActions:E.perfMonitorMarkAllActions.enabled};this._locator.set("PerfMonitorModel",(async()=>new p.Q(t))),this._locator.set("BrickManager",(async()=>{const t=await this._locator.get("PerfMonitorModel");return new n.i(e,t)})),this._locator.set("BrickRegistryManager",(async()=>{const t=await this._locator.get("BrickManager");return new d(this._logger,e,this._options.brickRegistry,t,new g.Y)}));(await this._locator.get("BrickRegistryManager")).activateCollection(this._locator,r.uiKernel)}}class T extends v{constructor(e){T._validateBrickRegistry(e.brickRegistry),super(e);const t=this.locator.get("ImsService");this.locator.get("AppConfig").then((i=>{i.setFactoryForAccessTokenProvider((()=>t));const r=e.configInterface,o={clientId:r.imsClientId.value,environment:r.imsEnv.value,scope:r.imsScope.value,customSignInCallback:e.customSignInCallback};r.customizeSUSIWithDCP?.enabled&&(o.customDCPCallback=e.customDCPCallback),this.locator.set("ImsServiceOptions",(async()=>o))})),this._imsDeferred.adopt(t.then((e=>{e.load()})))}finishStartup(){this._imsDeferred?.reset(),this._imsDeferred=new f.B;const e=super.finishStartup().then((async()=>{(await this.locator.get("BrickRegistryManager")).activateCollection(this.locator,r.uiStartup)}));return Promise.all([e,this._imsDeferred.promise]).then((()=>{}))}static _validateBrickRegistry(e){if(void 0===e.bricks["@hz/ims-service-client"]?.collections.uiKernel)throw new Error('"@hz/ims-service-client" must be specified in the BrickConfiguration file using the "uiKernel" collection.')}}var S=i(474867),y=i(604651),O=i(941825);const C=globalThis._hz_releasePlaneConfig||{settings:{},features:{}},I={settings:{...C.settings},features:{...C.features}};var w=i(357231);var A=i(754284);const b={factories:{"@hz/client-storage":async function(){return new w.X},"@hz/ims-service-client":async function(){return new A.v}},childCollections:{uiStartup:async()=>(await i.e(39444).then(i.bind(i,352657))).uiStartup}},k={bricks:{"@hz/client-storage":{id:"@hz/client-storage",dependencies:[],collections:{uiKernel:{isEntryPoint:!1}}},"@hz/ims-service-client":{id:"@hz/ims-service-client",dependencies:["@hz/client-storage"],collections:{uiKernel:{isEntryPoint:!0}}}},rootCollection:{name:"uiKernel",factory:async()=>b},childCollectionIndex:{uiStartup:{parents:["uiKernel"]},uiPostStartup:{parents:["uiStartup"]}}};var R=i(430754),D=i(674286),N=i(442356);const P=new R.lu(globalThis._hz_releasePlaneConfig),M=new R.gS(globalThis._hz_releasePlaneConfig),U=new N.t(globalThis._hz_releasePlaneConfig);let F;const L={appConfigOptions:{compiledConfig:O.$,featuresFromExperiments:M.getAllAsyncFeaturesFromExperiments(),featuresFromRolloutConfigurations:U.getAllFeaturesFromRolloutConfigurations(),zeroCostExperimentsCallback:(()=>{const e=D.e.getInstance(P.experiments,P.forcedExperiments);return()=>e.calculateZeroCostExperimentsFeatureFlags()})(),host:new S.r,releasePlaneConfig:I},brickRegistry:k,configInterface:y.q};const x=function(e=L){if(void 0!==F)throw new Error("Unexpected additional call to initializeHorizonKernel.");return F=new T(e),F}();!async function(){const[,e]=await Promise.all([x.start(),(await Promise.all([i.e(33055),i.e(34405),i.e(12136),i.e(55130),i.e(34550)]).then(i.bind(i,410207))).startAppShell]);e(x.locator)}()},123087:function(e,t,i){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},r(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var s=i(480918),a=i(617006),c=i(724343),l=i(190413),u=i(135372),d=function(e){function t(t){void 0===t&&(t=null);var i=e.call(this,t)||this;i.onAccessTokenHasExpired=null,i.onAccessToken=null,i.onReauthAccessToken=null,i.onError=null,i.handlers={triggerOnAccessToken:function(e){i.onAccessToken&&i.onAccessToken(e)},triggerOnReauthAccessToken:function(e){i.onReauthAccessToken&&i.onReauthAccessToken(e)},triggerOnAccessTokenHasExpired:function(){i.onAccessTokenHasExpired&&i.onAccessTokenHasExpired()},triggerOnReady:function(e){void 0===e&&(e=null),i.onReady&&i.onReady(e)},triggerOnError:function(e,t){i.onError&&i.onError(e,t)}};var r=t||window[s.AdobeIdKey];if(!r||!r.client_id)throw new Error("Please provide required adobeId, client_id information");var o=r.standalone,n=r.autoValidateToken,l=r.modalSettings,u=void 0===l?{}:l,d=r.modalMode,h=void 0!==d&&d,_=r.onAccessToken,p=r.onReauthAccessToken,f=r.onAccessTokenHasExpired,g=r.onReady,m=r.onError,E=r.overrideErrorHandler,v=r.onModalModeSignInComplete,T=r.alwaysRemoveTokenFromUrl,S=r.enableGuestAccounts,y=r.enableGuestTokenForceRefresh,O=r.enableGuestBotDetection;return o&&o.token&&(i.standalone=new c.StandaloneToken(o)),i.modalSettings=new a.PopupSettings(u),i.modalMode=h,i.autoValidateToken=!!n,i.onAccessToken=_||null,i.onReauthAccessToken=p||null,i.onAccessTokenHasExpired=f||null,i.onReady=g||null,i.onError=m||null,i.overrideErrorHandler=E,i.onModalModeSignInComplete=v,i.alwaysRemoveTokenFromUrl=T,i.enableGuestAccounts=!!S,i.enableGuestTokenForceRefresh=!!y,i.enableGuestBotDetection=!!O,i}return o(t,e),t.prototype.createSocialProviderRedirectRequest=function(e,t,i,r,o){void 0===o&&(o=u.IGrantTypes.token);var s={idp_flow:"social.deep_link.web",provider_id:e},a=n(n({},t),s);return this.createRedirectRequest(a,i,r,o)},t.prototype.createReAuthenticateRedirectRequest=function(e,t,i,r,o){void 0===r&&(r=l.IReauth.check),void 0===o&&(o=u.IGrantTypes.token);var s={reauth:r},a=n(n({},e),s);return this.createRedirectRequest(a,t,i,o)},t.prototype.createSignUpRedirectRequest=function(e,t,i,r){void 0===r&&(r=u.IGrantTypes.token);var o=n(n({},e),{idp_flow:"create_account"});return this.createRedirectRequest(o,t,i,r)},t}(i(347737).AdobeIdThinData);t.AdobeIdData=d},347737:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(480918),s=i(579820),a=o(i(260373)),c=i(527396),l=o(i(293648)),u=i(190413),d=i(135372),h=i(525432),_=function(){function e(e){void 0===e&&(e=null),this.analyticsParameters=new c.AnalyticsParameters,this.api_parameters={},this.locale="",this.scope="AdobeID",this.client_id="",this.environment=s.IEnvironment.PROD,this.useLocalStorage=!1,this.alwaysRemoveTokenFromUrl=!1,this.onReady=null,this.onModalModeSignInComplete=null,this.proxiedCheckToken=!1;var t=e||window[n.AdobeIdKey];if(!t||!t.client_id)throw new Error("Please provide required adobeId, client_id information");var i=t.api_parameters,r=t.client_id,o=t.locale,u=t.scope,d=t.ijt,h=t.environment,_=void 0===h?s.IEnvironment.PROD:h,p=t.redirect_uri,f=t.useLocalStorage,g=t.logsEnabled,m=t.onReady,E=t.rideRedirectUri,v=t.proxiedCheckToken;this.environment=_,this.api_parameters=i||{},this.client_id=r,this.locale=o||n.DEFAULT_LANGUAGE,this.scope=u?u.replace(/\s/gi,""):"",this.redirect_uri=p,this.ijt=d,this.useLocalStorage=f,g?l.default.enableLogging():l.default.disableLogging(),this.onReady=m||null,this.rideRedirectUri=E,this.proxiedCheckToken=v,this.fillAnalyticsParameters(t),a.default.loadEnvironment(_,v,window.location.hostname)}return e.prototype.fillAnalyticsParameters=function(e){var t=e.analytics,i=void 0===t?{}:t,r=i.appCode,o=void 0===r?"":r,n=i.appVersion,s=void 0===n?"":n,a=this.analyticsParameters;a.appCode=o,a.appVersion=s},e.prototype.createSocialProviderRedirectRequest=function(e,t,i,o,n){var s={idp_flow:"social.deep_link.web",provider_id:e},a=r(r({},t),s);return this.createRedirectRequest(a,i,o,n)},e.prototype.createReAuthenticateRedirectRequest=function(e,t,i,o,n){void 0===o&&(o=u.IReauth.check),void 0===n&&(n=d.IGrantTypes.token);var s={reauth:o},a=r(r({},e),s);return this.createRedirectRequest(a,t,i,n)},e.prototype.createSignUpRedirectRequest=function(e,t,i){var o=r(r({},e),{idp_flow:"create_account"});return this.createRedirectRequest(o,t,i,d.IGrantTypes.token)},e.prototype.createRedirectRequest=function(e,t,i,r){var o=this,n=this,s=n.api_parameters,a=void 0===s?{}:s,c=n.client_id,l=n.redirect_uri,u=void 0===l?"":l,_=n.scope,p=n.locale,f=this.createRedirectState(t,i),g={adobeIdRedirectUri:u,apiParameters:a,clientId:c,externalParameters:e,scope:_,locale:p,response_type:r,state:f};return r===d.IGrantTypes.token?Promise.resolve(g):(new h.CodeChallenge).createCodeChallenge(i).then((function(r){e.code_challenge=r.challenge,e.code_challenge_method="S256";var n=o.createRedirectState(t,i);return g.state=n,Promise.resolve(g)}))},e.prototype.createRedirectState=function(e,t){var i=this.analyticsParameters,r=i.appCode,o=void 0===r?"":r,n=i.appVersion,s=void 0===n?"":n,c=void 0===e?{}:{context:e};return o&&(c.ac=o),s&&(c.av=s),c.jslibver=a.default.jslibver,c.nonce=t,Object.keys(c).length?c:null},e.prototype.triggerOnReady=function(){this.onReady&&this.onReady(void 0)},e.prototype.computeRideRedirectUri=function(e){return this.rideRedirectUri?"string"==typeof this.rideRedirectUri?"DEFAULT"===this.rideRedirectUri?null:this.rideRedirectUri:this.rideRedirectUri(e):window.location.href},e}();t.AdobeIdThinData=_},527396:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){this.appCode="",this.appVersion=""};t.AnalyticsParameters=i},579820:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.STAGE="stg1",e.PROD="prod"}(t.IEnvironment||(t.IEnvironment={}))},68147:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.INITIALIZE_ERROR="initialize_error",e.HTTP="http",e.FRAGMENT="fragment",e.CSRF="csrf",e.NOT_ALLOWED="not_allowed",e.PROFILE_EXCEPTION="profile_exception",e.TOKEN_EXPIRED="token_expired",e.SOCIAL_PROVIDERS="SOCIAL_PROVIDERS",e.RIDE_EXCEPTION="ride_exception",e.ARKOSE_ERROR="arkose_error"}(t.IErrorType||(t.IErrorType={}))},807579:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(o,n){function s(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,r,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(o=2&n[0]?r.return:n[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,r=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],r=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=i(106926),c=s(i(293648)),l=i(803634),u=i(983895),d=i(556121),h=i(123087),_=i(866440),p=i(190413),f=i(424525),g=i(979783),m=i(894462),E=s(i(430889)),v=s(i(979122)),T=i(68147),S=i(337208),y=i(532078),O=i(661228),C=s(i(265899)),I=i(480918),w=s(i(260373)),A=i(135372),b=i(652114),k=i(525432),R=i(835895),D=i(243674),N=i(261653),P=i(938436),M=function(){function e(e,t){var i=this;void 0===e&&(e=null),this.initialized=!1,this.instanceKey=I.AdobeIMSKey,this.onPopupMessage=function(e){if(e&&i.adobeIdData.onModalModeSignInComplete){var t=i.tokenService.getTokenFromFragment(e);if(t instanceof R.TokenFields&&(i.tokenService.addTokenToStorage(t),i.adobeIdData.onModalModeSignInComplete(t)))return Promise.resolve()}return E.default.replaceUrl(e),i.initialize()},this.signIn=function(e,t,r){return void 0===e&&(e={}),void 0===r&&(r=A.IGrantTypes.token),o(i,void 0,void 0,(function(){var i,o,s,a,c;return n(this,(function(n){switch(n.label){case 0:return this.checkInitialized(),o=(i=this).adobeIdData,s=i.csrfService,a=s.initialize(),[4,o.createRedirectRequest(e,t,a,r)];case 1:return c=n.sent(),this.signInservice.signIn(c),[2,Promise.resolve()]}}))}))},this.authorizeToken=function(e,t,r,o){void 0===e&&(e=""),void 0===t&&(t={}),void 0===o&&(o=A.IGrantTypes.token);var n=i,s=n.adobeIdData,a=n.csrfService.initialize();return s.createRedirectRequest(t,r,a,o).then((function(t){(new l.SignInService).authorizeToken(e,t)}))},this.reAuthenticate=function(e,t,r,o){void 0===e&&(e={}),void 0===t&&(t=p.IReauth.check),void 0===o&&(o=A.IGrantTypes.token),i.checkInitialized();var n=i,s=n.adobeIdData,a=n.csrfService.initialize();return s.createReAuthenticateRedirectRequest(e,r,a,t,o).then((function(e){i.signInservice.signIn(e)}))},this.signInWithSocialProvider=function(e,t,r,o){if(void 0===t&&(t={}),void 0===o&&(o=A.IGrantTypes.token),i.checkInitialized(),!e)throw new Error("please provide the provider name");var n=i,s=n.adobeIdData,a=n.csrfService.initialize();s.createSocialProviderRedirectRequest(e,t,r,a,o).then((function(e){i.signInservice.signIn(e)}))},this.signOut=function(e){void 0===e&&(e={}),i.checkInitialized(),i.tokenService.purge(),i.profileService.removeProfile();var t=i.adobeIdData,r=t.api_parameters,o=void 0===r?{}:r,n=t.client_id,s={adobeIdRedirectUri:t.redirect_uri,apiParameters:o,clientId:n,externalParameters:e};(new d.SignOutService).signOut(s)},this.getTokenForPBAPolicy=function(e,t,r,o){var n;void 0===e&&(e=""),void 0===t&&(t=1e4),void 0===o&&(o={});var s=i.getAccessToken();if(s&&Date.now()+t<s.expire.getTime()&&(!e||(null===(n=s.pbaSatisfiedPolicies)||void 0===n?void 0:n.includes(e))))return Promise.resolve(s);var a=i,c=a.adobeIdData,l=a.csrfService.initialize();return o.state=c.createRedirectState(r,l),o.redirect_uri=D.RedirectHelper.createRedirectUrl(c.redirect_uri,c.client_id,o,"check_token",c.scope),e&&(o.pba_policy=e),i.refreshToken(o)},this.refreshToken=function(e,t){if(void 0===e&&(e={}),void 0===t&&(t=!1),!t&&e.userInactiveSince){var r=e.userInactiveSince,o=Date.now()-1e3*r;o>C.default.lastUserInteraction&&(C.default.lastUserInteraction=o)}return i.tokenService.refreshToken(e).then((function(e){return i.onTokenProfileReceived(e)})).catch((function(e){if(c.default.error("refresh token error",e),e instanceof O.HttpErrorResponse)return Promise.reject(e);var t=i.verifyRideErrorExceptionStrict(e);return t||(i.profileService.removeProfile(),i.onTokenExpired(),Promise.reject(e))}))},this.switchProfile=function(e,t){return void 0===t&&(t={}),e?i.tokenService.switchProfile(e,t).then((function(e){return i.onTokenProfileReceived(e)})).catch((function(e){return i.verifyRideErrorException(e)})):Promise.reject(new Error("Please provide the user id for switchProfile"))},this.executeErrorCallback=function(e){if(c.default.info("initialize exception ended",e),!e||e.type!==N.IFragmentExceptionType.LOGOUT){var t=i.adobeIdData.onError;t&&t(T.IErrorType.HTTP,"Initialization error")}},this.triggerOnImsInstance=function(e){var t=document.createEvent("CustomEvent"),r={clientId:i.adobeIdData.client_id,instance:e};t.initCustomEvent(I.ON_IMSLIB_INSTANCE,!1,!1,r),window.dispatchEvent(t)},this.processInitializeException=function(e){return void 0===e&&(e={}),c.default.warn("initialize",e),i.restoreHash(),Promise.reject(e)},this.verifyModalSignInEvent=function(e){return e instanceof b.ModalSignInEvent?i.notifyParentAboutModalSignIn(e):Promise.reject(e)},this.verifyTokenExpiredException=function(e){return e instanceof S.TokenExpiredException?(i.adobeIdData.handlers.triggerOnAccessTokenHasExpired(),Promise.resolve()):Promise.reject(e)},this.verifyRideErrorException=function(e){return o(i,void 0,void 0,(function(){return n(this,(function(t){switch(t.label){case 0:return e instanceof y.RideException?this.adobeIdData.overrideErrorHandler&&!this.adobeIdData.overrideErrorHandler(e)?[2,Promise.reject(e)]:e.isPbaExpiredIdleSessionWorkaround?[4,this.signIn()]:[3,2]:[3,4];case 1:return t.sent(),[3,4];case 2:return e.jump?[4,E.default.replaceUrlAndWait(e.jump,1e4)]:[3,4];case 3:t.sent(),t.label=4;case 4:return[2,Promise.reject(e)]}}))}))},this.verifyRideErrorExceptionStrict=function(e){return e instanceof y.RideException?i.verifyRideErrorException(e):null},this.verifyCsrfException=function(e){var t=e.type;return t&&t===T.IErrorType.CSRF&&i.signOut(),Promise.reject(e)},this.processTokenResponse=function(e){var t=i.adobeIdData.handlers,r=e.tokenFields,o=e.profile,n=r.tokenValue,s=r.state,a=r.expire,l=r.sid,u=r.user_id,d=r.other,h=void 0===d?{}:d,_=r.impersonatorId,p=r.isImpersonatedSession,f=r.pbaSatisfiedPolicies,g=r.isGuestToken,m=r.gse;c.default.info("token",n),h.from_ims&&E.default.setHash(h.old_hash||""),i.profileService.removeProfileIfOtherUser(u);var v={token:n,expire:a,sid:l,impersonatorId:_,isImpersonatedSession:p,pbaSatisfiedPolicies:f,isGuestToken:g,gse:m};return r.isReauth()?t.triggerOnReauthAccessToken(v):i.tokenReceived(v),o&&i.profileService.saveProfileToStorage(o),Promise.resolve(s)},this.exchangeIjt=function(e){var t=i.adobeIdData.ijt;return e||t?i.tokenService.exchangeIjt(e||t).then((function(e){return e.profile?i.profileService.saveProfileToStorage(e.profile):i.profileService.removeProfile(),Promise.resolve(e)})):Promise.reject(new Error("please set the adobeid.ijt value"))},this.adobeIdData=new h.AdobeIdData(e),t&&(this.instanceKey=t);var s=this.adobeIdData,f=s.api_parameters,v=void 0===f?{}:f,w=s.client_id,k=s.scope,P=s.useLocalStorage,M=s.autoValidateToken,U=s.modalMode,F=s.modalSettings;this.imsApis=new _.ImsApis(v),this.csrfService=new a.CsrfService(w,this.instanceKey),this.serviceRequest={clientId:w,scope:k,imsApis:this.imsApis},this.tokenService=new m.TokenService(r(r({},this.serviceRequest),{useLocalStorage:P,autoValidateToken:M}),this.csrfService),this.profileService=new g.ProfileService(this.serviceRequest),this.signInservice=U?new u.SignInModalService(this.onPopupMessage,F):new l.SignInService}return Object.defineProperty(e.prototype,"version",{get:function(){return w.default.jslibver},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"adobeid",{get:function(){return r({},this.adobeIdData)},enumerable:!0,configurable:!0}),e.prototype.enableLogging=function(){c.default.enableLogging()},e.prototype.disableLogging=function(){c.default.disableLogging()},e.prototype.checkInitialized=function(){this.initialized},e.prototype.signUp=function(e,t){var i=this;void 0===e&&(e={}),this.checkInitialized();var r=this.adobeIdData,o=this.csrfService;if(!r)throw new Error("no adobeId on reAuthenticate");var n=o.initialize();return r.createSignUpRedirectRequest(e,t,n).then((function(e){i.signInservice.signIn(e)}))},e.prototype.isSignedInUser=function(){var e=this.getAccessToken();return(!e||!e.isGuestToken)&&!(!e&&!this.getReauthAccessToken())},e.prototype.getProfile=function(){var e=this,t=this.profileService.getProfileFromStorage();if(t)return Promise.resolve(t);var i=this.getAccessToken()||this.getReauthAccessToken();if(!i){var r="please login before getting the profile";return Promise.reject(new f.ProfileException(r))}if(i.isGuestToken){r="guest account does not have a profile";return Promise.reject(new f.ProfileException(r))}return this.profileService.getProfile(i.token).then((function(e){return Promise.resolve(e)})).catch((function(t){return c.default.error("get profile exception ",t),t instanceof O.HttpErrorResponse?e.refreshToken().then((function(e){return Promise.resolve(e.profile)})):Promise.reject(new f.ProfileException(t.message||t))}))},e.prototype.avatarUrl=function(e){return this.imsApis.avatarUrl(e)},e.prototype.getReleaseFlags=function(e){return void 0===e&&(e=!1),e?this.tokenService.getDecodedReleaseFlags():this.tokenService.getReleaseFlags()},e.prototype.getAccessToken=function(){return this.getTokenFromStorage(!1)},e.prototype.getReauthAccessToken=function(){return this.getTokenFromStorage(!0)},e.prototype.getTokenFromStorage=function(e){var t=this.tokenService.getTokenFieldsFromStorage(e);return t?{token:t.tokenValue,expire:t.expire,sid:t.sid,impersonatorId:t.impersonatorId,isImpersonatedSession:t.isImpersonatedSession,pbaSatisfiedPolicies:t.pbaSatisfiedPolicies,isGuestToken:t.isGuestToken,gse:t.gse}:null},e.prototype.listSocialProviders=function(){var e=this;return new Promise((function(t,i){var r=e.adobeIdData.client_id;e.imsApis.listSocialProviders({client_id:r}).then((function(e){t(e)})).catch((function(e){i(e)}))}))},e.prototype.tokenReceived=function(e){this.adobeIdData.handlers.triggerOnAccessToken(e),C.default.startAutoRefreshFlow({expire:e.expire,refreshTokenMethod:this.refreshToken})},e.prototype.onTokenProfileReceived=function(e){var t=e.tokenInfo,i=e.profile;return c.default.info("token",t),this.tokenReceived(t),this.profileService.saveProfileToStorage(i),Promise.resolve(e)},e.prototype.validateToken=function(){var e=this;return this.tokenService.validateToken().then((function(){return Promise.resolve(!0)})).catch((function(t){return c.default.warn("validate token exception",t),t instanceof O.HttpErrorResponse||e.profileService.removeProfile(),Promise.reject(!1)}))},e.prototype.onTokenExpired=function(){var e=this.adobeIdData.handlers;this.tokenService.purge(),e.triggerOnAccessTokenHasExpired()},e.prototype.setStandAloneToken=function(e){return this.tokenService.setStandAloneToken(e)},e.prototype.initialize=function(){var e,t=this,i=this.adobeIdData,r=i.handlers,o=i.standalone,n=i.ijt,s=i.alwaysRemoveTokenFromUrl,a=i.enableGuestAccounts,l=i.enableGuestTokenForceRefresh,u=i.enableGuestBotDetection,d=null;switch(o&&this.setStandAloneToken(o),!0){case!!n:e=this.exchangeIjt;break;case a:e=this.tokenService.getGuestToken.bind(this.tokenService,{},{enableGuestAccounts:a,enableGuestTokenForceRefresh:l,enableGuestBotDetection:u});break;default:e=this.tokenService.getTokenAndProfile}return e().then(this.processTokenResponse,this.processError.apply(this)).then((function(e){d=e})).finally((function(){c.default.info("onReady initialization"),window.addEventListener(I.ASK_FOR_IMSLIB_INSTANCE_DOM_EVENT_NAME,(function(){t.triggerOnImsInstance(t)}),!1),s&&E.default.setHash(v.default.removeAccessToken()),r.triggerOnReady(d?d.context:null),t.triggerOnImsInstance(t),t.initialized=!0}))},e.prototype.processError=function(){var e=this;return function(t){return e.verifyModalSignInEvent(t).catch(e.processInitializeException).catch(e.verifyTokenExpiredException).catch(e.verifyRideErrorException).catch(e.verifyCsrfException).catch(e.executeErrorCallback)}},e.prototype.notifyParentAboutModalSignIn=function(e){var t=window.location.href.replace("imslibmodal","wasmodal");if(window.opener)window.opener.postMessage(t,window.location.origin),window.close();else{var i=new BroadcastChannel("imslib");i.postMessage(t),i.close(),window.close()}return Promise.reject("popup")},e.prototype.restoreHash=function(){var e=v.default.fragmentToObject();e&&e.from_ims&&E.default.setHash(e.old_hash||"")},e.prototype.getTransitoryAuthorizationCode=function(e,t){return void 0===t&&(t={}),(e=e||{}).response_type=e.response_type||"code",e.target_client_id=e.target_client_id||this.adobeIdData.client_id,e.target_scope=e.target_scope||this.adobeIdData.scope,this.imsApis.getTransitoryAuthorizationCode(e,t,this.adobeIdData.client_id)},e.prototype.jumpToken=function(e,t){return void 0===t&&(t={}),e.target_client_id=e.target_client_id||this.adobeIdData.client_id,e.target_scope=e.target_scope||this.adobeIdData.scope,this.imsApis.jumpToken(e,t,this.adobeIdData.client_id)},e.prototype.getVerifierByKey=function(e){return(new k.CodeChallenge).getVerifierByKey(e)},e.prototype.socialHeadlessSignIn=function(e,t){return void 0===t&&(t={}),o(this,void 0,void 0,(function(){var i=this;return n(this,(function(r){return[2,this.imsApis.socialHeadlessSignIn(e,t).then((function(e){return i.exchangeIjt(e.token)})).catch((function(t){return"ride_AdobeID_social"===t.error&&i.signIn({idp_flow:"social.native",provider_id:e.provider_id,idp_token:e.idp_token}),Promise.reject(t)}))]}))}))},e.prototype.getAccountType=function(){var e=this.getAccessToken();if(!e)throw new Error("please login before getting the account type");if(e.isGuestToken)return P.IAccountType.GUEST;var t=this.profileService.getProfileFromStorage();if(!t)throw new Error("you need to first get the profile before getting the account type");return t.account_type},e.prototype.getSessionExpiration=function(){var e=this.getAccessToken();if(!e)throw new Error("please obtain a token before getting the session expiration");return e.gse},e.prototype.jumpTokenToDevice=function(e,t){void 0===t&&(t={});var i=this.tokenService.getTokenFieldsFromStorage(),r=i?i.user_id:null;return this.imsApis.jumpTokenToDevice(e,t,this.adobeIdData.client_id,r)},e}();t.AdobeIMS=M},43388:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){this.profile=null,this.tokenFields=e,this.profile=t};t.TokenProfileResponse=i},106926:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(518200)),n=i(717710),s=i(480918);t.ONE_HOUR=1296e4;var a="csrf_verified",c=function(){function e(e,t){void 0===t&&(t=s.AdobeIMSKey),this.storageInstance=null,this.nonceStorageKey="",this.nonceStorageKey="nonce"+t+e}return Object.defineProperty(e.prototype,"storage",{get:function(){return this.storageInstance||(this.storageInstance=o.default.getAvailableStorage()),this.storageInstance},enumerable:!0,configurable:!0}),e.prototype.initialize=function(){if(window[a]=!1,!this.isStorageAvailable())return"";var t=e.generateNonce(),i=this.getNonceFromStorage()||{};return i=this.clearOlderNonceKeys(i),this.addNonceToObject(i,t),this.saveNonceValuesToStorage(i),t.value},e.prototype.addNonceToObject=function(e,t){e[t.value]=t.expiry},e.prototype.clearOlderNonceKeys=function(e,i){void 0===i&&(i=t.ONE_HOUR);var r=Date.now()-i;return Object.keys(e).forEach((function(t){parseInt(e[t])<r&&delete e[t]})),e},e.prototype.verify=function(e){if(!0===window[a])return!0;if(window[a]=!0,!this.isStorageAvailable())return!0;var t=this.getNonceFromStorage();if(!t)return!1;var i=this.clearOlderNonceKeys(t),r=null!==(i[e]||null);return r&&this.clearNonceValueFromStorage(i,e),r},e.prototype.clearNonceValueFromStorage=function(e,t){delete e[t],this.saveNonceValuesToStorage(e)},e.prototype.getNonceFromStorage=function(){var e=this.storage.getItem(this.nonceStorageKey);return e?JSON.parse(e):null},e.prototype.saveNonceValuesToStorage=function(e){this.storage.setItem(this.nonceStorageKey,JSON.stringify(e))},e.prototype.isStorageAvailable=function(){return!(this.storage instanceof n.MemoryStorage)},e.cryptoRndomString=function(){if(!window.crypto)return"";var e=new Uint32Array(3);return window.crypto.getRandomValues(e),e.join("").substr(0,16)},e.randomString=function(){var t=e.cryptoRndomString();if(t)return t;for(var i="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",o=0;o<16;o++)i+=r.charAt(Math.floor(Math.random()*r.length));return i},e.generateNonce=function(){return{value:e.randomString(),expiry:(new Date).getTime().toString()}},e}();t.CsrfService=c},277962:function(e,t){"use strict";var i=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,i=t&&e[t],r=0;if(i)return i.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,i){void 0===e&&(e=!1),void 0===t&&(t=""),void 0===i&&(i=""),this.proxied=e,this.url=t,this.fallbackUrl=i}return e.computeEndpoint=function(t,r,o,n){var s,a;if(t){var c=o?e.THIRD_PARTY_DOMAINS_STAGE:e.THIRD_PARTY_DOMAINS_PROD;try{for(var l=i(Object.keys(c)),u=l.next();!u.done;u=l.next()){var d=u.value;if(r===d||r.endsWith("."+d))return new e(!0,c[d],n)}}catch(e){s={error:e}}finally{try{u&&!u.done&&(a=l.return)&&a.call(l)}finally{if(s)throw s.error}}}return new e(!1,n)},e.prototype.shouldFallbackToAdobe=function(e){return!!this.proxied&&("feature_disabled"===e.error&&"cdsc"===e.error_description)},e.THIRD_PARTY_DOMAINS_PROD={"behance.net":"https://sso.behance.net"},e.THIRD_PARTY_DOMAINS_STAGE={"s2stagehance.com":"https://sso.s2stagehance.com"},e}();t.CheckTokenEndpoint=r},260373:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(579820),o=i(277962),n=function(){function e(){this.baseUrlAdobe="",this.baseUrlServices="",this.checkTokenEndpoint=new o.CheckTokenEndpoint,this.jslibver="v2-v0.45.0-5-gb993c08"}return e.prototype.loadEnvironment=function(e,t,i){void 0===t&&(t=!1),void 0===i&&(i="");var n=e===r.IEnvironment.STAGE;n?(this.baseUrlAdobe="https://ims-na1-stg1.adobelogin.com",this.baseUrlServices="https://adobeid-na1-stg1.services.adobe.com"):(this.baseUrlAdobe="https://ims-na1.adobelogin.com",this.baseUrlServices="https://adobeid-na1.services.adobe.com"),this.checkTokenEndpoint=o.CheckTokenEndpoint.computeEndpoint(t,i,n,this.baseUrlServices)},e}();t.default=new n},938436:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.TYPE1="type1",e.TYPE3="type3",e.TYPE2E="type2e",e.GUEST="guest"}(t.IAccountType||(t.IAccountType={}))},135372:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.token="token",e.code="code"}(t.IGrantTypes||(t.IGrantTypes={}))},190413:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.force="force",e.check="check"}(t.IReauth||(t.IReauth={}))},243674:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(134301)),n=i(400073),s=function(){function e(){}return e.getInitialRedirectUri=function(e,t){var i=e.redirect_uri||t||window.location.href,r="function"==typeof i?i():i,o=r.indexOf("from_ims");return-1===o?r:("#"===r[o-1]&&o--,r.substr(0,o))},e.createDefaultRedirectUrl=function(e,t,i,r){var o=this.getInitialRedirectUri(i,e),n=this.createOldHash(o);return n.indexOf("?")>0?n+"&client_id="+t+"&api="+r:n+"?client_id="+t+"&api="+r},e.createRedirectUrl=function(e,t,i,r,o){void 0===o&&(o="");var n=this.createDefaultRedirectUrl(e,t,i,r);(o=o||i.scope||"")&&(n=n+"&scope="+o);var s=i.reauth||"";return s&&(n=n+"&reauth="+s),n},e.createOldHash=function(e){var t=e.indexOf("#");return t<0?e+"#old_hash=&from_ims=true":e.substring(0,t)+"#old_hash="+e.substring(t+1)+"&from_ims=true"},e.mergeApiParamsWithExternalParams=function(e,t,i){return n.merge(o.default.getCustomApiParameters(e,i),t)},e}();t.RedirectHelper=s},525432:function(e,t,i){"use strict";var r=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,o,n=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return s},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(i(518200));t.ONE_HOUR=1296e4;var a=function(){function e(){this.storage=s.default.getAvailableStorage()}return e.prototype.b64Uri=function(e){return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")},e.prototype.createCodeChallenge=function(e,t){var i=this;void 0===t&&(t=43);for(var r=window.msCrypto||window.crypto,n=this.b64Uri(Array.prototype.map.call(r.getRandomValues(new Uint8Array(t)),(function(e){return String.fromCharCode(e)})).join("")).substring(0,t),s=new Uint8Array(n.length),a=0;a<n.length;a++)s[a]=n.charCodeAt(a);var c=r.subtle.digest("SHA-256",s);return new Promise((function(t,r){window.CryptoOperation?(c.onerror=function(e){return r(e)},c.oncomplete=function(r){var s=new Uint8Array(r.target.result),a=i.b64Uri(String.fromCharCode.apply(String,o(s)));return t(i.saveVerifierAndReturn(e,{verifier:n,challenge:a}))}):c.then((function(r){var s=new Uint8Array(r),a=i.b64Uri(String.fromCharCode.apply(String,o(s)));return t(i.saveVerifierAndReturn(e,{verifier:n,challenge:a}))}))}))},e.prototype.saveVerifierAndReturn=function(e,t){var i=this.getVerifierValuesFromStorage(),r={verifier:t.verifier||"",expiry:(new Date).getTime().toString()};return i[e]=r,this.storage.setItem("verifiers",JSON.stringify(i)),Promise.resolve(t)},e.prototype.getVerifierValuesFromStorage=function(){var e=this.storage.getItem("verifiers"),t=e?JSON.parse(e):{};return this.clearOlderVerifiers(t)},e.prototype.clearOlderVerifiers=function(e,i){void 0===i&&(i=t.ONE_HOUR);var r=Date.now()-i;return Object.keys(e).forEach((function(t){parseInt(e[t])<r&&delete e[t]})),e},e.prototype.getVerifierByKey=function(e){var t=this.getVerifierValuesFromStorage(),i=t?t[e]:{};return delete t[e],this.storage.setItem("verifiers",JSON.stringify(t)),i?i.verifier:""},e}();t.CodeChallenge=a},124450:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=o(i(430889)),s=o(i(260373)),a=i(243674),c=i(400073),l=function(){var e=this;this.composeRedirectUrl=function(e){var t="authorize",i=e.apiParameters,o=e.externalParameters,n=void 0===o?{}:o,l=e.adobeIdRedirectUri,u=void 0===l?"":l,d=e.clientId,h=e.locale,_=e.state,p=void 0===_?{}:_,f=e.scope,g=void 0===f?n.scope||i.scope||"":f,m=a.RedirectHelper.mergeApiParamsWithExternalParams(i,n,t);p&&(m.state=c.merge(m.state||{},p));var E=a.RedirectHelper.createRedirectUrl(u,d,m,t,g),v=n.locale||h||"",T=e.response_type,S=void 0===T?m.response_type||"":T;return r(r({},m),{client_id:d,scope:g,locale:v,response_type:S,jslVersion:s.default.jslibver,redirect_uri:E})},this.createRedirectUrl=function(t){var i=e.composeRedirectUrl(t),r=n.default.uriEncodeData(i);return s.default.baseUrlAdobe+"/ims/authorize/v1?"+r}};t.BaseSignInService=l},371656:function(e,t){"use strict";var i=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,o,n=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return s},r=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var o=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*)/,n=["https://auth.services.adobe.com","https://auth-stg1.services.adobe.com","https://localhost.corp.adobe.com:9000"],s=function(){var e=this;this.windowObjectReference=null,this.previousUrl="",this.openSignInWindow=function(t,i,r,o){e.onProcessLocation=o,e.allowOrigin=r.allowOrigin,e.timerId&&clearInterval(e.timerId),window.removeEventListener("message",e.receiveMessage),window.addEventListener("message",e.receiveMessage),e.broadcastChannel&&e.broadcastChannel.close(),e.broadcastChannel=new BroadcastChannel("imslib"),e.broadcastChannel.onmessage=e.receiveMessage;var n="popup=yes, width="+r.width+", height="+r.height+", top="+r.top+", left="+r.left;!e.windowObjectReference||e.windowObjectReference&&e.windowObjectReference.closed?e.windowObjectReference=window.open(t,r.title,n):e.previousUrl!==t?(e.windowObjectReference=window.open(t,r.title,n),e.windowObjectReference&&e.windowObjectReference.focus()):e.windowObjectReference.focus(),e.previousUrl=t},this.receiveMessage=function(t){if(r(n,[e.allowOrigin]).includes(t.origin)){try{if(!o.test(t.data))return void console.warn("refused to receive message containing unknown data format",t.data)}catch(e){return void console.error(e)}e.broadcastChannel&&e.broadcastChannel.close(),e.onProcessLocation&&e.onProcessLocation(t.data)}else console.warn("refused to receive message from origin not whitelisted",t.origin)}};t.default=new s},617006:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){void 0===e&&(e={}),this.title="Adobe ID",this.width=600,this.top=100,this.left=100;var t=e.title,i=void 0===t?"Adobe ID":t,r=e.width,o=void 0===r?600:r,n=e.height,s=void 0===n?700:n,a=e.top,c=void 0===a?100:a,l=e.left,u=void 0===l?100:l,d=e.allowedOrigin;this.title=i,this.width=o,this.height=s,this.top=c,this.left=u,this.allowOrigin=d};t.PopupSettings=i},983895:function(e,t,i){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},r(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__assign||function(){return n=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},n.apply(this,arguments)},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=s(i(371656)),c=function(e){function t(t,i){var r=e.call(this)||this;return r.signIn=function(e){e.state=n(n({},e.state),{imslibmodal:!0});var t=e.state.nonce,i=r.createRedirectUrl(e);a.default.openSignInWindow(i,t,r.popupSettings,r.onPopupMessage)},r.onPopupMessage=t,r.popupSettings=i,r}return o(t,e),t}(i(124450).BaseSignInService);t.SignInModalService=c},803634:function(e,t,i){"use strict";var r,o=this&&this.__extends||(r=function(e,t){return r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)t.hasOwnProperty(i)&&(e[i]=t[i])},r(e,t)},function(e,t){function i(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}),n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=n(i(430889)),a=n(i(260373)),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.signIn=function(e){var i=t.createRedirectUrl(e);s.default.setHrefUrl(i)},t.authorizeToken=function(e,i){var r=t.composeRedirectUrl(i);e&&(r.user_assertion=e,r.user_assertion_type="urn:ietf:params:oauth:client-assertion-type:jwt-bearer"),t.createAuthorizeForm(r).submit()},t}return o(t,e),t.prototype.createAuthorizeForm=function(e){var t=a.default.baseUrlAdobe+"/ims/authorize/v1",i=document.createElement("form");i.style.display="none",i.setAttribute("method","post"),i.setAttribute("action",t);var r=null,o=null,n="";for(var s in e){if("object"==typeof(o=e[s])){if(0===Object.keys(o).length)continue;n=JSON.stringify(o)}else n=o;""!==n&&(r=this.createFormElement("input","text",s,n),i.appendChild(r))}return document.getElementsByTagName("body")[0].appendChild(i),i},t.prototype.createFormElement=function(e,t,i,r){var o=document.createElement(e);return o.setAttribute("type",t),o.setAttribute("name",i),o.setAttribute("value",r),o},t}(i(124450).BaseSignInService);t.SignInService=c},556121:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var n=i(243674),s=o(i(430889)),a=o(i(260373)),c=i(887218);function l(e,t){void 0===t&&(t=void 0);var i="logout",o=e.apiParameters,c=e.externalParameters,l=e.adobeIdRedirectUri,u=void 0===l?"":l,d=e.clientId,h=n.RedirectHelper.mergeApiParamsWithExternalParams(o,c,i),_=n.RedirectHelper.createDefaultRedirectUrl(u,d,h,i),p=r(r({},h),{client_id:d,redirect_uri:_,jslVersion:a.default.jslibver});t&&(p=Object.assign(p,{probing_results:t}));var f=s.default.uriEncodeData(p),g=a.default.baseUrlAdobe+"/ims/logout/v1?"+f;s.default.replaceUrl(g)}var u=function(){this.signOut=function(e){var t=e.clientId;a.default.checkTokenEndpoint.proxied?(new c.ThirdPartyProbingService).probe([a.default.checkTokenEndpoint.url],t).then((function(t){l(e,t)})).catch((function(){l(e)})):l(e)}};t.SignOutService=u},887218:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(430889)),n=r(i(541174)),s=function(){this.probe=function(e,t,i){if(void 0===i&&(i=2e3),!e||0===e.length)return Promise.resolve([]);for(var r={"Content-Type":"application/json","Cache-Control":"no-cache, no-store, must-revalidate",Pragma:"no-cache",Expires:0,"X-IMS-CLIENTID":t},s="/ims/cdsc_probe?"+o.default.uriEncodeData({client_id:t}),a=[],c=[],l=function(t){var o=e[t]+s;c.push(n.default.post(o,{},r,!1,i).then((function(e){return 200==e.status&&a.push(t)})).catch((function(){})))},u=0;u<e.length;u++)l(u);return Promise.all(c).then((function(){return a}))}};t.ThirdPartyProbingService=s},265899:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(293648)),n=["keyup","mousemove"],s=function(){function e(){var e=this;this.lastUserInteraction=Date.now(),this.userActive=!1,this.userInteractionHandler=function(){e.lastUserInteraction=Date.now(),e.userActive=!0},this.initializeDomEvents=function(){n.forEach((function(t){return window.addEventListener(t,e.userInteractionHandler)}))},this.clearDomEvents=function(){n.forEach((function(t){return window.removeEventListener(t,e.userInteractionHandler)}))}}return e.prototype.startAutoRefreshFlow=function(e){var t,i=this;if(e&&e.expire&&e.refreshTokenMethod){this.refreshParameters=e,this.refreshTimerId&&(o.default.info("Auto-refresh timer already set, clearing"),clearTimeout(this.refreshTimerId)),this.clearDomEvents(),this.initializeDomEvents();var r=this.fromNowToNMinutesBeforeDate(null===(t=this.refreshParameters)||void 0===t?void 0:t.expire,1);o.default.info("Auto-refresh timer will run after (seconds)",r/1e3),this.refreshTimerId=setTimeout((function(){var e;if(i.userActive){var t=Math.floor((Date.now()-i.lastUserInteraction)/1e3);null===(e=i.refreshParameters)||void 0===e||e.refreshTokenMethod({userInactiveSince:t},!0),o.default.info("Auto-refresh performed, user was inactive for (seconds)",t)}else o.default.info("Auto-refresh skipped, user was never active")}),r)}else o.default.info("Won't schedule token auto-refresh",!e,!e.expire,!e.refreshTokenMethod)},e.prototype.fromNowToNMinutesBeforeDate=function(e,t){var i=e.getTime()-Date.now()-6e4*t;return i<=0?6e4*t:i},e}();t.default=new s},134301:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(400073),o=function(){function e(){this.getCustomApiParameters=function(e,t){return e[t]||{}}}return e.prototype.mergeExternalParameters=function(e,t,i){return r.merge(this.getCustomApiParameters(t,i),e)},e.prototype.toJson=function(e){try{return"string"!=typeof e?e:JSON.parse(e)}catch(e){return null}},e}();t.default=new o},278272:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(68147),o=function(e){this.message=null,this.errorType=r.IErrorType.ARKOSE_ERROR,this.message=e};t.ArkoseException=o},4187:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(480918),n=r(i(293648)),s=function(){function e(){this.arkoseSessionToken=null}return e.getArkoseInstance=function(){return this.arkoseInstance||(e.arkoseInstance=new e),e.arkoseInstance},e.prototype.getArkoseSessionToken=function(){return this.arkoseSessionToken},e.prototype.setArkoseSessionToken=function(e){this.arkoseSessionToken=e},e.prototype.callArkose=function(){var e=this;return new Promise((function(t,i){window[o.SETUP_ARKOSE]=e.setupArkose(t);var r=document.createElement("script");r.type="text/javascript",r.src=o.ARKOSE_JS_ENDPOINT,r.setAttribute("data-callback","setupArkose"),r.addEventListener("error",(function(e){n.default.error("Arkose script failed to load",e),i(e)})),document.head.append(r)}))},e.prototype.setupArkose=function(t){return function(i){i.setConfig({onCompleted:function(i){n.default.info("Arkose verification completed"),e.arkoseInstance.setArkoseSessionToken(i.token),t()},onReady:function(){i.run()}})}},e}();t.ArkoseInitialization=s},480918:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AdobeIdKey="adobeid",t.AdobeIMSKey="adobeIMS",t.AdobeImsFactory="adobeImsFactory",t.DEFAULT_LANGUAGE="en_US",function(e){e.LocalStorage="local",e.SessionStorage="session",e.MemoryStorage="memory"}(t.STORAGE_MODE||(t.STORAGE_MODE={})),t.HEADERS={AUTHORIZATION:"Authorization",X_IMS_CLIENT_ID:"X-IMS-ClientId",RETRY_AFTER:"Retry-after"},t.PROFILE_STORAGE_KEY="adobeid_ims_profile",t.TOKEN_STORAGE_KEY="adobeid_ims_access_token",t.ON_IMSLIB_INSTANCE="onImsLibInstance",t.ASK_FOR_IMSLIB_INSTANCE_DOM_EVENT_NAME="getImsLibInstance",t.SETUP_ARKOSE="setupArkose",t.ARKOSE_PUBLIC_KEY="BBCC314C-4937-4CCD-B0A3-FDF0F0F7603C",t.ARKOSE_JS_ENDPOINT="//adobe-api.arkoselabs.com/v2/"+t.ARKOSE_PUBLIC_KEY+"/api.js"},782595:function(e,t){"use strict";var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},i.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){var e=this;this.DEBOUNCE_TIME=1e3,this.cache={},this.storeApiResponse=function(t,i,r){void 0===t&&(t=""),void 0===i&&(i=""),e.cacheApiResponse(t,i,r)}}return e.prototype.getCachedApiResponse=function(e,t){void 0===t&&(t="");var i="string"==typeof t?t:JSON.stringify(t),r=this.cache[e];if(!r)return null;var o=r[i];return o?o.data:null},e.prototype.cacheApiResponse=function(e,t,r){void 0===e&&(e=""),void 0===t&&(t="");var o=this.cache[e];o||(o={},this.cache[e]=o);var n=this.createClearCachedDataTimer(e,t);o[t]={timerId:n,data:i({},r)}},e.prototype.createClearCachedDataTimer=function(e,t){var i=this;return setTimeout((function(){var r=i.cache[e]||{},o=r[t];o&&o&&o.timerId&&(clearTimeout(o.timerId),delete r[t])}),this.DEBOUNCE_TIME)},e}();t.default=new r},83753:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(347737),o=i(532078),n=i(661228),s=function(){function e(){this.adobeIdThinData=null}return e.prototype.verify=function(e,t){void 0===t&&(t="");var i=e.status,r=e.data;if(!i)return new n.HttpErrorResponse({error:"networkError",message:r||""});if(401==i)return new n.HttpErrorResponse({error:"unauthorized"});var o=this.parseTokenResponseForRideErrors(r,t);return o||(409==i?r:429==i?new n.HttpErrorResponse({error:"rate_limited",retryAfter:r.retryAfter?parseInt(r.retryAfter):10}):i.toString().match(/5\d{2}/g)?new n.HttpErrorResponse({error:"server_error"}):null)},e.prototype.parseTokenResponseForRideErrors=function(e,t){if(!e)return null;var i=e.error,r=e.jump;if(!i)return null;if(!(0===i.indexOf("ride_")))return"token_expired"===i&&t.indexOf("check/v6/token")>=0?new o.RideException("ride_pba_idle_session","",!0):null;var n=this.addRedirectUriToJump(i,r);return new o.RideException(i,n)},e.prototype.addRedirectUriToJump=function(e,t){if(!t||"string"!=typeof t)return"";var i=t;this.adobeIdThinData||(this.adobeIdThinData=new r.AdobeIdThinData);var o=this.adobeIdThinData.computeRideRedirectUri(e);if(!o||0===o.length)return i;try{var n=new URL(i);return n.searchParams.append("redirect_uri",o),n.toString()}catch(e){return i}},e.prototype.isUnauthorizedException=function(e){var t=e.status;return 401===(void 0===t?0:t)},e}();t.default=new s},661228:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){var t=e.error,i=e.retryAfter,r=void 0===i?0:i,o=e.message,n=void 0===o?"":o;this.error=t,this.retryAfter=r,this.message=n};t.HttpErrorResponse=i},866440:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__rest||function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i},n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var s=i(480918),a=n(i(430889)),c=n(i(134301)),l=n(i(260373)),u=n(i(997631)),d=function(){function e(e){void 0===e&&(e={}),this.CONTENT_FORM_ENCODED="application/x-www-form-urlencoded;charset=utf-8",this.apiParameters=e}return e.prototype.validateToken=function(e){var t=e.token,i=e.client_id,o=e.type,n=a.default.uriEncodeData(r(r({},c.default.getCustomApiParameters(this.apiParameters,"validate_token")),{type:o||"access_token",client_id:i,token:t})),s=l.default.baseUrlAdobe+"/ims/validate_token/v1?jslVersion="+l.default.jslibver,d=this.formEncoded();return this.addClientIdInHeader(i,d),u.default.post(s,n,d)},e.prototype.getProfile=function(e){var t=e.token,i=e.client_id,o=r({},c.default.getCustomApiParameters(this.apiParameters,"profile")),n=this.createAuthorizationHeader(t);this.addClientIdInHeader(i,n);var s=a.default.uriEncodeData(r({client_id:i},o)),d=l.default.baseUrlAdobe+"/ims/profile/v1?"+s+"&jslVersion="+l.default.jslibver;return u.default.get(d,n)},e.prototype.getUserInfo=function(e){var t=e.token,i=e.client_id,o=r({},c.default.getCustomApiParameters(this.apiParameters,"userinfo")),n=this.createAuthorizationHeader(t);this.addClientIdInHeader(i,n);var s=a.default.uriEncodeData(r({client_id:i},o)),d=l.default.baseUrlAdobe+"/ims/userinfo/v1?"+s+"&jslVersion="+l.default.jslibver;return u.default.get(d,n)},e.prototype.logoutToken=function(e){var t=e.client_id,i=e.token,o=r({},c.default.getCustomApiParameters(this.apiParameters,"logout_token")),n=l.default.baseUrlServices+"/ims/logout/v1?jslVersion="+l.default.jslibver,s=this.addClientIdInHeader(t);return u.default.post(n,r({client_id:t,access_token:i},o),s)},e.prototype.checkStatus=function(){var e=l.default.baseUrlServices+"/ims/check/v1/status";return u.default.get(e)},e.prototype.checkToken=function(e,t,i){var n=e.client_id,s=e.scope,u=t.arkoseSessionToken,d=o(t,["arkoseSessionToken"]),h=r({},c.default.mergeExternalParameters(d,this.apiParameters,"check_token")),_=r(r({},h),{client_id:n,scope:s});return u&&(_.arkose_session_token=u),i&&(_.user_id=i),this.callCheckToken(a.default.uriEncodeData(_),n,"/check/v6/token?jslVersion="+l.default.jslibver)},e.prototype.switchProfile=function(e,t,i){void 0===i&&(i="");var o=e.client_id,n=e.scope,s=void 0===n?"":n,u=r({},c.default.mergeExternalParameters(t,this.apiParameters,"check_token")),d=a.default.uriEncodeData(r(r({},u),{client_id:o,scope:s,user_id:i}));return this.callCheckToken(d,o,"/check/v6/token?jslVersion="+l.default.jslibver)},e.prototype.listSocialProviders=function(e){var t=e.client_id,i=r({},c.default.getCustomApiParameters(this.apiParameters,"providers")),o=a.default.uriEncodeData(r({client_id:t},i)),n=l.default.baseUrlServices+"/ims/social/v2/providers?"+o+"&jslVersion="+l.default.jslibver,s=this.addClientIdInHeader(t);return u.default.get(n,s)},e.prototype.exchangeIjt=function(e,t){var i=e.client_id,o=r({},c.default.getCustomApiParameters(this.apiParameters,"ijt")),n=l.default.baseUrlServices+"/ims/jump/implicit/"+t,s=a.default.uriEncodeData(r({client_id:i},o)),d=n+"?"+s+"&jslVersion="+l.default.jslibver;d.length>2048&&(delete o.redirect_uri,d=n+"?"+(s=a.default.uriEncodeData(o)));var h=this.addClientIdInHeader(i);return u.default.get(d,h)},e.prototype.avatarUrl=function(e){return l.default.baseUrlAdobe+"/ims/avatar/download/"+e},e.prototype.getReleaseFlags=function(e){var t=e.token,i=e.client_id,o=r({},c.default.getCustomApiParameters(this.apiParameters,"fg_value")),n=this.createAuthorizationHeader(t);this.addClientIdInHeader(i,n);var s=a.default.uriEncodeData(r({client_id:i},o)),d=l.default.baseUrlAdobe+"/ims/fg/value/v1?"+s+"&jslVersion="+l.default.jslibver;return u.default.get(d,n)},e.prototype.getTransitoryAuthorizationCode=function(e,t,i){void 0===t&&(t={});var o=r({},c.default.mergeExternalParameters(t,this.apiParameters,"check_token")),n=a.default.uriEncodeData(r(r({},o),e));return this.callCheckToken(n,i,"/check/v6/token?client_id="+i+"&jslVersion="+l.default.jslibver)},e.prototype.getTokenFromCode=function(e,t){void 0===t&&(t={});var i=r({},c.default.mergeExternalParameters(t,this.apiParameters,"token"));i.grant_type="authorization_code",delete e.other;var o=l.default.baseUrlServices+"/ims/token/v3?jslVersion="+l.default.jslibver,n=a.default.uriEncodeData(r(r({},i),e)),s=this.formEncoded();return this.addClientIdInHeader(e.client_id,s),u.default.post(o,n,s)},e.prototype.jumpToken=function(e,t,i){void 0===t&&(t={});var o=r({},c.default.mergeExternalParameters(t,this.apiParameters,"jumptoken")),n=l.default.baseUrlServices+"/ims/jumptoken/v1?client_id="+i+"&jslVersion="+l.default.jslibver,s=a.default.uriEncodeData(r(r({},o),e)),d=this.formEncoded();return this.addClientIdInHeader(i,d),u.default.post(n,s,d)},e.prototype.jumpTokenToDevice=function(e,t,i,o){void 0===t&&(t={});var n=r({},c.default.mergeExternalParameters(t,this.apiParameters,"jumptoken_to_device"));!n.user_id&&o&&(n.user_id=o);var s=l.default.baseUrlServices+"/ims/jumptoken/v2?client_id="+i+"&jslVersion="+l.default.jslibver,d=a.default.uriEncodeData(r(r({},n),e)),h=this.formEncoded();return this.addClientIdInHeader(i,h),u.default.post(s,d,h)},e.prototype.socialHeadlessSignIn=function(e,t){void 0===t&&(t={});var i=r({},c.default.mergeExternalParameters(t,this.apiParameters,"jumptoken")),o=l.default.baseUrlServices+"/ims/social/v2/native?jslVersion="+l.default.jslibver,n=a.default.uriEncodeData(r(r(r({},i),e),{response_type:"implicit_jump"}));return u.default.post(o,n,this.formEncoded())},e.prototype.createAuthorizationHeader=function(e){var t={};return e&&(t[s.HEADERS.AUTHORIZATION]="Bearer "+e),t},e.prototype.formEncoded=function(e){return void 0===e&&(e={}),e["content-type"]=this.CONTENT_FORM_ENCODED,e},e.prototype.addClientIdInHeader=function(e,t){return void 0===t&&(t={}),t.client_id=e,t},e.prototype.callCheckToken=function(e,t,i){var r=this.formEncoded();return this.addClientIdInHeader(t,r),u.default.post(l.default.checkTokenEndpoint.url+"/ims"+i,e,r).catch((function(t){if(!l.default.checkTokenEndpoint.shouldFallbackToAdobe(t))throw t;return u.default.post(l.default.checkTokenEndpoint.fallbackUrl+"/ims"+i,e,r)}))},e}();t.ImsApis=d},922541:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t){this.status=0,this.data="",this.status=e,this.data=this.toJson(t)}return e.prototype.toJson=function(e){try{return"string"!=typeof e?e:JSON.parse(e)}catch(t){return e}},e}();t.ApiResponse=i},997631:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(782595)),n=r(i(83753)),s=r(i(541174));t.default=new(function(){function e(){this.triggerOnError=null}return e.prototype.post=function(e,t,i){var r=this;void 0===i&&(i={});var n=o.default.getCachedApiResponse(e,t);if(n){var a=n.status,c=n.data;return 200===a?Promise.resolve(c):Promise.reject(c)}return s.default.post(e,t,i).then((function(i){return r.storeApiResponse(e,JSON.stringify(t),i)})).catch((function(i){return r.verifyError(e,JSON.stringify(t),i)}))},e.prototype.get=function(e,t){var i=this;void 0===t&&(t={});var r=o.default.getCachedApiResponse(e);if(r){var n=r.status,a=r.data;return 200===n?Promise.resolve(a):Promise.reject(a)}return s.default.get(e,t).then((function(t){return i.storeApiResponse(e,"",t)})).catch((function(t){return i.verifyError(e,"",t)}))},e.prototype.verifyError=function(e,t,i){this.storeApiResponse(e,t,i);var r=n.default.verify(i,e);return Promise.reject(r||i.data)},e.prototype.storeApiResponse=function(e,t,i){return void 0===t&&(t=""),o.default.storeApiResponse(e,t,i),Promise.resolve(i.data)},e}())},541174:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(922541);t.default=new(function(){function e(){}return e.prototype.http=function(e){return new Promise((function(t,i){var o=new(0,window.XMLHttpRequest);"boolean"==typeof e.withCredentials?o.withCredentials=e.withCredentials:o.withCredentials=!0,"number"==typeof e.timeout&&(o.timeout=e.timeout),o.open(e.method,e.url,!0);var n;o.onload=function(){return this.status>=200&&this.status<300?t(new r.ApiResponse(this.status,this.response)):i(new r.ApiResponse(this.status,this.response))},o.onerror=function(){var e=new r.ApiResponse(this.status,this.response);return i(e)},o.ontimeout=function(){var e=new r.ApiResponse(0,"timeout");return i(e)},o.onabort=function(){var e=new r.ApiResponse(0,"aborted");return i(e)},(n=e.headers)&&Object.keys(n).forEach((function(e){o.setRequestHeader(e,n[e])})),o.send(e.data)}))},e.prototype.post=function(e,t,i,r,o){return void 0===i&&(i={}),this.http({headers:i,method:"POST",url:e,data:t,withCredentials:r,timeout:o})},e.prototype.get=function(e,t,i,r){return void 0===t&&(t={}),this.http({headers:t,method:"GET",url:e,withCredentials:i,timeout:r})},e}())},110966:(e,t,i)=>{"use strict";i.d(t,{H:()=>r.AdobeIMS});var r=i(807579)},293648:function(e,t){"use strict";var i=this&&this.__read||function(e,t){var i="function"==typeof Symbol&&e[Symbol.iterator];if(!i)return e;var r,o,n=i.call(e),s=[];try{for(;(void 0===t||t-- >0)&&!(r=n.next()).done;)s.push(r.value)}catch(e){o={error:e}}finally{try{r&&!r.done&&(i=n.return)&&i.call(n)}finally{if(o)throw o.error}}return s},r=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){var e=this;this.logEnabled=!1,this.print=function(t,i){e.logEnabled&&t.apply(void 0,r(i))},this.assert=function(t,i){e.print(console.assert,[t,i])},this.assertCondition=function(t,i){t()||e.print(console.error,[i])},this.error=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e.print(console.error,t)},this.warn=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e.print(console.warn,t)},this.info=function(){for(var t=[],i=0;i<arguments.length;i++)t[i]=arguments[i];e.print(console.info,t)}}return e.prototype.enableLogging=function(){this.logEnabled=!0},e.prototype.disableLogging=function(){this.logEnabled=!1},e}();t.default=new o},424525:(e,t,i)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=i(68147),o=function(e){this.message=null,this.errorType=r.IErrorType.PROFILE_EXCEPTION,this.message=e};t.ProfileException=o},979783:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(518200)),n=i(480918),s=i(424525),a=i(661228),c=i(403847),l=function(){function e(e){this.profileServiceRequest=e,this.storage=o.default.getStorageByName(n.STORAGE_MODE.SessionStorage)}return e.prototype.getProfile=function(e){var t=this,i=this.profileServiceRequest,r=i.clientId,o=i.imsApis,n=this.getProfileFromStorage();return n?Promise.resolve(n):o.getProfile({client_id:r,token:e}).then((function(e){if(!e)throw new s.ProfileException("NO profile response");if(0===Object.keys(e).length)throw new s.ProfileException("NO profile value");return t.saveProfileToStorage(e),Promise.resolve(e)})).catch((function(e){return e instanceof a.HttpErrorResponse||t.removeProfile(),Promise.reject(e)}))},e.prototype.getProfileStorageKey=function(){var e=this.profileServiceRequest,t=e.clientId,i=e.scope;return n.PROFILE_STORAGE_KEY+"/"+t+"/"+!1+"/"+c.sortScopes(i)},e.prototype.getProfileFromStorage=function(){var e=this.getProfileStorageKey(),t=this.storage.getItem(e);return t&&JSON.parse(t)},e.prototype.saveProfileToStorage=function(e){var t=this.getProfileStorageKey();this.storage.setItem(t,JSON.stringify(e))},e.prototype.removeProfile=function(){var e=this.getProfileStorageKey();this.storage.removeItem(e)},e.prototype.removeProfileIfOtherUser=function(e){if(e){var t=this.getProfileFromStorage();t&&t.userId!==e&&this.removeProfile()}},e}();t.ProfileService=l},717710:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(){this.data={},this.length=0}return e.prototype.clear=function(){this.data={},this.length=0},e.prototype.getItem=function(e){var t=this.data[e];return t||null},e.prototype.removeItem=function(e){return!!this.data[e]&&(delete this.data[e],--this.length,!0)},e.prototype.setItem=function(e,t){this.data[e]||++this.length,this.data[e]=t},e.prototype.key=function(e){throw new Error("Method not implemented. "+e)},e}();t.MemoryStorage=i},518200:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(717710),n=i(480918),s=r(i(293648)),a=function(){function e(){this.memoryStorageInstance=null}return Object.defineProperty(e.prototype,"memoryStorage",{get:function(){return this.memoryStorageInstance||(this.memoryStorageInstance=new o.MemoryStorage),this.memoryStorageInstance},enumerable:!0,configurable:!0}),e.prototype.getStorageByName=function(e){var t=this.getStorageInstanceByName(e);return t&&this.verifyStorage(t)?t:this.memoryStorage},e.prototype.getStorageInstanceByName=function(e){if(e===n.STORAGE_MODE.MemoryStorage)return this.memoryStorage;try{return e===n.STORAGE_MODE.LocalStorage?window.localStorage:window.sessionStorage}catch(e){return s.default.warn("Please change your cookies settings in order to allow local data to be set"),null}},e.prototype.getAvailableStorage=function(){var e=this.getStorageByName(n.STORAGE_MODE.LocalStorage);return e instanceof o.MemoryStorage?this.getStorageByName(n.STORAGE_MODE.SessionStorage):e},e.prototype.verifyStorage=function(e){var t="test";try{return e.setItem(t,"true"),"true"===e.getItem(t)&&(e.removeItem(t),!0)}catch(e){return!1}},e}();t.default=new a},554880:function(e,t){"use strict";var i=this&&this.__rest||function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i};Object.defineProperty(t,"__esModule",{value:!0});var r=function(e){this.client_id="",this.scope="",this.code="",this.state=null,this.code_verifier="",this.other=null;var t=e.code,r=e.state,o=e.client_id,n=e.scope,s=e.verifier,a=i(e,["code","state","client_id","scope","verifier"]);this.state=r,this.client_id=o,this.code=t,this.scope=n,this.code_verifier=s,this.other=a};t.AuthorizationCode=r},520464:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t){this.message="",this.type="",this.type=e,this.message=t};t.FragmentException=i},977054:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.GUEST="guest"}(t.IAtpValues||(t.IAtpValues={}))},261653:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),function(e){e.FRAGMENT="fragment",e.CSRF="csrf",e.NOT_AUTHORIZE="not_authorize",e.API_NOT_ALLOWED="not_allowed",e.LOGOUT="logout"}(t.IFragmentExceptionType||(t.IFragmentExceptionType={}))},652114:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){this.wndRedirectPropName="",this.wndRedirectPropName=e};t.ModalSignInEvent=i},532078:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e,t,i){void 0===i&&(i=!1),this.jump="",this.code=e,this.jump=t,this.isPbaExpiredIdleSessionWorkaround=i};t.RideException=i},724343:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){this.token="",this.sid="",this.expirems=0;var t=e.token,i=e.expirems;this.token=t,this.expirems=i};t.StandaloneToken=i},337208:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=function(e){this.exception=null,this.exception=e};t.TokenExpiredException=i},835895:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(134301)),n=r(i(293648)),s=i(403847),a=i(977054),c=function(){function e(e,t){var i=this;this.REAUTH_SCOPE="reauthenticated",this.valid=!1,this.isReauth=function(){return i.scope.indexOf(i.REAUTH_SCOPE)>=0},this.client_id="",this.scope="",this.expire=new Date,this.user_id="",this.tokenValue="",this.sid="",this.state=null,this.fromFragment=!1,this.impersonatorId="",this.isImpersonatedSession=!1;var r=e.valid,n=e.tokenValue,s=e.access_token,c=e.state,l=e.other,u=n||s,d=this.parseJwt(u);if(!d)throw new Error("token cannot be decoded "+u);this.state=o.default.toJson(c);var h=d.client_id,_=d.user_id,p=d.scope,f=d.sid,g=d.imp_id,m=d.imp_sid,E=d.pba,v=d.atp,T=d.gse;this.atp=v,this.client_id=h,this.expire=t,this.user_id=_,this.scope=p,this.valid=r,this.tokenValue=u,this.sid=f,this.other=l,this.impersonatorId=g||"",this.isImpersonatedSession=!!m,this.pbaSatisfiedPolicies=E&&E.split(",")||[],this.isGuestToken=this.atp===a.IAtpValues.GUEST,this.gse=T}return e.prototype.parseJwt=function(e){if(!e)return null;try{return JSON.parse(atob(e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/")))}catch(t){return n.default.error("error on decoding token ",e,t),null}},e.prototype.validate=function(e,t){var i=this,r=i.valid,o=i.client_id,a=i.scope,c=i.expire;return c<new Date?(n.default.error("token invalid  --\x3e expires_at",c),!1):null==r||r?o!==e?(n.default.error("token invalid  --\x3e client id",o,e),!1):!!s.validateScopeInclusion(t,a)||(n.default.error("token invalid  --\x3e scope"," token scope =",a,"vs adobeIdScope =",t,"."),!1):(n.default.error("token invalid  --\x3e valid"),!1)},e}();t.TokenFields=c},894462:function(e,t,i){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,i=1,r=arguments.length;i<r;i++)for(var o in t=arguments[i])Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o]);return e},r.apply(this,arguments)},o=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(o,n){function s(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},n=this&&this.__generator||function(e,t){var i,r,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(o=2&n[0]?r.return:n[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,r=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],r=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}},s=this&&this.__rest||function(e,t){var i={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(i[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var o=0;for(r=Object.getOwnPropertySymbols(e);o<r.length;o++)t.indexOf(r[o])<0&&Object.prototype.propertyIsEnumerable.call(e,r[o])&&(i[r[o]]=e[r[o]])}return i},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var c=a(i(518200)),l=i(480918),u=i(835895),d=a(i(979122)),h=i(520464),_=i(261653),p=i(43388),f=i(532078),g=i(337208),m=a(i(293648)),E=i(661228),v=i(554880),T=i(652114),S=i(525432),y=i(403847),O=i(268618),C=i(4187),I=i(278272),w=["authorize","check_token"],A=function(){function e(e,t){var i=this;this.getTokenAndProfile=function(e){void 0===e&&(e={});var t=i.getTokenFields();return t instanceof T.ModalSignInEvent||t instanceof h.FragmentException?Promise.reject(t):t instanceof v.AuthorizationCode?i.tokenServiceRequest.imsApis.getTokenFromCode(t,e).then((function(e){var i=e.access_token,r=e.state,o=e.expires_in,n=e.scope,a=void 0===n?"":n,c=s(e,["access_token","state","expires_in","scope"]),l=new u.TokenFields({scope:a,tokenValue:i,valid:!0,state:r,other:t.other},new Date((new Date).getTime()+parseFloat(o)));return Promise.resolve(new p.TokenProfileResponse(l,c))})):t instanceof u.TokenFields?t.fromFragment||!i.tokenServiceRequest.autoValidateToken?Promise.resolve(new p.TokenProfileResponse(t,null)):i.callValidateTokenApi(t.tokenValue,t.isGuestToken).then((function(){return new p.TokenProfileResponse(t,null)})).catch((function(){return i.callRefreshToken(e)})):i.callRefreshToken(e)};var r=e.useLocalStorage;this.csrfService=t,this.tokenServiceRequest=e,this.storage=c.default.getStorageByName(r?l.STORAGE_MODE.LocalStorage:l.STORAGE_MODE.SessionStorage)}return e.prototype.getTokenFields=function(){var e=this.tokenServiceRequest,t=e.clientId,i=e.scope,r=this.getTokenFromFragment();return r instanceof T.ModalSignInEvent||r instanceof h.FragmentException||r instanceof v.AuthorizationCode?r:r&&r.validate(t,i)?(r.fromFragment=!0,this.addTokenToStorage(r),r):this.getTokenFieldsFromStorage()},e.prototype.validateToken=function(){var e=this.getTokenFieldsFromStorage();return e?this.callValidateTokenApi(e.tokenValue,e.isGuestToken):Promise.reject(null)},e.prototype.getReleaseFlags=function(){var e=this.tokenServiceRequest,t=e.clientId,i=e.imsApis,r=this.getTokenFieldsFromStorage();return r?i.getReleaseFlags({token:r.tokenValue,client_id:t}):Promise.reject(null)},e.prototype.getDecodedReleaseFlags=function(){return this.getReleaseFlags().then((function(e){return O.decodeToBitstring(e.releaseFlags,!0)}))},e.prototype.callValidateTokenApi=function(e,t){var i=this;void 0===t&&(t=!1);var o=this.tokenServiceRequest,n=o.clientId,s=o.scope,a=o.imsApis,c={client_id:n,token:e,type:t?"at":void 0};return a.validateToken(c).then((function(t){m.default.info("validateToken response",t);var o=new u.TokenFields(r(r({},t),{tokenValue:e}),new Date(parseFloat(t.expires_at)));if(o.validate(n,s))return i.addTokenToStorage(o),Promise.resolve(o);throw new Error("could not validate tokenFields")})).catch((function(e){return m.default.error("validateToken response",e),e instanceof E.HttpErrorResponse||i.removeTokenFromLocalStorage(),Promise.reject(e)}))},e.prototype.getGuestToken=function(e,t){var i;return void 0===e&&(e={}),o(this,void 0,void 0,(function(){var o,s,a,c,l,d;return n(this,(function(n){switch(n.label){case 0:if(o=this.getTokenFields(),s=!(o instanceof T.ModalSignInEvent)&&!(o instanceof v.AuthorizationCode)&&o instanceof u.TokenFields,a=s&&(null===(i=o)||void 0===i?void 0:i.isGuestToken),!t.enableGuestAccounts)return[3,11];if(c=null,!t.enableGuestTokenForceRefresh)return[3,6];if(!t.enableGuestBotDetection||s)return[3,5];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,C.ArkoseInitialization.getArkoseInstance().callArkose()];case 2:return n.sent(),[3,4];case 3:throw l=n.sent(),new I.ArkoseException(l);case 4:c=C.ArkoseInitialization.getArkoseInstance().getArkoseSessionToken(),n.label=5;case 5:if(o instanceof h.FragmentException&&o.type===_.IFragmentExceptionType.LOGOUT)return[2,this.callRefreshToken(r(r({},e),{arkoseSessionToken:c}))];if(a)return[2,this.callRefreshToken(r(r({},e),{arkoseSessionToken:c}))];n.label=6;case 6:if(!t.enableGuestBotDetection||s)return[3,11];n.label=7;case 7:return n.trys.push([7,9,,10]),[4,C.ArkoseInitialization.getArkoseInstance().callArkose()];case 8:return n.sent(),[3,10];case 9:throw d=n.sent(),new I.ArkoseException(d);case 10:return c=C.ArkoseInitialization.getArkoseInstance().getArkoseSessionToken(),[2,this.getTokenAndProfile(r(r({},e),{arkoseSessionToken:c}))];case 11:return[2,this.getTokenAndProfile(e)]}}))}))},e.prototype.getTokenFromFragment=function(e){var t=d.default.fragmentToObject(e);if(!t)return null;var i=t.access_token,o=t.scope,n=t.error,a=t.api,c=t.state,l=void 0===c?{}:c,p=t.expires_in,f=t.client_id,g=t.code,m=void 0===g?"":g,E=s(t,["access_token","scope","error","api","state","expires_in","client_id","code"]),y=l||{},O=y.imslibmodal,C=y.nonce;if(!0===O)return new T.ModalSignInEvent(C);if("logout"===a)return new h.FragmentException(_.IFragmentExceptionType.LOGOUT,"logout callback");if(!t.from_ims)return null;if(f!==this.tokenServiceRequest.clientId)return null;if(n)return new h.FragmentException(_.IFragmentExceptionType.FRAGMENT,n);if(!w.includes(a))return new h.FragmentException(_.IFragmentExceptionType.API_NOT_ALLOWED,"api should be authorize or check token and "+a+" is used");if(!this.csrfService.verify(C))return new h.FragmentException(_.IFragmentExceptionType.CSRF,"CSRF exception");if(m){var I=(new S.CodeChallenge).getVerifierByKey(C);if(!I)throw new Error("no verifier value has been found");return new v.AuthorizationCode(r(r({},t),{verifier:I}))}return i?new u.TokenFields({client_id:f,scope:o,tokenValue:i,valid:!0,state:l,other:E},new Date((new Date).getTime()+parseFloat(p))):null},e.prototype.getItemFromStorage=function(e){return this.storage.getItem(e)},e.prototype.getTokenFieldsFromStorage=function(e){void 0===e&&(e=!1);var t=this.tokenServiceRequest,i=t.clientId,r=t.scope,o=this.getAccessTokenKey(e),n=this.getItemFromStorage(o);if(!n)return null;var s=JSON.parse(n),a=s.expire?new Date(Date.parse(s.expire)):new Date(s.expiresAtMilliseconds),c=new u.TokenFields(s,a);return c.validate(i,r)?c:null},e.prototype.getAccessTokenKey=function(e){void 0===e&&(e=!1);var t=this.tokenServiceRequest,i=t.clientId,r=t.scope;return l.TOKEN_STORAGE_KEY+"/"+i+"/"+e+"/"+y.sortScopes(r)},e.prototype.addTokenToStorage=function(e){if(e){var t=e.isReauth(),i=this.getAccessTokenKey(t),o=r({},e);o.state={},o.other="{}";var n=JSON.stringify(o);this.storage.setItem(i,n)}},e.prototype.removeTokenFromLocalStorage=function(){var e=this.getAccessTokenKey();this.storage.removeItem(e)},e.prototype.removeReauthTokenFromLocalStorage=function(){var e=this.getAccessTokenKey(!0);this.storage.removeItem(e)},e.prototype.refreshToken=function(e){var t=this;void 0===e&&(e={});var i=this.tokenServiceRequest,o=i.clientId,n=i.imsApis,a=i.scope,c=this.getTokenFieldsFromStorage(),l=c?c.user_id:"";return n.checkToken({client_id:o,scope:a},e,l).then((function(e){if(!e)throw new Error("refresh token --\x3e no response");var i=e.access_token,o=e.expires_in,n=e.token_type,a=e.error,c=e.error_description,l=void 0===c?"":c,u=e.sid,d=s(e,["access_token","expires_in","token_type","error","error_description","sid"]);if(a)throw new Error(a+" "+l);var h=Object.keys(d).length?d:null,_={token:i,expire:new Date(Date.now()+parseFloat(o)),token_type:n,sid:u},p=t.updateToken(_)||{},f={tokenInfo:r(r({},_),{impersonatorId:p.impersonatorId||"",isImpersonatedSession:p.isImpersonatedSession||!1,pbaSatisfiedPolicies:p.pbaSatisfiedPolicies||[],isGuestToken:p.isGuestToken,gse:p.gse}),profile:h};return Promise.resolve(f)})).catch((function(e){return void 0===e&&(e={}),e instanceof E.HttpErrorResponse||e instanceof f.RideException?Promise.reject(e):(t.removeTokenFromLocalStorage(),Promise.reject(new g.TokenExpiredException(e)))}))},e.prototype.switchProfile=function(e,t){var i=this;void 0===t&&(t={});var o=this.tokenServiceRequest,n=o.clientId,a=o.imsApis,c=o.scope;return a.switchProfile({client_id:n,scope:c},t,e).then((function(e){if(!e)throw new Error("refresh token --\x3e no response");var t=e.access_token,o=e.expires_in,n=e.token_type,a=e.error,c=e.error_description,l=void 0===c?"":c,u=e.sid,d=s(e,["access_token","expires_in","token_type","error","error_description","sid"]);if(a)throw new Error(a+" "+l);var h=Object.keys(d).length?d:null,_={token:t,expire:new Date(Date.now()+parseFloat(o)),token_type:n,sid:u},p=i.updateToken(_)||{},f={tokenInfo:r(r({},_),{impersonatorId:p.impersonatorId||"",isImpersonatedSession:p.isImpersonatedSession||!1}),profile:h};return Promise.resolve(f)})).catch((function(e){return void 0===e&&(e={}),Promise.reject(e)}))},e.prototype.callRefreshToken=function(e){return void 0===e&&(e={}),this.refreshToken(e).then((function(e){var t=e.tokenInfo,i=t.token,r=t.expire,o=e.profile,n=new u.TokenFields({valid:!0,tokenValue:i},r),s=new p.TokenProfileResponse(n,o);return Promise.resolve(s)})).catch((function(e){return Promise.reject(e)}))},e.prototype.updateToken=function(e){var t=e.token,i=e.expire,r=new u.TokenFields({tokenValue:t},i);return r?(r.tokenValue=t,this.addTokenToStorage(r),r):null},e.prototype.purge=function(){this.removeTokenFromLocalStorage(),this.removeReauthTokenFromLocalStorage()},e.prototype.setStandAloneToken=function(e){var t=e.token,i=e.sid,r=e.expirems,o=void 0===r?-1:r,n=this.tokenServiceRequest,s=n.clientId,a=n.scope,c=new Date((new Date).getTime()+o);if(!new u.TokenFields({valid:!0,tokenValue:t},c).validate(s,a))return!1;var l={expire:c,token:t,sid:i};return this.updateToken(l),!0},e.prototype.exchangeIjt=function(e){var t=this,i=this.tokenServiceRequest,r={client_id:i.clientId,scope:i.scope};return i.imsApis.exchangeIjt(r,e).then((function(e){var i=e.valid,r=e.access_token,o=e.expires_in,n=e.profile;if(!1===i)return Promise.reject(e);var s=new Date(Date.now()+1e3*parseFloat(o)),a=new u.TokenFields({valid:!0,tokenValue:r},s);t.addTokenToStorage(a);var c=new p.TokenProfileResponse(a,n);return Promise.resolve(c)}))},e}();t.TokenService=A},979122:function(e,t,i){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=r(i(134301)),n=function(){function e(){}return e.prototype.fragmentToObject=function(e){var t=this.getHashFromURL(e);if(!t)return null;var i=this.processHashUrl(t),r=this.getOldHash(i),n=r?i.slice(i.indexOf("old_hash")):i,s=this.removeOldHash(n),a=this.getQueryParamsAsMap(s);r&&(a.old_hash=r);var c=a.state;return c&&(a.state=o.default.toJson(c)),a},e.prototype.getOldHash=function(e){if(!e)return"";var t=e.match("old_hash=(.*?)&from_ims=true");return t?t[1]:""},e.prototype.removeOldHash=function(e){return e?e.replace(/old_hash=(.*?)&from_ims=true/gi,"from_ims=true"):e},e.prototype.removeAccessToken=function(e){return void 0===e&&(e=window.location.hash),!e&&e.length<1?e:e.startsWith("#")?"#"+this.removeAccessToken(e.substring(1)):e.replace(/(^access_token=[^&]+&?)|(&access_token=[^&]+)/g,"")},e.prototype.getHashFromURL=function(e){void 0===e&&(e=window.location.href);var t=e.indexOf("#");return-1!==t?e.substring(t+1):""},e.prototype.getQueryParamsAsMap=function(e){if(!e)return{};var t={};return(e=e.replace(/^(#\/|\/|#|\?|&)/,"")).split("&").forEach((function(e){if(e.length){var i=e.split("=");t[i[0]]=decodeURIComponent(i[1])}})),t},e.prototype.processHashUrl=function(e){return e.replace("?error","#error").replace(/#/gi,"&").replace("from_ims=true?","from_ims=true&")},e}();t.default=new n},430889:function(e,t){"use strict";var i=this&&this.__awaiter||function(e,t,i,r){return new(i||(i=Promise))((function(o,n){function s(e){try{c(r.next(e))}catch(e){n(e)}}function a(e){try{c(r.throw(e))}catch(e){n(e)}}function c(e){var t;e.done?o(e.value):(t=e.value,t instanceof i?t:new i((function(e){e(t)}))).then(s,a)}c((r=r.apply(e,t||[])).next())}))},r=this&&this.__generator||function(e,t){var i,r,o,n,s={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return n={next:a(0),throw:a(1),return:a(2)},"function"==typeof Symbol&&(n[Symbol.iterator]=function(){return this}),n;function a(n){return function(a){return function(n){if(i)throw new TypeError("Generator is already executing.");for(;s;)try{if(i=1,r&&(o=2&n[0]?r.return:n[0]?r.throw||((o=r.return)&&o.call(r),0):r.next)&&!(o=o.call(r,n[1])).done)return o;switch(r=0,o&&(n=[2&n[0],o.value]),n[0]){case 0:case 1:o=n;break;case 4:return s.label++,{value:n[1],done:!1};case 5:s.label++,r=n[1],n=[0];continue;case 7:n=s.ops.pop(),s.trys.pop();continue;default:if(!(o=s.trys,(o=o.length>0&&o[o.length-1])||6!==n[0]&&2!==n[0])){s=0;continue}if(3===n[0]&&(!o||n[1]>o[0]&&n[1]<o[3])){s.label=n[1];break}if(6===n[0]&&s.label<o[1]){s.label=o[1],o=n;break}if(o&&s.label<o[2]){s.label=o[2],s.ops.push(n);break}o[2]&&s.ops.pop(),s.trys.pop();continue}n=t.call(e,s)}catch(e){n=[6,e],r=0}finally{i=o=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}([n,a])}}};Object.defineProperty(t,"__esModule",{value:!0});var o=function(){function e(){}return e.prototype.uriEncodeData=function(e){if("object"!=typeof e)return"";var t,i=[],r="";for(var o in e)void 0!==(t=e[o])&&(r=this.encodeValue(t),i.push(encodeURIComponent(o)+"="+r));return i.join("&")},e.prototype.encodeValue=function(e){return null===e?"null":"object"==typeof e?encodeURIComponent(JSON.stringify(e)):encodeURIComponent(e)},e.prototype.replaceUrl=function(e){e&&window.location.replace(e)},e.prototype.sleep=function(e){return i(this,void 0,void 0,(function(){return r(this,(function(t){return[2,new Promise((function(t){return setTimeout(t,e)}))]}))}))},e.prototype.replaceUrlAndWait=function(e,t){return i(this,void 0,void 0,(function(){return r(this,(function(i){switch(i.label){case 0:return e?(window.location.replace(e),[4,this.sleep(t)]):[2,Promise.resolve()];case 1:return i.sent(),[2,Promise.resolve()]}}))}))},e.prototype.setHrefUrl=function(e){e&&(window.location.href=e)},e.prototype.setHash=function(e){void 0===e&&(e=""),window.location.hash=e},e}();t.default=new o},268618:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i="abcdefghijklmnopqrstuvwxyz234567".split("").reduce((function(e,t,i){return e[t]=i,e}),{"=":0}),r=function(e){return function(e,t,i){var r=t-i.length;return r>0&&(i=new Array(r+1).join(e)+i),i}("0",5,e.toString(2))};t.decodeToBitstring=function(e,t){if(void 0===t&&(t=!1),"string"!=typeof e)throw new Error("Data is not a string");var o=e.toLowerCase().split("");!function(e){if(e.length%8!=0)throw new Error("Data length is not a multiple of 8");e.forEach((function(e){if(!(e in i))throw new Error("Unknown encoded character "+e)}));var t=!1;e.forEach((function(e){if("="!==e&&t)throw new Error("Found padding char in the middle of the string");"="===e&&(t=!0)}))}(o);var n=function(e){for(var t=e.length-1,i=0;"="===e[t];)++i,--t;return i}(o),s=[];o.forEach((function(e){s.push(r(i[e]))}));var a=s.join("");return n>0&&(a=a.slice(0,-5*n)),a.length%8!=0&&(a=a.slice(0,a.length%8*-1)),t?function(e){var t="";if(e.length%8!=0)throw new Error("Length must be a multiple of 8");for(var i=0,r=e.length;i<r;i+=8)t+=e.slice(i,i+8).split("").reverse().join("");return t}(a):a}},400073:(e,t)=>{"use strict";function i(e){return null!=e&&"object"==typeof e&&!Array.isArray(e)}Object.defineProperty(t,"__esModule",{value:!0}),t.isObject=i,t.merge=function e(t,r){if(null==t)return r;if(t===r)return t;if(!i(t))return t;var o=Object.assign({},t);return i(r)&&Object.keys(r).forEach((function(n){var s,a;i(r[n])?n in t?o[n]=e(t[n],r[n]):Object.assign(o,((s={})[n]=r[n],s)):Object.assign(o,((a={})[n]=r[n],a))})),o}},403847:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});var i=/\s|,/g;t.sortScopes=function(e){return e.split(i).sort().join(",")},t.validateScopeInclusion=function(e,t){var r=(null==t?void 0:t.split(i))||[];return((null==e?void 0:e.split(i))||[]).every((function(e){return r.includes(e)}))}},310240:(e,t,i)=>{var r=i(425699),o=i(523591);e.exports=r,e.exports.murmur3=r,e.exports.murmur2=o},523591:e=>{e.exports=function(e,t){for(var i,r=e.length,o=t^r,n=0;r>=4;)i=1540483477*(65535&(i=255&e.charCodeAt(n)|(255&e.charCodeAt(++n))<<8|(255&e.charCodeAt(++n))<<16|(255&e.charCodeAt(++n))<<24))+((1540483477*(i>>>16)&65535)<<16),o=1540483477*(65535&o)+((1540483477*(o>>>16)&65535)<<16)^(i=1540483477*(65535&(i^=i>>>24))+((1540483477*(i>>>16)&65535)<<16)),r-=4,++n;switch(r){case 3:o^=(255&e.charCodeAt(n+2))<<16;case 2:o^=(255&e.charCodeAt(n+1))<<8;case 1:o=1540483477*(65535&(o^=255&e.charCodeAt(n)))+((1540483477*(o>>>16)&65535)<<16)}return o=1540483477*(65535&(o^=o>>>13))+((1540483477*(o>>>16)&65535)<<16),(o^=o>>>15)>>>0}},425699:e=>{e.exports=function(e,t){var i,r,o,n,s,a,c,l;for(i=3&e.length,r=e.length-i,o=t,s=3432918353,a=461845907,l=0;l<r;)c=255&e.charCodeAt(l)|(255&e.charCodeAt(++l))<<8|(255&e.charCodeAt(++l))<<16|(255&e.charCodeAt(++l))<<24,++l,o=27492+(65535&(n=5*(65535&(o=(o^=c=(65535&(c=(c=(65535&c)*s+(((c>>>16)*s&65535)<<16)&4294967295)<<15|c>>>17))*a+(((c>>>16)*a&65535)<<16)&4294967295)<<13|o>>>19))+((5*(o>>>16)&65535)<<16)&4294967295))+((58964+(n>>>16)&65535)<<16);switch(c=0,i){case 3:c^=(255&e.charCodeAt(l+2))<<16;case 2:c^=(255&e.charCodeAt(l+1))<<8;case 1:o^=c=(65535&(c=(c=(65535&(c^=255&e.charCodeAt(l)))*s+(((c>>>16)*s&65535)<<16)&4294967295)<<15|c>>>17))*a+(((c>>>16)*a&65535)<<16)&4294967295}return o^=e.length,o=2246822507*(65535&(o^=o>>>16))+((2246822507*(o>>>16)&65535)<<16)&4294967295,o=3266489909*(65535&(o^=o>>>13))+((3266489909*(o>>>16)&65535)<<16)&4294967295,(o^=o>>>16)>>>0}},571909:(e,t,i)=>{"use strict";i.d(t,{L0:()=>c,OH:()=>d,XB:()=>u,lm:()=>l});var r=i(314685),o=i(318803),n=i(24387),s=i(207268);class a{constructor(e){this.name=e.name,e.checkFloodgate&&(this.floodgateData={syncedWithFloodgate:!1},e.floodgateKey&&(this.floodgateData.floodgateKey=e.floodgateKey),e.dynamic&&(this.floodgateData.dynamic=e.dynamic)),this._appConfig=new s.B}attach(e){this._appConfig instanceof s.B&&this._appConfig.resolve(e),void 0!==this._cachedValue&&this.resetCachedValue(),this._appConfig=e;const t=(e.isPendingExperimentResolution(this.name)||e.isPendingRolloutResolution(this.name))&&void 0===this._pendingInitialization,i=e._getBrowserFlag(this.name);t&&void 0===i?(this._pendingInitialization=new s.B,e.registerListener(this.name,(e=>{void 0!==e&&this._featureUpdated()}))):this._pendingInitialization?.isSettled&&delete this._pendingInitialization,this.initialized()}async isEnabled(){return await this.initialized(),this.enabled}get enabled(){if(this._pendingInitialization){const e=`The feature flag ${this.name} is not initialized yet, please check it asynchronously by using "initialized()"`;throw console.error(e),new Error(e)}return this._getEnabled()}resetCachedValue(){this._cachedValue=void 0}_getEnabled(){if(void 0!==this._cachedValue)return this._cachedValue;if(this._appConfig instanceof s.B){const e="Feature not attached to appConfig: "+this.name;throw console.error(e),new Error(e)}let e=()=>{};this.floodgateData&&(e=()=>{if(!this.floodgateData.syncedWithFloodgate){const e="Floodgate features can not be checked before feature.initialized(), or await feature.isEnabled()";throw console.error(e),new Error(e)}return this.floodgateData.valueFromFloodgate});const t=this._appConfig._getFeatureEnabled(this.name,e);return this.floodgateData&&this.floodgateData.dynamic||(this._cachedValue=t),t}async initialized(){const e=[];return this._pendingInitialization&&e.push(this._pendingInitialization.promise),this.floodgateData&&(void 0===this.floodgateData.initFromFloodgatePromise&&(this.floodgateData.initFromFloodgatePromise=this._initializeFromFloodgate()),e.push(this.floodgateData.initFromFloodgatePromise)),Promise.all(e)}async _initializeFromFloodgate(){this._appConfig instanceof s.B&&await this._appConfig.promise,this.floodgateData&&await this._syncWithFloodgate()}_featureUpdated(){this._pendingInitialization instanceof s.B&&(this._pendingInitialization.resolve(!0),delete this._pendingInitialization),this._callbacks&&this._callbacks.forEach((e=>{e(this.enabled)}))}onUpdate(e){this._callbacks=this._callbacks??[],this._callbacks.push(e)}get _floodgateSyncer(){return n.Y.getInstance(this._appConfig)}async _syncWithFloodgate(){this._appConfig instanceof s.B&&await this._appConfig.promise;const e=this.floodgateData.floodgateKey??this.name;this.floodgateData.valueFromFloodgate=await this._floodgateSyncer.getFeatureState(e),this.floodgateData.syncedWithFloodgate=!0,this.floodgateData.dynamic&&(this._featureUpdated(),this._floodgateSyncer.registerForUpdates(this,(e=>{this._updateFloodgateState(e)})))}_updateFloodgateState(e){const t=this.enabled;this.floodgateData.valueFromFloodgate=e;this.enabled!==t&&this._featureUpdated()}}class c extends a{constructor(e,t){super({name:e,enabledDefault:Boolean(t)})}}class l extends a{constructor(e,t,i){super({name:e,enabledDefault:!1,checkFloodgate:!0,dynamic:Boolean(t),floodgateKey:i})}}class u extends a{constructor(e){super({name:e,enabledDefault:!1})}async isEnabled(){if(this._appConfig instanceof s.B){const e=`FeatureChecker not attached to appConfig: ${this.name}`;throw console.error(e),new Error(e)}const e=this._appConfig.getFloodgateKeyOrName(this.name);return e&&!this.floodgateData&&(this.floodgateData={floodgateKey:e,syncedWithFloodgate:!0}),super.isEnabled()}get enabled(){if(r.t3.has(this.name))throw new Error(`FeatureChecker cannot be used to check draft feature flags: ${this.name}`);return super.enabled}}class d extends a{constructor(e){super({name:e,enabledDefault:!1})}get enabled(){if(this._appConfig instanceof s.B){const e=`Feature not attached to appConfig: ${this.name}`;throw console.error(e),new Error(e)}const e=this._appConfig;let t=e._getBrowserFlag(this.name);return"boolean"!=typeof t&&(t=r.Vd.has(this.name)),(!t||e._environment!==o.b.prod)&&t}}},90541:(e,t,i)=>{"use strict";i.d(t,{M:()=>a,m:()=>s});var r=i(314685),o=i(392113),n=i(473450);class s{constructor(e){this.name="ModuleOverrides",this.config=e}attach(e){}}class a extends o.w{constructor(e){super(),this._attachedConfigInterface=new Set,this.moduleSpecificFeatures={},this.moduleSpecificSettings={},this.moduleSpecificEnvSettings={},this._appConfig=e}async initialize(e,t,i,r){this.buildInfo=e,this._setModuleOverrides(i),this.setStaticFeatureFlags({...i.featureValues,...r.features}),this.setStaticSettings({...i.settingValues,...r.settings}),await this.initialized()}createModuleConfig(){throw new Error("Method not implemented.")}_setModuleOverrides(e){for(const t of Object.keys(e.moduleSpecificFeatures))this.moduleSpecificFeatures[t]=e.moduleSpecificFeatures[t];for(const t of Object.keys(e.moduleSpecificSettings))this.moduleSpecificSettings[t]=e.moduleSpecificSettings[t];for(const t of Object.keys(e.moduleSpecificEnvSettings))this.moduleSpecificEnvSettings[t]=e.moduleSpecificEnvSettings[t]}async initialized(){await Promise.all([this.initPromiseFeatureOverrides,this.initPromiseSettingOverrides]),this._initialized=!0}async getWorkerDataTransfer(){await this.initialized();const{sessionId:e,buildInfo:t,compiledConfig:i,localConfig:o}=await this._appConfig.getWorkerDataTransfer();return{sessionId:e,buildInfo:t,compiledConfig:{settingValues:{...i.settingValues,...this.settingOverrides,...this.moduleSpecificSettings},featureValues:{...i.featureValues,...this.featureOverrides,...this.moduleSpecificFeatures},moduleSpecificSettings:this.moduleSpecificSettings,moduleSpecificEnvSettings:this.moduleSpecificEnvSettings,moduleSpecificFeatures:this.moduleSpecificFeatures,envSettings:i.envSettings,floodgateFeatureNames:i.floodgateFeatureNames,draftDocModelFeatureNames:i.draftDocModelFeatureNames,lazySettings:i.lazySettings},releasePlaneConfig:{features:{...this.featureOverrides,...this.moduleSpecificFeatures},settings:{...this.settingOverrides,...this.moduleSpecificSettings}},localConfig:o,ENABLED_DRAFT_FEATURE_FLAGS:r.Vd}}async hasFeature(e){if(!this._initialized){const e="ModuleConfig not initialized";throw console.error(e),new Error(e)}return"boolean"==typeof this.moduleSpecificFeatures[e]?this.moduleSpecificFeatures[e]:"boolean"==typeof this.featureOverrides[e]?this.featureOverrides[e]:this._appConfig.hasFeature(e)}async attach(e){for(const t of Object.keys(e))e[t].attach(this),this._attachedConfigInterface.add(e[t]);return this.initialized()}detachConfiguration(){[...this._attachedConfigInterface].forEach((e=>{e.attach(this._appConfig)}))}_getFeatureEnabled(e,t){if(!this._initialized){const e="ModuleConfig not initialized";throw console.error(e),new Error(e)}const i=this._appConfig._getBrowserFlag(e);if(void 0!==i)return this.tryToLogFeatureFlag(e,n.R.browserFlags,i),i;if("boolean"==typeof this.moduleSpecificFeatures[e])return this._appConfig.tryToLogFeatureFlag(e,n.R.moduleConfig,this.moduleSpecificFeatures[e]),this.moduleSpecificFeatures[e];if(this._appConfig.isInExperiment(e)){const t=this.getFeatureValueFromExperiments(e);if(void 0!==t)return this._appConfig.tryToLogFeatureFlag(e,n.R.expClient,t),t}const r=this.getFeatureValueFromRolloutConfigurations(e);return void 0!==r?(this._appConfig.tryToLogFeatureFlag(e,n.R.rollout,r),r):"boolean"==typeof this.featureOverrides[e]?(this._appConfig.tryToLogFeatureFlag(e,n.R.moduleConfig,this.featureOverrides[e]),this.featureOverrides[e]):this._appConfig._getFeatureEnabled(e,t)}_getSettingValue(e){if(!this._initialized){const e="ModuleConfig not initialized";throw console.error(e),new Error(e)}const t=this._getEnvValue(this.moduleSpecificEnvSettings[e]);return void 0!==t?t:void 0!==this.moduleSpecificSettings[e]?this.moduleSpecificSettings[e]:void 0!==this.settingOverrides[e]?this.settingOverrides[e]:this._appConfig._getSettingValue(e)}async getFeaturesFromExperiments(){return this._appConfig.getFeaturesFromExperiments()}async getFeaturesOverrides(){return this.featureOverrides}async getEnabledFeaturesFromFloodgate(e){return this._appConfig.getEnabledFeaturesFromFloodgate(e)}resolvePendingExperimentFeatureFlags(){this._appConfig.resolvePendingExperimentFeatureFlags()}resolvePendingRolloutFeatureFlags(){this._appConfig.resolvePendingRolloutFeatureFlags()}getBrowserLocalConfig(){return this._appConfig.getBrowserLocalConfig()}async adoptDraftModelFlags(e){return this._appConfig.adoptDraftModelFlags(e)}async enableAllFeatureFlags(){this._appConfig.enableAllFeatureFlags()}async getAppDraftModelFlags(){return this._appConfig.getAppDraftModelFlags()}async getFeatures(e){return{...await this._appConfig.getFeatures(e),...this.featureOverrides,...this.moduleSpecificFeatures}}getSettings(){return this._appConfig.getSettings()}hasDraftFeature(e){return this._appConfig.hasDraftFeature(e)}updateFeaturesFromExperiments(e){this._appConfig.updateFeaturesFromExperiments(e)}updateRolloutFeatures(e){this._appConfig.updateRolloutFeatures(e)}_resetBrowserFlags(){const e="Method not implemented";throw console.error(e),new Error(e)}_setBrowserFlag(e,t){this._appConfig._setBrowserFlag(e,t)}_setBrowserSetting(e,t){this._appConfig._setBrowserSetting(e,t)}getLocalConfig(){return this._appConfig.getLocalConfig()}setLocalConfig(e){this._appConfig.setLocalConfig(e)}_setBrowserFlagList(e,t){this._appConfig._setBrowserFlagList(e,t)}registerListener(e,t){this._appConfig.registerListener(e,t)}isInExperiment(e){return this._appConfig.isInExperiment(e)}isPendingExperimentResolution(e){return this._appConfig.isPendingExperimentResolution(e)}isPendingRolloutResolution(e){return this._appConfig.isPendingRolloutResolution(e)}_getEnvValue(e){return this._appConfig._getEnvValue(e)}getFloodgateKeyOrName(e){return this._appConfig.getFloodgateKeyOrName(e)}_getBrowserFlag(e){return this._appConfig._getBrowserFlag(e)}get _environment(){return this._appConfig._environment}async getHost(){return this._appConfig.getHost()}async getCurrentBuildState(){return this._appConfig.getCurrentBuildState()}getCurrentBuildStateSync(){return this._appConfig.getCurrentBuildStateSync()}addBuildStateObserver(e){return this._appConfig.addBuildStateObserver(e)}getFeatureOverrideValue(e){return this._appConfig.getFeatureOverrideValue(e)}getFeatureValueFromExperiments(e){return this._appConfig.getFeatureValueFromExperiments(e)}getFeatureValueFromRolloutConfigurations(e){return this._appConfig.getFeatureValueFromRolloutConfigurations(e)}getAccessTokenProvider(){return this._appConfig.getAccessTokenProvider()}setFactoryForAccessTokenProvider(e){this._appConfig.setFactoryForAccessTokenProvider(e)}syncWithFloodgate(){return this._appConfig.syncWithFloodgate()}persistAllBrowserFlags(){return this._appConfig.persistAllBrowserFlags()}isLazySetting(e){return this._appConfig.isLazySetting(e)}maybeRegisterSettingResolver(e,t){return this._appConfig.maybeRegisterSettingResolver(e,t)}}},107169:(e,t,i)=>{"use strict";i.d(t,{NE:()=>a,NK:()=>l,Wb:()=>s,jL:()=>c,pE:()=>n});var r=i(207268);class o{constructor(e){this.name=e.name,this._appConfig=new r.B}attach(e){this._appConfig instanceof r.B&&this._appConfig.resolve(e),e.isLazySetting(this.name)&&(this._deferred=new r.B),this._appConfig=e}get value(){if(this._appConfig instanceof r.B){const e=`Setting not attached to appConfig: ${this.name}`;throw console.error(e),new Error(e)}if(this._deferred){const e=`This setting doesn't have a value yet, you should use getValue to wait for it: ${this.name}`;throw console.error(e),new Error(e)}return this._appConfig._getSettingValue(this.name)}async getValue(){return this._appConfig instanceof r.B&&await this._appConfig.promise,this._deferred&&this._valueProvider?(this._deferred.adoptOnce(this._valueProvider),this._deferred.promise.then((e=>{delete this._deferred,this._appConfig._setSettingValue(this.name,e)})),this._deferred.promise):this.value}async initialized(){this._appConfig instanceof r.B&&await this._appConfig.promise}}class n extends o{constructor(e,t){super({name:e,valueDefault:t})}}class s extends o{constructor(e,t){super({name:e}),this._valueProvider=t}}class a extends o{constructor(e,t,i){super({name:e,valueDefault:t,envOverrides:i})}}class c extends o{constructor(e){super({name:e}),this._settingResolverPromise=new Promise((e=>{this._settingResolver=t=>{delete this._settingResolver,e(t)}}))}attach(e){if(this._appConfig instanceof r.B&&this._appConfig.resolve(e),this._appConfig=e,this._settingResolverPromise){this._appConfig.maybeRegisterSettingResolver(this.name,this._settingResolver)||(delete this._settingResolver,delete this._settingResolverPromise)}}async getValue(){return this._settingResolverPromise?this._settingResolverPromise.then((()=>(delete this._settingResolver,delete this._settingResolverPromise,this._appConfig._getSettingValue(this.name)))):this.value}}class l extends o{constructor(e){super({name:e})}}},674286:(e,t,i)=>{"use strict";i.d(t,{e:()=>n,s:()=>r});var r,o=i(915115);!function(e){e.deterministic="deterministic",e.forced="forced"}(r||(r={}));class n{constructor(e=[],t=[]){this._zeroCostExperimentsAsignments=new Map,this._zeroCostExperiments=e,this._forcedExperiments=t}static getInstance(e=[],t=[]){return this._instance||(this._instance=new n(e,t)),this._instance}getZeroCostExperimentsAsignments(){return this._zeroCostExperimentsAsignments}calculateZeroCostExperimentsFeatureFlags(){const e={};return this._zeroCostExperiments.forEach((t=>{const i=this._forcedExperiments.find((e=>e.name===t.name));i?this.processForcedExperiment(t,i,e):this.processDeterministicExperiment(t,e)})),e}processForcedExperiment(e,t,i){const o=e.variants.find((e=>e.name===t.variantName));o&&o.featureOverrides&&this.applyFeatureOverrides(o.featureOverrides,i),this._zeroCostExperimentsAsignments.set(e,{assignedVariant:t.variantName,typeOfAssignment:r.forced})}processDeterministicExperiment(e,t){let i;i=e.crossApp?o.Cl.getCloudVisitorIdCookie():o.Cl.getAnonymousId();const n=o.Cl.getNewVariantForAssignment(e,i);n&&n.featureOverrides&&(this.applyFeatureOverrides(n.featureOverrides,t),this._zeroCostExperimentsAsignments.set(e,{assignedVariant:n.name,typeOfAssignment:r.deterministic}))}applyFeatureOverrides(e,t){Object.entries(e).forEach((([e,i])=>{t[e]=i}))}}},430754:(e,t,i)=>{"use strict";var r;i.d(t,{gS:()=>l,lu:()=>c}),function(e){e.abTest="A/B test",e.multiVariantTest="Multi-Variant test",e.aaTest="A/A test"}(r||(r={}));var o=i(631458),n=i(915115),s=i(589806);class a{constructor(e){if(this._experiments=[],this._forcedExperiments=[],!e||!Array.isArray(e.experiments)||!Array.isArray(e.forcedExperiments))return this._experiments=[],void(this._forcedExperiments=[]);this._experiments=e.experiments,this._forcedExperiments=e.forcedExperiments}getAllAsyncFeaturesFromExperiments(){const e=this.experiments.filter((e=>!this.isSyncExperiment(e)));return(0,n.eL)(e)}isSyncExperiment(e){return function(e){const t=!e.authRequired,i=0===Object.keys(e.segmentation.rules).length,r=void 0===e.surface||0===e.surface.length;return t&&i&&r}(e)}}class c extends a{get experiments(){const e=this._experiments.filter((e=>this.isSyncExperiment(e)));return s.Yd.get("Experimentation").debug("ExpPlatform:Client:Activation Active sync experiments",{activeSyncExperiments:e.filter((e=>e.state===o.F.active)).map((e=>e.id)),timestamp:Date.now()}),e}get forcedExperiments(){return this._forcedExperiments.filter((e=>{const t=this._experiments.find((t=>t.name===e.name));return t&&this.isSyncExperiment(t)}))}}class l extends a{get experiments(){const e=this._experiments.filter((e=>!this.isSyncExperiment(e)));return s.Yd.get("Experimentation").debug("ExpPlatform:Client:Activation Active async experiments",{activeAsyncExperiments:e.filter((e=>e.state===o.F.active)).map((e=>e.id)),timestamp:Date.now()}),e}get forcedExperiments(){return this._forcedExperiments.filter((e=>{const t=this._experiments.find((t=>t.name===e.name));return t&&!this.isSyncExperiment(t)}))}}},915115:(e,t,i)=>{"use strict";i.d(t,{Cl:()=>p,Rh:()=>l,eL:()=>_});var r=i(589806),o=i(472568),n=i(310240);const s="hz-anonymous-id",a="assignment-cookie-value",c=1e4,l=1729491919;function u(e,t){const{trafficAllocation:i}=e;return!i||i>=t}function d(e,t){if(t%100>=(e.trafficAllocation||100))return;const i=t%e.variants.length;return e.variants[i]}function h(e,t){const{variants:i}=e,r=e.trafficAllocation||100,o=i.length;let n=0,s=0;const a=parseFloat((100/o).toFixed(2));for(let e=0;e<o;e++){const c=i[e];let l=a;l=l/100*r,n=s;if(s=e===o-1?r:n+l,t>n&&t<=s)return c}}const _=e=>{if(!Array.isArray(e))return{};const t={};for(const i of e)for(const e of i.variants)Object.assign(t,e.featureOverrides);for(const e in t)t[e]=!1;return t};const p={convertKeyToPercent:function(e,t){if(!e||0===e.length)throw new Error("Provide a key to calculate assignment to the experiment");const i=e+t,r=f.murmurHash(i);return Math.abs(r)%c/c*100},convertKeyToBucket:function(e,t){if(!e||0===e.length)throw new Error("Provide a key to calculate assignment to the experiment");const i=e+t,r=(0,n.murmur3)(i);return Math.abs(r)%c},canUserBePartOfExperimentTraffic:u,getVariantFromUserPlacementBucket:h,isVariantNameValid:function(e,t){const{variants:i}=e;return Boolean(i.find((e=>e.name===t)))},getNewVariantForAssignment:function(e,t,i=""){let o;if(void 0===t)return r.Yd.get("Experimentation").debug("ExpPlatform:Client:Assignment Cannot assign experiment as user key is not available for experiment assignment",{experimentName:e.name}),o;const n=p.convertKeyToPercent(t,e.id+i),s=u(e,n);return s&&(o=h(e,n)),r.Yd.get("Experimentation").debug("ExpPlatform:Client:Assignment Getting a new variant for assignment based on user placement",{experimentName:e.name,variantName:o?.name,key:t,salt:e.id+i,userPlacement:n,trafficAllocation:e.trafficAllocation,isUserEligibleForExperiment:s}),o},getNewVariantForAssignmentWithBucketing:function(e,t,i=""){if(void 0===t)return void r.Yd.get("Experimentation").debug("ExpPlatform:Client:Assignment Cannot assign experiment as user key is not available for experiment assignment",{experimentName:e.name});const o=p.convertKeyToBucket(t,e.id+i),n=d(e,o);return r.Yd.get("Experimentation").debug("ExpPlatform:Client:Assignment Getting a new variant for assignment based on user bucket",{experimentName:e.name,variantName:n?.name,key:t,salt:e.id+i,userBucket:o,trafficAllocation:e.trafficAllocation,isUserEligibleForExperiment:void 0!==n}),n},getVariantFromUserBucket:d,getExperimentFeatures:_,getAnonymousId:function(){let e="noLS";return globalThis.localStorage&&(e=globalThis.localStorage.getItem(s),e||(e=(0,o.Z)(),globalThis.localStorage.setItem(s,e))),e},getCloudVisitorIdCookie:function(e="AMCV_9E1005A551ED61CA0A490D45%40AdobeOrg"){const t=document.cookie.split(";").find((t=>t.includes(e)));if(!t)return void r.Yd.get("Experimentation").info("ExpPlatform:Client:Assignment Cloud Visitor ID cookie not found");const i=t.trim().replace(e+"=","");let o=i;try{o=decodeURIComponent(i)}catch(e){if(e instanceof URIError)return void r.Yd.get("Experimentation").warn("ExpPlatform:Client:Assignment Failed to decode cookie value")}const n=o.match(/MCMID\|([^|]+)/);if(!n)return;const s=n[1];if(globalThis.localStorage){const e=globalThis.localStorage.getItem(a);e&&e!==s&&r.Yd.get("Experimentation").info("ExpPlatform:Client:Assignment Cloud Visitor ID cookie changed value:",{previousCookieValue:e,finalCookieValue:s}),globalThis.localStorage.setItem(a,s)}return s},createSegmentationFilterTimeout:function(e,t,i=2e3){return setTimeout((()=>{t(new Error(`ExpPlatform:Client:Segmentation Timeout waiting analytics context property for: ${e} to resolve.`))}),i)},createContextualSegmentationFilterTimeout:function(e,t="not-available",i=2e3){return setTimeout((()=>{e(t)}),i)},getPropertyValueAsString:function(e,t){const i=e[t];return"string"==typeof i?i:void 0}},f={murmurHash:function(e){return(0,n.murmur3)(e)}}},442356:(e,t,i)=>{"use strict";i.d(t,{t:()=>o});class r{constructor(e){this._rolloutConfigurations=[],e&&Array.isArray(e.rolloutConfigurations)?this._rolloutConfigurations=e.rolloutConfigurations:this._rolloutConfigurations=[]}}class o extends r{get rolloutConfigurations(){return this._rolloutConfigurations}getAllFeaturesFromRolloutConfigurations(){const e={};for(const t of this._rolloutConfigurations)Object.assign(e,t.configuration.features);for(const t in e)e[t]=!1;return e}}},240630:(e,t,i)=>{"use strict";i.d(t,{w:()=>r});class r{constructor(e){this.locator=e}}},911454:(e,t,i)=>{"use strict";i.d(t,{S:()=>r});class r{constructor(e,t,i){this._appConfig=e,this._getDependencies=t,this._brickValidator=i}shouldInertBrick(e,t){return!(!e.requiredFlags||e.requiredFlags.every((e=>t[e])))||!(!e.requiredDraftModels||e.requiredDraftModels.every((e=>t[e])))}async collectBricksAndDependencies(e){const t=new Set,i=await this._appConfig.getFeatures(!0);for(const r of e)this._collectBrickAndDependencies(r,i,t);return[...t]}_collectBrickAndDependencies(e,t,i=new Set,r=[]){if(-1!==r.indexOf(e))throw new Error(`Circular brick dependency detected for brick "${e.id}" - ancestors: [${r.join(", ")}]`);if(i.has(e))return;if(this.shouldInertBrick(e,t))return;i.add(e),r.push(e);const o=void 0!==this._brickValidator;if(o&&!this._brickValidator.isValidLevel(e.level))throw new Error(`Invalid brick level for ${e.id}`);const n=this._getDependencies(e);for(const s of n){if(o&&!this._brickValidator.isValidLevelDependency(e.level,s.level))throw new Error(`Invalid brick level dependency from ${e.id} (${e.level}) to ${s.id} (${s.level})`);this._collectBrickAndDependencies(s,t,i,r)}r.pop()}}},228138:(e,t,i)=>{"use strict";i.d(t,{i:()=>h});var r=i(472568),o=i(207268),n=i(17305),s=i(589806),a=i(240630),c=i(911454),l=i(87818),u=i(826033),d=i(235840);class h{constructor(e,t,i){this._appConfig=e,this._perf=t,this._activeBrickEntries=new Map,this._isBrickActivatePerfEnabledDeferred=new o.B;const n=(0,r.Z)();this._perf.beginAction(d.l.brickManagerConstruction,d.l.brickManagerConstruction,n,void 0,{marked:!0}),this._isBrickActivatePerfEnabledDeferred.adopt(this._appConfig.attach(u.q).then((()=>u.q.brickActivatePerf.enabled)));this._brickDependencyCollector=new c.S(this._appConfig,(e=>e.dependencies??[]),i),this._perf.endAction(n)}isBrickActive(e){return this._activeBrickEntries.has(e)}async activateBrick(e,t){return await this.activateBricks(e,[t]),this._activeBrickEntries.get(t.id)?.brick}async _activateBrickWithoutDependencies(e,t,i){const r=t.id;if(this._validateActivatingBrickId(t),(t.requiredFlags||t.requiredDraftModels)&&this._brickDependencyCollector.shouldInertBrick(t,i))return;if(this._activeBrickEntries.has(r))return;const o=this._createBrickInstance(t);return this._activateBrickInstance(e,o,r)}async activateBrickInstance(e,t,i){if(!this._activeBrickEntries.has(i))return this._activateBrickInstance(e,t,i)}async _activateBrickInstance(e,t,i){const r=this._createBrickContext(e),o=this._createBrickDeactivator(i),n=t.constructor;return await this._activateBrick(i,{brickConstructor:n,brick:t,context:r},o),t}async collectBricksAndDependencies(e){return this._brickDependencyCollector.collectBricksAndDependencies(e)}async activateBricks(e,t){const i=await this.collectBricksAndDependencies(t);return this._activateBricks(e,i)}async activateBricksUsingPrecomputedDependencies(e,t){return this._activateBricks(e,t)}async _activateBricks(e,t){const i=await this._appConfig.getFeatures(!0);return await Promise.all(t.map((t=>this._activateBrickWithoutDependencies(e,t,i))))}_validateActivatingBrickId(e){const t=e.id;if(!t)throw new Error("Missing brick id property");if(this._activeBrickEntries.has(t)){if(this._activeBrickEntries.get(t).brickConstructor!==e)throw new Error(`Brick with ID "${t}" was already activated with a different constructor`)}if("function"!=typeof e)throw new Error(`Brick with ID "${t}" is not a constructor`);if(e.prototype.requiredFlags||e.prototype.requiredDraftModels)throw new Error(`Brick with ID "${t}" must specify requiredFlags and/or requiredDraftModels as static fields, not instance members`)}_createBrickInstance(e){let t;try{t=new e}catch(t){throw new Error(`TypeError: Brick with ID "${e.id}" threw an exception`)}if("function"!=typeof t.onActivate)throw new Error(`Brick with ID "${e.id}" is missing the activate lifecycle method`);return t}async _activateBrick(e,t,i){this._activeBrickEntries.set(e,t);try{const r=await this._isBrickActivatePerfEnabledDeferred.promise;r&&this._perf.beginStartupAction(`brick-activate-${e}`);const{brick:o,context:n}=t;await o.onActivate(n,i),r&&this._perf.endStartupAction(`brick-activate-${e}`)}catch(t){let i;if(this._activeBrickEntries.delete(e),t instanceof n.R)i=t;else{let r;const o=t.stack?.toString();r=o?`previous error stack: ${o}`:`current error stack: ${(new Error).stack?.toString()??"No stack available"}`,i=new n.R("BrickActivation",`Failed to activate brick with ID "${e}"`,{previousError:t,logMetadata:{errorStackMessage:r}})}throw this._handleBrickActivationError(i),i}}_handleBrickActivationError(e){l.I.logClientFatalError(e,s.Yd.singleton())}setBrickContextFactory(e){this._brickContextFactory=e}_createBrickContext(e){return void 0===this._brickContextFactory?new a.w(e):this._brickContextFactory(e)}_createBrickDeactivator(e){return async()=>this._deactivateBrick(e)}async _deactivateBrick(e){const t=this._activeBrickEntries.get(e);if(!t)throw new n.R("BrickDeactivation",`Brick "${e}" is not active.`);const{brick:i,context:r}=t;await(i.onDeactivate?.(r)),this._activeBrickEntries.delete(e)}async deactivateBricks(){for(const e of[...this._activeBrickEntries.keys()].reverse())await this._deactivateBrick(e)}async loadDynamicBricks(e,t){t&&await Promise.all(t.map((async t=>{const i=await import(t);return this.activateBrick(e,i.default)})))}get activeBrickIds(){return Array.from(this._activeBrickEntries.keys()).sort()}}},87818:(e,t,i)=>{"use strict";i.d(t,{I:()=>o});var r=i(17305);class o{static _isChunkLoadError(e){return e instanceof r.R&&void 0!==e.previousError?o._isChunkLoadError(e.previousError):"ChunkLoadError"===e.name}static logClientFatalError(e,t){if(o._isChunkLoadError(e)||!(e instanceof r.R))return;const i={error:e,"custom.brickFatalError":!0};t.error(e.message,i)}}},826033:(e,t,i)=>{"use strict";i.d(t,{q:()=>r});const r={brickActivatePerf:new(i(571909).L0)("brick-activate-perf",!1)}},235840:(e,t,i)=>{"use strict";var r;i.d(t,{l:()=>r}),function(e){e.brickManagerConstruction="brick-manager-construction"}(r||(r={}))},387908:(e,t,i)=>{"use strict";i.d(t,{R:()=>v,s:()=>E});var r=i(549649),o=i(727325),n=i(159625),s=i(712992),a=i(953853),c=i(545276),l=i(585791),u=i(990779),d=i(26481),h=i(198264),_=i(472568),p=i(800646);const f={maxAttempts:3,shouldRetry:e=>!(e instanceof o.o&&!1===e.retryable),delay:500},g={eventName:a.CA.EVENT_PAGENAME,type:a.CA.EVENT_TYPE,subType:a.CA.EVENT_SUBTYPE,workflow:a.CA.EVENT_WORKFLOW,subCategory:a.CA.EVENT_SUBCATEGORY},m=new Set(Object.values(a.CA));class E{constructor(e,t){this._spec=e,t&&(this._analyticsClient=t,this._analyticsClient._registerEvent(this))}trigger(e){if(!this._analyticsClient)throw new Error("AnalyticsEvent instance without AnalyticsClient detected. Please register the event with AnalyticsClient.");const t={};for(const[e,i]of Object.entries(g))t[i]=this._spec[e];if(e){let i,r;const o=e;a.a0.TIME_START in o&&(i=new Date(o[a.a0.TIME_START]),o[a.CA.EVENT_TIME_START]=i.toISOString(),delete o[a.a0.TIME_START]),a.a0.TIME_END in o&&(r=new Date(o[a.a0.TIME_END]),o[a.CA.EVENT_TIME_END]=r.toISOString(),delete o[a.a0.TIME_END]),i&&r&&(o[a.CA.EVENT_VALUE]=r.getTime()-i.getTime());const n=o[a.a0.IS_FAILURE];void 0!==n&&(n&&(o[a.CA.EVENT_TYPE]="error"),delete o[a.a0.IS_FAILURE]);for(const i of Object.keys(e))m.has(i)||0!==i.indexOf("custom.")&&console.warn("Unrecognized AnalyticsPropertyName",{invalidName:i}),t[i]=e[i]}this._analyticsClient.context.isInitialized()?this._analyticsClient._sendEvent(t):this._analyticsClient.context.initialized().then((()=>{this._analyticsClient._sendEvent(t)}))}set name(e){this._spec.eventName=e}get name(){return`${this._spec.eventName}`}get type(){return this._spec.type}get subType(){return this._spec.subType}set client(e){this._analyticsClient=e}get client(){return this._analyticsClient}}class v{constructor(e,t,i,r,o,n){this._appConfig=e,this._analyticsContext=i,this._eventDataTransport=t,this._marketingTechService=r,this._privacyService=o,this._events={},this._listeners=new Set,this._consentListeners=new Set,this._executionEnvironment=u.st.Browser,this._enableAnalytics=!0,this._userConsentFromCookies=a.Yz.UNINITIALIZED,this._crashLogsConsent=!1,this._ingestService=n,this._eventQueue=new p.NH(this._eventQueueDeliveryFunction.bind(this)),this._eventQueue.maxQueueLength=20,this._eventQueue.batchSize=10}static get defaultInstance(){if(!v._defaultInstance){const e=n.y.singleton(),t=e.attach(l.q),i=t.then((()=>({useExperienceEdge:l.q.useExperienceEdge.enabled,aepConfigId:l.q.aepConfigId.value,launchURL:l.q.launchURL.value,marketingTechURL:l.q.marketingTechURL.value}))),r=new h.$(e.getHost(),i),u=t.then((()=>({otDomainId:l.q.otDomainId.value,privacyUrl:l.q.privacyURL.value}))),_=new d.h(e.getHost(),u),p=t.then((()=>({env:l.q.env.value,envName:l.q.envName.value,includeIngestBuildPrefix:l.q.includeIngestBuildPrefix.enabled,appSAPCode:l.q.appSAPCode.value,appVersion:l.q.appVersion.value,ingestAppCategory:l.q.ingestAppCategory.value,aaTrackingServer:l.q.aaTrackingServer.value,aaSecureTrackingServer:l.q.aaSecureTrackingServer.value,buildInfo:e.buildInfo,bundleHash:l.q.bundleHash.value,useExperienceEdge:l.q.useExperienceEdge.enabled,aepConfigId:l.q.aepConfigId.value,launchURL:l.q.launchURL.value,marketingTechURL:l.q.marketingTechURL.value}))),f=new c.f(e.getHost(),e.sessionId,p,r),g=t.then((()=>({ingestProcessingInterval:l.q.ingestProcessingInterval.value,analyticsBufferLimit:l.q.analyticsBufferLimit.value,ingestConfig:{ingestApiKey:l.q.ingestAPIKey.value,ingestAppCategory:l.q.ingestAppCategory.value,ingestProject:l.q.ingestProject.value,envName:l.q.ingestHostAlwaysProdEnabled.enabled?a.kC.ENVIRONMENT_PROD:l.q.envName.value,ingestHost:l.q.ingestHostAlwaysProdEnabled.enabled?l.q.ingestHostAlwaysProd.value:l.q.ingestHost.value,token:"",ingestWaitForAppStartup:l.q.ingestWaitForAppStartup.enabled}}))),m=new s.v(e.getHost(),g),E=o.k.createInstance(e.getHost(),g.then((e=>e.ingestConfig)));v._defaultInstance=new v(e,m,f,r,_,E);const T=v._defaultInstance,S=T._setUserConsentCb(),y=T._sendDataToIngestCb();T._privacyService.addConsentChangeListener(S,y),T._setExecutionEnvironment(),t.then((()=>{T.setAnalyticsFlag(l.q.enableAnalytics.enabled)}))}return v._defaultInstance}async shutdown(){await this._eventDataTransport.shutdown(),this.context?.shutdown()}get appConfig(){return this._appConfig}get context(){return this._analyticsContext}get transport(){return this._eventDataTransport}trigger(e,t){this._registerEvent(e),e.client=this,e.trigger(t)}_sendEvent(e){!1!==this._enableAnalytics&&this.userConsent!==a.Yz.DENIED&&(this._analyticsContext.adornEventData(e),this.userConsent===a.Yz.ALLOWED&&this._processAnalyticsEvents([e]),this.userConsent===a.Yz.UNINITIALIZED&&this._eventQueue.queueEventData(e))}async _setExecutionEnvironment(){const e=n.y.singleton();await e.attach(l.q);const t=await e.getHost();this._executionEnvironment=t.executionEnvironment()}async _eventQueueDeliveryFunction(e){this._enableAnalytics&&this.userConsent===a.Yz.ALLOWED&&await this._processAnalyticsEvents(e,!0)}async _sendToDunamis(e){const t=(0,r.XD)(this._ingestService.sendEventData,f);await t(e).catch((e=>{console.warn("Analytics encountered an unexpected error while sending data to Ingest: ",e)}))}async _processAnalyticsEvents(e,t=!1){!0===t?await this._sendToDunamis(e):this._sendToDunamis(e),e.forEach((e=>{switch(this._executionEnvironment){case u.st.Worker:postMessage({type:a.kC.PAYLOAD_FROM_WORKER,payload:e});break;case u.st.Browser:this.notifyListeners(e),this._marketingTechService.sendEvent(e);break;default:console.log(`The execution environment ${this._executionEnvironment} does not support callbacks.`)}}))}notifyListeners(e){this._callListeners(e)}_registerEvent(e){this._events[e.name]=e}addEventListener(e){this._listeners.add(e)}removeEventListener(e){this._listeners.delete(e)}_callListeners(e){this._listeners.forEach((t=>{try{t(e)}catch(e){console.warn("Error occurred while calling Analytics event listener: ",e)}}))}startEventContext(){const e=(0,_.Z)();this.context.addContextGUID(e)}endEventContext(){this.context.removeContextGUID()}setAnalyticsFlag(e){this._enableAnalytics=e}addConsentListener(e){this._consentListeners.add(e),this._broadcastUserConsentUpdate()}deleteConsentListener(e){this._consentListeners.delete(e)}addNonCrossThreadConsentListener(e){this._consentListeners.add(e)}ensureUserConsentIsAvailable(){return this._privacyService.load()}get privacyServiceInstance(){return this._privacyService}_parseCookieGroup(){if(this._executionEnvironment===u.st.Browser){return(window?.adobePrivacy?.activeCookieGroups()||[]).includes("C0002")?a.Yz.ALLOWED:a.Yz.DENIED}return a.Yz.DENIED}_updateUserConsentCb(){this.userConsent=this._parseCookieGroup()}_broadcastUserConsentUpdate(){if(0===this._consentListeners.size)return;if(this._userConsentFromCookies===a.Yz.UNINITIALIZED)return;const e={userConsent:this._userConsentFromCookies};this._consentListeners.forEach((t=>{t(e)}))}set userConsent(e){this._userConsentFromCookies=e,this._userConsentFromCookies===a.Yz.ALLOWED&&(this._eventQueueShutdownPromise=this._eventQueue?.shutdown()),this._broadcastUserConsentUpdate()}get userConsent(){return this._userConsentFromCookies}set crashLogsConsent(e){this._crashLogsConsent=e}get crashLogsConsent(){return this._crashLogsConsent}_sendDataToIngestCb(){return this._ingestService.sendEventData.bind(this)}_setUserConsentCb(){return this._updateUserConsentCb.bind(this)}}},953853:(e,t,i)=>{"use strict";i.d(t,{$x:()=>c,Bc:()=>I,CA:()=>s,Hk:()=>l,J6:()=>C,WO:()=>A,Xi:()=>b,Yz:()=>g,a0:()=>n,eN:()=>a,iL:()=>f,kC:()=>o,zi:()=>r});const r=1e3,o={INGEST_TYPE:"dunamis",EVENT_CATEGORY_DEFAULT:"WEB",ENVIRONMENT_PROD:"prod",ENVIRONMENT_STAGE:"stage",WORKFLOW_DEBUG:"Debug",TRUE_FLAG:"yes",FALSE_FLAG:"no",PAYLOAD_FROM_WORKER:"payloadFromWorker",LOG:"log",DEBUG:"Debug",LOG_LEVEL_ERROR:"error",LOG_LEVEL_WARN:"warn",NOT_APPLICABLE:"NA",NOT_SPECIFIED:"Not Specified"},n={TIME_START:"timeStart",TIME_END:"timeEnd",IS_FAILURE:"isFailure",TYPE:"type"};var s,a,c,l,u,d,h,_,p,f,g,m,E,v,T,S,y,O;!function(e){e.USER_SERVICE_CODE="user.service_code",e.USER_SERVICE_LEVEL="user.service_level",e.USER_ACCOUNT_TYPE="hz.user.account_type",e.EVENT_PKG_INGEST_TYPE="ingesttype",e.EVENT_PKG_PROJECT="project",e.EVENT_PKG_TIME="time",e.EVENT_PKG_ENVIRONMENT="environment",e.EVENT_PKG_DATA="data",e.OVERRIDE_PKG_PROJECT="override.ingest.project",e.EVENT_PAGENAME="event.pagename",e.EVENT_GUID="event.guid",e.EVENT_USER_AGENT="event.user_agent",e.EVENT_URL="event.url",e.EVENT_THREAD="custom.thread",e.EVENT_SOURCE="custom.source",e.EVENT_STATUS="custom.eventStatus",e.EVENT_INSTRUMENTATION_TYPE="custom.instrumentationType",e.EVENT_INSTRUMENTATION_FLAG="custom.instrumentationFlag",e.EVENT_FEATURE_NAME="custom.eventFeatureName",e.EVENT_FEATURE_FLOW_STATE="custom.eventFeatureFlowState",e.EVENT_MODIFIERS="custom.modifiers",e.EVENT_SOURCE_CLIENT_ID="source.client_id",e.EVENT_SOURCE_NAME="source.name",e.EVENT_SOURCE_VERSION="source.version",e.EVENT_MOBILE_APP_VERSION="hz.mobile_app_version",e.EVENT_NETWORK_TYPE="hz.network_type",e.EVENT_BUILD="event.build",e.EVENT_BUILD_BRANCH="custom.buildBranch",e.EVENT_BUNDLE_HASH="hz.event.bundle_hash",e.EVENT_OVERRIDES_CONFIGURATION_HASH="hz.event.overrides_configuration_hash",e.APP_CONFIG_OVERRIDES="custom.app_config_overrides",e.EVENT_ENVIRONMENT="custom.envName",e.EVENT_ENVIRONMENT_TYPE="custom.env",e.ENV_FW_NAME="env.fw.name",e.EVENT_CATEGORY="event.category",e.EVENT_SUBCATEGORY="event.subcategory",e.EVENT_TYPE="event.type",e.EVENT_SUBTYPE="event.subtype",e.EVENT_COUNT="event.count",e.EVENT_ACTION_CATEGORY="custom.actionCategory",e.EVENT_ACTION_NAME="custom.actionName",e.EVENT_WORKFLOW="event.workflow",e.EVENT_TIME_START="event.dts_start",e.EVENT_TIME_END="event.dts_end",e.EVENT_VALUE="event.value",e.EVENT_DURATION="custom.duration",e.EVENT_AVG_FRAME_DURATION="custom.averageFrameDuration",e.EVENT_AVG_RENDER_DURATION="custom.averageRenderDuration",e.EVENT_AVG_AUTHORING_DURATION="custom.averageAuthoringDuration",e.EVENT_USER_GUID="event.user_guid",e.EVENT_PROFILE_GUID="event.profile_guid",e.EVENT_SESSION_ID="event.session_guid",e.EVENT_MCID_GUID="event.mcid_guid",e.EVENT_CONTEXT_GUID="event.context_guid",e.EVENT_LOCALE="event.language",e.DISPLAYED_LANGUAGE="custom.displayedLanguage",e.PROFILE_COUNTRY="hz.user.profile_country",e.ACCESS_COUNTRY="hz.user.access_country",e.ENTITLEMENT_TYPE="custom.user.entitlement_type_express",e.GEN_AI_TOTAL_CREDITS="custom.user.gen_ai.total_credits",e.SESSION_RECORDING_URL="hz.session.recording_url",e.CONTEXT_USER_ROLE="custom.userRole",e.CONTEXT_WEBVIEW_ROLE="custom.webviewRole",e.CONTEXT_INIT="context.init",e.CONTEXT_GUID="context.guid",e.CONTEXT_PARAMS="context.params",e.EVENT_REFERRER="event.referrer",e.EVENT_ERROR_CODE="event.error_code",e.EVENT_ERROR_DESC="event.error_desc",e.EVENT_ERROR_TYPE="event.error_type",e.UI_VIEW_TYPE="ui.view_type",e.UI_SEARCH_KEYWORD="ui.search_keyword",e.CONTENT_ID="content.id",e.CONTENT_IS_REPLACED_WITH_LINKED_ASSET="content.is.replaced.with.linked.asset",e.CONTENT_NAME="content.name",e.CONTENT_TYPE="content.type",e.CONTENT_STATUS="content.status",e.CONTENT_DIMENSION="content.dimension",e.CONTENT_SIZE="content.size",e.CONTENT_MIMETYPE="content.mimetype",e.CONTENT_EXTENSION="content.extension",e.CONTENT_AUTHOR="content.author",e.CONTENT_CATEGORY="content.category",e.CONTENT_UI_TRIGGER="content.ui.trigger",e.CONTENT_COLLECTION="custom.ui.collection",e.CONTENT_COLLECTION_PATH="custom.ui.collection_path",e.CONTENT_SCHEMA_VERSION="custom.contentSchemaVersion",e.CONTENT_IS_NEW="custom.contentIsNew",e.CONTENT_PHOTO_CATEGORY="content.photo_category",e.LOG_TRACEFLOW_CATEGORY="custom.traceflow",e.LOG_TRACE_ID="custom.traceId",e.LOG_SPAN_ID="custom.spanId",e.LOG_MESSAGE="custom.message",e.LOG_LEVEL="custom.level",e.LOG_METADATA="custom.meta",e.ERROR_UUID="custom.errorUUID",e.ERROR_MESSAGE="custom.errorMessage",e.ERROR_CODE="custom.errorCode",e.ERROR_FULL_STACK="custom.fullStack",e.ERROR_FULL_MESSAGE_WITH_CODE="custom.fullMessageWithCode",e.ERROR_CATEGORY="custom.errorCategory",e.ERROR_IS_EXPECTED="custom.errorIsExpected",e.ERROR_LOG_METADATA="custom.errorLogMetadata",e.ERROR_CLIENT_FATAL="custom.clientFatal",e.CONTENT_LOCATION="custom.content.location",e.CONTENT_UPDATED_LOCATION="custom.content.updated_location",e.CONTENT_SELECTION_COUNT="custom.content.selection_count",e.CUSTOM_HAS_PREMIUM_CONTENT="custom.has_premium_content",e.CUSTOM_GRID_OPERATION_LEVEL="custom.grid.operation_level",e.CUSTOM_FIREFLY_MODAL="custom.firefly.modal",e.CUSTOM_CONTENT_DURATION="custom.content.duration",e.CUSTOM_ASSET_COUNT="custom.asset.count",e.CUSTOM_CONTENT_MIMETYPE="custom.content.mimetype",e.CUSTOM_CONTENT_DROP_LOCATION="custom.content.drop_location",e.CUSTOM_CONTENT_TEXT_SCRIPTS="custom.content.text_scripts",e.CUSTOM_ASSET_CLASS="custom.asset_class",e.CUSTOM_RECOMMENDATION_RANK="custom.recommendation.rank",e.DOCUMENT_ADDED_SCENE_NO="custom.document.addedSceneNo",e.DOCUMENT_DUPLICATED_SCENE_NO="custom.document.duplicatedSceneNo",e.DOCUMENT_SCENE="custom.document.scene",e.DOCUMENT_SCENE_NO="custom.document.sceneNo",e.DOCUMENT_SOURCE_SCENE_NO="custom.document.sourceSceneNo",e.DOCUMENT_PASTED_SCENE_NO="custom.document.pastedSceneNo",e.DOCUMENT_COPIED_SCENE_NO="custom.document.copiedSceneNo",e.DOCUMENT_UPDATED_SCENE_NO="custom.document.updatedSceneNo",e.DOCUMENT_DURATION="custom.document.duration",e.DOCUMENT_UPDATED_DURATION="custom.document.updatedDuration",e.DOCUMENT_PAGE_ID="custom.document.pageId",e.DOCUMENT_PAGE_NO="custom.document.pageNo",e.DOCUMENT_ZOOM_LEVEL="custom.document.zoomLevel",e.DOCUMENT_UPDATED_ZOOM_LEVEL="custom.document.updatedZoomLevel",e.DOCUMENT_OBJECT_TYPE="custom.document.objectType",e.DOCUMENT_OFFSET="custom.document.offset",e.DOCUMENT_UPDATED_OFFSET="custom.document.updatedOffset",e.DOCUMENT_VIDEO_WINDOW="custom.document.videoWindow",e.DOCUMENT_UPDATED_WINDOW="custom.document.updatedWindow",e.DOCUMENT_SIZE="custom.document.size",e.DOCUMENT_UPDATED_SIZE="custom.document.updatedSize",e.OBJECT_VOLUME="custom.content.volume",e.OBJECT_UPDATED_VOLUME="custom.content.updatedVolume",e.OBJECT_SIZE="custom.object.size",e.OBJECT_UPDATED_SIZE="custom.object.updatedSize",e.OBJECT_ARTBOARD_SIZE="custom.object.artboardSize",e.CONTENT_OPACITY_VALUE="custom.content.opacity_value",e.CONTENT_BLEND_MODE="custom.content.blend_mode",e.UI_TRIM_DIRECTION="custom.ui.trimDirection",e.OBJECT_PREVIOUS_OFFSET="custom.document.offset",e.OBJECT_UPDATED_OFFSET="custom.document.updatedOffset",e.UI_METHOD="custom.ui.method",e.CONTENT_ADJUSTMENT_MAP="custom.content.adjustment_map",e.DOCUMENT_SCENE_COUNT="custom.document.scene_count",e.DOCUMENT_CONTENT_LIST="custom.document.content_list",e.CONTEXTUAL_TRACK_STATUS="custom.contextual_track.status",e.CONTENT_FILTER_NAME="custom.content.effect_name",e.CONTENT_FILTER_CATEGORY="custom.content.effect_category",e.CONTENT_FILTER_INTENSITY_VALUE="custom.content.effect_intensity_value",e.CONTENT_FILTER_DUOTONE_MAP="custom.content.effect_duotone_map",e.DOCUMENT_APPLIED_DURATION_SCENE_COUNT="custom.scene.applied_duration_scene_count",e.CUSTOM_UI_LOCATION="custom.ui.location",e.CUSTOM_CONTENT_MULTISELECT="custom.content.multiselect",e.CUSTOM_CONTENT_SELECTION_COUNT="custom.content.selection_count",e.CUSTOM_IMAGE_SELECTION_COUNT="custom.image.selection_count",e.CUSTOM_VIDEO_SELECTION_COUNT="custom.video.selection_count",e.CUSTOM_TEXT_SELECTION_COUNT="custom.text.selection_count",e.CUSTOM_SHAPE_SELECTION_COUNT="custom.shape.selection_count",e.CUSTOM_ICON_SELECTION_COUNT="custom.icon.selection_count",e.CUSTOM_GIF_SELECTION_COUNT="custom.gif.selection_count",e.CUSTOM_UI_FILTER="custom.ui.filter",e.UI_SORT_TYPE="custom.ui.sort_type",e.UI_FILTER="ui.filter",e.UI_SORT_ORDER="ui.sort_order",e.CUSTOM_EDITOR_IS_DRAWING="custom.editor.is_drawing",e.CUSTOM_DELETE_TYPE="custom.delete_type",e.CUSTOM_DOCUMENT_NUMPAGESTOTAL="custom.document.numPagesTotal",e.CUSTOM_MOVE_ORIGIN="custom.move.origin",e.CUSTOM_MOVE_DESTINATION="custom.move.destination",e.CUSTOM_MOVE_ASSET_COUNT="custom.move.asset_count",e.CUSTOM_MULTIPLE_UPLOADS="custom.asset.multiple_uploads",e.CUSTOM_CONTENT_RESOLUTION="custom.content.resolution",e.CUSTOM_FILE_COUNT="custom.file_count",e.CUSTOM_UI_METHOD="custom.ui.method",e.CUSTOM_AUDIO_EFFECT_ID="custom.audio.effect_id",e.CUSTOM_AUDIO_ADJUSTMENT_MAP="custom.audio.adjustment_map",e.CUSTOM_AUDIO_TRACK_NO="custom.audio.track_no",e.CUSTOM_AUDIO_FILE_SEQUENCE="custom.audio.file_sequence",e.CUSTOM_AUDIO_TRACK_TYPE="custom.audio.track_type",e.CUSTOM_AUDIO_ID="custom.audio.id",e.CUSTOM_AUDIO_DURATION="custom.audio.duration",e.IS_NEW_USER="hz.is_new_to_projectx",e.CUSTOM_USER_ADMIN_ROLE="custom.user.admin_role",e.CUSTOM_EDU_USER_TYPE="custom.user.edu.profile_role",e.CUSTOM_EDU_CLASS_ID="custom.edu.class_id",e.CUSTOM_EDU_ACTION_TYPE="custom.edu.action_type",e.CUSTOM_EDU_LESSON_NAME="custom.edu.lesson_name",e.CUSTOM_EDU_COURSE_NAME="custom.edu.course_name",e.CUSTOM_EDU_BLOG_NAME="custom.edu.blog_name",e.CUSTOM_EDU_CTA_TARGET_PAGE="custom.edu.cta_target_page",e.CUSTOM_EDU_TEMPLATE_ID="custom.template.id",e.IS_K12="is_k12",e.IS_EDU_USER="hz.user.is_edu",e.CUSTOM_USER_ID_TYPE="custom.user.entitlement_feature_set_type_express",e.CUSTOM_USER_OFFERING="custom.user.offering_express",e.NUM_RESOURCES="custom.numResources",e.RESOLUTION="custom.resolution",e.SELECT_GUID="custom.selectGuid",e.SELECT_TYPE="custom.selectType",e.SVG_TAG="custom.svgTag",e.PLATFORM_TYPE="hz.source_platform_type",e.MOBILE_ID="hz.mobile_id",e.DEVICE_NAME="hz.device_name",e.DEVICE_HEIGHT="hz.user.device_screen_height",e.DEVICE_WIDTH="hz.user.device_screen_width",e.MOBILE_INSTALL_DATE="hz.mobile_install_date",e.EXPERIMENTS_ASSIGNED="hz.assigned_experiment_variants",e.EXPERIMENTS_EXPOSED="hz.experiment_exposed_variants",e.EXPERIMENT_ID="hz.experiment_id",e.EXPERIMENT_VARIANT_NAME="hz.experiment_variant_name",e.EXPERIMENT_TRIGGERED_PROPERTY_VALUE="hz.experiment_triggered_property_value",e.EXPERIMENT_TRIGGERED_EXPOSURE_EVENT="hz.experiment_triggered_exposure_event",e.CONTENT_REPLACE_TYPE="custom.content.replace_type",e.CUSTOM_UI_SEARCH_TYPE="custom.ui.search_type",e.CUSTOM_UI_KEYWORK_RANK="custom.ui.keyword_rank",e.CUSTOM_SEARCH_PREFIX_QUERY="custom.search.prefix_query",e.CUSTOM_SEARCH_SUGGESTION_LIST_SHOWN="custom.search.suggestion_list_shown",e.CUSTOM_TASK_NAME="custom.task.name",e.CUSTOM_TASK_TYPE="custom.task.type",e.CUSTOM_TASK_IS_WEBPAGE="custom.task.is_webpage",e.CUSTOM_SEARCH_SUGGESTED_TASK_AND_QUICKACTION="custom.search.suggested_task_and_quickaction",e.CUSTOM_QA_TYPE="custom.qa.type",e.CUSTOM_QA_LOCATION="custom.qa.location",e.CUSTOM_SEARCH_ID="custom.search.id",e.CUSTOM_SEARCH_RESULT_COUNT="custom.search.result_count",e.CUSTOM_CONTENT_IMPRESSION_LIST="custom.content.impression_list",e.CUSTOM_TEMPLATES_TASK_NAME="custom.templates.task",e.CUSTOM_RECOMMENDED_SEARCH_CLICK="custom.recommended_search_click",e.CUSTOM_SEARCH_RANK="custom.search.rank",e.CUSTOM_TEMPLATES_PAGE_COUNT="custom.templates.page_count",e.CUSTOM_MOBILE_DOWNLOAD_TRIGGER="custom.mobile.download_trigger",e.CUSTOM_UI_STYLE_FILTER="custom.ui.style_filter",e.CUSTOM_UI_MOOD_FILTER="custom.ui.mood_filter",e.CUSTOM_UI_TYPE_FILTER="custom.ui.type_filter",e.CUSTOM_UI_REGION_FILTER_ALL="custom.ui.region_filter_all",e.CUSTOM_UI_REGION_FILTER_DEFAULT="custom.ui.region_filter_default",e.CUSTOM_UI_REGION_FILTER_ADDED="custom.ui.region_filter_added",e.CUSTOM_UI_STATUS_FILTER="custom.ui.status_filter",e.CUSTOM_UI_CATEGORY_FILTER="custom.ui.category_filter",e.CUSTOM_UI_SUBJECT_FILTER="custom.ui.subject_filter",e.CUSTOM_UI_GRADE_FILTER="custom.ui.grade_filter",e.CUSTOM_UI_ACTIVITY_TYPE_FILTER="custom.ui.activity_type_filter",e.CUSTOM_UI_TARGET_RESOURCE_FILTER="custom.ui.target_resource_filter",e.CUSTOM_UI_KEYWORD_FILTER="custom.ui.keyword_filter",e.CUSTOM_UI_TASK_FILTER="custom.ui.task_filter",e.USS_TRACKING_NULL_RECOVERY="uss_tracking.null_recovery",e.USS_TRACKING_QUERY_RECALL="uss_tracking.original_query_recall",e.USS_TRACKING_ADOBE_ONE_RECALL="uss_tracking.adobe_one_recall",e.USS_TRACKING_ADOBE_ONE_RESCORE="uss_tracking.adobe_one_rescore",e.USS_TRACKING_DESIGN_TYPE_BOOST="uss_tracking.design_type_boost",e.USS_TRACKING_VIDEO_T20_RESULT_COUNT="uss_tracking.video_t20_result_count",e.USS_TRACKING_VIDEO_T100_RESULT_COUNT="uss_tracking.video_t100_result_count",e.USS_TRACKING_QUERY_INTENT="uss_tracking.query_intent",e.CUSTOM_SEARCH_LONG_PROMPT_QUERY="custom.search.long_prompt_query",e.CUSTOM_SCREEN_LOAD_TYPE="custom.screen_load_time",e.CUSTOM_SESSION_RESTORE_REASON="custom.session_restore_reason",e.CUSTOM_PAGE_TASK_ID="custom.page.task_id",e.CUSTOM_PAGE_UPDATED_TASK_ID="custom.page.updated_task_id",e.CUSTOM_TASK_GROUP="custom.task.group",e.CUSTOM_TASK_SUBGROUP="custom.task.subgroup",e.CUSTOM_PRINT_WORKFLOW="custom.print.workflow",e.CUSTOM_PRINT_SIZE="custom.print.size",e.CUSTOM_ADDON_IS_AUTHENTICATED="custom.addon.is_authenticated",e.CUSTOM_LINK_DETAILS="custom.link.details",e.CUSTOM_UI_CTA_MESSAGE="custom.ui.cta_message",e.CUSTOM_UI_CARD_MESSAGE="custom.ui.card_message",e.CUSTOM_ANIMATION_EFFECT_CATEGORY="custom.animation.effect_category",e.CUSTOM_ANIMATION_EFFECT_ID="custom.animation.effect_id",e.CUSTOM_ANIMATION_ADJUSTMENT_MAP="custom.animation.adjustment_map",e.CUSTOM_ANIMATION_IS_MULTISELECT="custom.animation.is_multiselect",e.CUSTOM_ANIMATION_SCENE_PRESET_CATEGORY="custom.animation.scene_preset_category",e.CUSTOM_ANIMATION_SCENE_PRESET_ID="custom.animation.scene_preset_id",e.CUSTOM_TRANSITION_ADJUSTMENT_MAP="custom.transition.adjustment_map",e.CUSTOM_TRANSITION_DURATION="custom.transition.duration",e.CUSTOM_TRANSITION_EFFECT_NAME="custom.transition.effect_name",e.CUSTOM_TRANSITION_EFFECT_ID="custom.transition.effect_id",e.CUSTOM_TRANSITION_NUM_APPLIED="custom.transition.num_transition_applied",e.CUSTOM_PROJECT_ID="custom.project.id",e.CUSTOM_PROJECTS_OPEN_FROM="custom.projects.open_from",e.CUSTOM_COLLAB_WORKFLOW="custom.collab.workflow",e.CUSTOM_LIBRARY_FILTER="custom.library.filter",e.CUSTOM_LIBRARY_TYPE="custom.library.type",e.CUSTOM_COLLAB_ACCESS_LEVEL="custom.collab.access_level",e.CUSTOM_COLLAB_USER_TYPE="custom.collab.user_type",e.CUSTOM_LIBRARY_ASSET_TYPES="custom.library.asset_types",e.CUSTOM_GENERAL_TOGGLE_MODE="custom.general.toggle_mode",e.CUSTOM_REFERRER_APP="custom.referrer.app",e.CUSTOM_REFERRER_LANDING_TAB="custom.referrer.app_landing_tab",e.CUSTOM_REFERRER_ASSET_ID="custom.referrer.app_integration_asset_id",e.CUSTOM_REFERRER_INTENT="custom.referrer.app_intent",e.CUSTOM_REFERRER_ACTION="custom.referrer.app_action",e.CUSTOM_CONTENT_LOCK_STATUS="custom.content.lock_status",e.CUSTOM_DOCUMENT_LOCK_STATUS="custom.document.lock_status",e.CUSTOM_CONTENT_LOCK_SETTING="custom.content.lock_setting",e.EVENT_SOURCE_OS_VERSION="hz.user.os_version",e.EVENT_SOURCE_OS_NAME="hz.user.os_name",e.EVENT_SOURCE_DEVICE_MODEL="hz.user.device_model",e.EVENT_SOURCE_BROWSER_NAME="hz.user.browser_name",e.EVENT_SOURCE_BROWSER_VERSION="hz.user.browser_version",e.EVENT_SOURCE_PLATFORM_TYPE_DETAIL="hz.user.platform_type_detail",e.CUSTOM_DOCUMENT_NAVIGATION_METHOD="custom.document.navigation_method",e.CUSTOM_DOCUMENT_PREVIOUS_NAVIGATION_METHOD="custom.document.previous_navigation_method",e.CUSTOM_TEXT_AUTO_STYLE="custom.text.auto_style",e.CUSTOM_TEXT_FLOW_FLAG="custom.text.text_flow_flag",e.CUSTOM_OPERATION_NAME="custom.operation.name",e.CUSTOM_OPERATION_PREVIEW="custom.operation.preview",e.CUSTOM_OPERATION_RESULT_STATUS="custom.operation.result_status",e.CUSTOM_OPERATION_TARGET_ACTION="custom.operation.target_action",e.CUSTOM_OPERATION_TARGET_NAME="custom.operation.target_name",e.CUSTOM_OPERATION_TARGET_NORMALIZED_VALUE="custom.operation.target_normalized_value",e.CUSTOM_OPERATION_TARGET_VALUE="custom.operation.target_value",e.CUSTOM_OPERATION_TARGET_VALUE_ORIGINAL="custom.operation.target_value_original",e.CUSTOM_TEXT_SELECTION_SPAN="custom.text.selection_span",e.CUSTOM_OPERATION_TYPE="custom.operation.type",e.CUSTOM_TEXT_SELECTION_METHOD="custom.text.selection_method",e.CUSTOM_FONT_TYPE="custom.font.type",e.CUSTOM_TEXT_ORIGINAL_FONT="custom.text.original_font",e.CUSTOM_TEXT_FALLBACK_FONT="custom.text.fallback_font",e.CUSTOM_TEXT_FALLBACK_TYPE="custom.text.fallback_type",e.CUSTOM_TEXT_SCRIPT_CODE="custom.text.script_code",e.CUSTOM_TEXT_COUNT="custom.text.count",e.EVENT_MOBILE_EXPERIENCE_TYPE="hz.event.mobile_experience_type",e.CUSTOM_GIF_LOOP_TYPE="custom.gif.loop_type",e.CUSTOM_CONTENT_LOOP_TYPE="custom.content.loop_type",e.CUSTOM_CONTENT_COMPLETE_LOOP="custom.content.complete_loop",e.EVENT_MOBILE_BUILD_TYPE="hz.event.mobile_build_type",e.NUM_PAGES_ADDED="custom.document.num_pages_added_using_copy_paste",e.ADDED_PAGE_PREVIOUS_TASK="custom.added_page.previous_task",e.CUSTOM_GEN_AI_EXPAND="custom.gen_ai.expand",e.CUSTOM_SHARE_MENU_TYPE="custom.share.menu_type"}(s||(s={})),function(e){e.PROMO_ID="custom.campaign.promo_id",e.CGEN="custom.campaign.cgen_code",e.TRACKING_ID="custom.campaign.tracking_id",e.SDID="custom.campaign.sdid",e.MV="custom.campaign.mv",e.MV2="custom.campaign.mv2",e.RECENT_CAMPAIGN="custom.campaign.recent",e.RECENT_MV="custom.campaign.recent_mv",e.RECENT_MV2="custom.campaign.recent_mv2",e.REFERRER="custom.referrer.app"}(a||(a={})),function(e){e.CUSTOM_SDK_REQUEST_ID="custom.sdk.request_id",e.CUSTOM_SDK_VISITOR_ID="custom.sdk.visitor_id",e.CUSTOM_SDK_CLIENT_ID="custom.sdk.client_id",e.CUSTOM_SDK_CLIENT_NAME="custom.sdk.client_name",e.CUSTOM_SDK_DOMAIN_NAME="custom.sdk.domain_name",e.CUSTOM_SDK_IS_FIRST_PARTY_CLIENT="custom.sdk.is_first_party_client",e.CUSTOM_SDK_WORKFLOW="custom.sdk.workflow"}(c||(c={})),function(e){e.event="event",e.content="content",e.source="source",e.user="user",e.custom="custom"}(l||(l={})),function(e){e.IN_POINT_SNAP="custom.object.in_point_snap",e.OUT_POINT_SNAP="custom.object.out_point_snap"}(u||(u={})),function(e){e.IN="IN",e.OUT="OUT",e.NONE="NONE"}(d||(d={})),function(e){e.FLUSH_LOCAL_BUFFER="flush-local-buffer",e.SET_ANALYTICS_BUFFER_STATE="set-analytics-buffer-state"}(h||(h={})),function(e){e.CUSTOM_DOCUMENT_NUMPAGESTOTAL="custom.document.numPagesTotal",e.CUSTOM_DOCUMENT_NUMPAGESEXPORTED="custom.document.numPagesExported",e.CUSTOM_DOWNLOAD_FILE_FORMAT="custom.download.file_format",e.CUSTOM_DOWNLOAD_PAGE_SELECTION="custom.download.page_selection",e.CUSTOM_DOWNLOAD_RESOLUTION_SELECTED="custom.download.resolution_selected",e.CUSTOM_DOWNLOAD_PDF_PRINT_MARKS="custom.download.print_marks",e.CUSTOM_DOWNLOAD_FORMAT_DETAIL="custom.download.format_detail"}(_||(_={})),function(e){e.dragDrop="drag_drop",e.copyPaste="copy_paste",e.keyboardShortcut="keyboard_shortcut",e.click="click",e.rightClick="right_click",e.contextualMenu="contextual-menu",e.quickMenu="quick-menu",e.quickMenuOverflow="quick-menu-overflow",e.tap="tap"}(p||(p={})),function(e){e.CommonlyDoneTogether="commonly-done-together",e.scenelineZoomSlider="sceneline-zoom-slider",e.scenelineZoomDropdown="sceneline-zoom-drop-down",e.contextualTimingDot="contextual-track-timing-dot",e.contextualDotThumbnail="contextual-track-object-thumbnail",e.contentPanelUpload="content-panel",e.propertiesPanel="properties-panel",e.uploadFromDevice="desktop",e.editorPanelAction="editor",e.showLayerToggle="layer-timing-toggle",e.timelineContextMenu="timeline-context-menu",e.addMenu="add-menu",e.sceneline="sceneline",e.timelineThreeDotMenu="timeline-three-dot-menu",e.editor="editor",e.mobileHeaderThreeDotMenu="mobile-header-three-dot-menu",e.mobileBottomThreeDotMenu="mobile-bottom-three-dot-menu",e.tiktokDisclaimer="tiktok-disclaimer",e.mobileSceneDurationPanel="mobile-scene-duration-panel",e.mobileBottomNav="editor-l1-bottom-nav",e.editorCanvas="editor-canvas",e.animationPanel="animation-panel",e.headerMenu="header-menu",e.editorLeftBarSubtab="editor-left-bar-subtab"}(f||(f={})),function(e){e.UNINITIALIZED="uninitialized",e.ALLOWED="allowed",e.DENIED="denied"}(g||(g={})),function(e){e.GRID="grid",e.GRID_CELL="grid_cell"}(m||(m={})),function(e){e.desktop="desktop",e.contentPanel="content-panel",e.photoGallery="photo-gallery",e.addOn="add-on"}(E||(E={})),function(e){e.addAsset="add_asset",e.copyPaste="copy_paste",e.duplicate="duplicate"}(v||(v={})),function(e){e.addAsset="add_asset",e.copyPaste="copy_paste",e.duplicate="duplicate"}(T||(T={})),function(e){e.ImageSequence="imageSequence",e.VIDEO="video",e.IMAGE="image",e.AUDIO="audio"}(S||(S={})),function(e){e.stock="stock",e.userUpload="user-upload",e.voiceRecording="voice-recording",e.addOn="add-on"}(y||(y={})),function(e){e.fadeIn="fade-in",e.fadeOut="fade-out",e.fadeInOut="fade-in-and-out",e.fadeNone="fade-none"}(O||(O={}));const C="can not get ECID";var I,w,A,b,k;!function(e){e.fileUploadFailed="fileUploadFailed",e.fileDownloadFailed="fileDownloadFailed",e.fileTooSmallForResize="fileTooSmallForResize",e.fileTypeNotAllowed="fileTypeNotAllowed",e.userInterruptedUpload="userInterruptedUpload",e.videoLimitReached="videoLimitReached",e.imageSequenceSmallFrameCountReached="imageSequenceSmallFrameCountReached",e.imageSequenceCountReached="imageSequenceCountReached"}(I||(I={})),function(e){e.FULLY_LOCKED="fully-locked",e.UNLOCKED="unlocked",e.PARTIALLY_LOCKED="partially-locked"}(w||(w={})),function(e){e.FONT_LOCK="font_lock",e.COLOR_LOCK="color_lock",e.CONTENT_LOCK="content_lock",e.LAYER_LOCK="layer_lock"}(A||(A={})),function(e){e.FULLY_UNLOCKED="fully-unlocked",e.FULLY_LOCKED="fully-locked",e.PASSWORD_LOCKED="password-locked"}(b||(b={})),function(e){e.ONCE="once",e.LOOP="loop",e.BOOMERANG="boomerang"}(k||(k={}))},589806:(e,t,i)=>{"use strict";i.d(t,{Ex:()=>u,Yd:()=>f});var r,o=i(387908),n=i(953853),s=i(17305),a=i(724562),c=i(778647),l=i(725235);!function(e){e[e.traceflow=1]="traceflow",e[e.debug=2]="debug",e[e.info=3]="info",e[e.warn=4]="warn",e[e.error=5]="error",e[e.none=6]="none"}(r||(r={}));const u="consoleLogLevel-",d="global",h={debug:"debug",info:"info",error:"failure",warn:"failure",traceflow:"debug"};var _;!function(e){e.EVENT_TYPE="event.type",e.EVENT_SUBTYPE="event.subtype",e.EVENT_SUBCATEGORY="event.subcategory",e.EVENT_WORKFLOW="event.workflow",e.TRACEFLOW_CATEGORY="custom.traceflow",e.TRACE_ID="custom.traceId",e.SPAN_ID="custom.spanId",e.LOG_MESSAGE="custom.message",e.LOG_LEVEL="custom.level",e.METADATA="custom.meta",e.ERROR_UUID="custom.errorUUID",e.ERROR_MESSAGE="custom.errorMessage",e.ERROR_CODE="custom.errorCode",e.ERROR_FULL_STACK="custom.fullStack",e.ERROR_FULL_MESSAGE_WITH_CODE="custom.fullMessageWithCode",e.ERROR_CATEGORY="custom.errorCategory",e.ERROR_IS_EXPECTED="custom.errorIsExpected",e.ERROR_LOG_METADATA="custom.errorLogMetadata",e.ERROR_CLIENT_FATAL="custom.clientFatal"}(_||(_={}));const p=function(){};class f{set traceflowOverrides(e){this._traceflowOverrides=e,this._categoryLoggers.forEach((t=>{t._traceflowOverrides=e,t._initLogLevelsFromConfig()}))}get traceflowOverrides(){return this._traceflowOverrides}static _captureConsole(){f._originalConsoles[r.traceflow]=console.debug,f._originalConsoles[r.debug]=console.debug,f._originalConsoles[r.info]=console.info,f._originalConsoles[r.warn]=console.warn,f._originalConsoles[r.error]=console.error}static hijackConsole(e){f._singleton._consoleHijacked&&f._restoreConsole(),console.info("Logger taking over console"),e._consoleHijacked=!0,console.debug=(...t)=>e.debug(...t),console.log=(...t)=>e.info(...t),console.info=(...t)=>e.info(...t),console.warn=(...t)=>e.warn(...t),console.error=(...t)=>e.error(...t)}static _restoreConsole(){f._singleton._consoleHijacked&&(console.debug=f._originalConsoles[r.debug],console.info=f._originalConsoles[r.info],console.warn=f._originalConsoles[r.warn],console.error=f._originalConsoles[r.error],console.log=f._originalConsoles[r.traceflow],f._singleton._consoleHijacked=!1)}static singleton(){return f._singleton||(f._singleton=new f(o.R.defaultInstance),f._singleton._destroySingleton=()=>{f._restoreConsole(),delete f._singleton},f._captureConsole(),f.HijackConsole&&f.hijackConsole(f._singleton)),f._singleton}constructor(e,t,i){this._category=void 0,this._logBuffer=[],this._shouldBuffer=!0,this._rawFeatures={},this._rawSettings={},this._categoryLoggers=new Map,this._consoleHijacked=!1,this._initialized=!1,this._analyticsClient=e,this._category=i,this._buildSha=e.appConfig.buildInfo?.sha,this._consoleLogLevel=r.info,this._enabledLogLevel=r.info,t?(this._traceflowOverrides=t._traceflowOverrides,t._initialized?(this._initFromConfigSync(t._rawFeatures,t._rawSettings),this._initializedPromise=Promise.resolve()):this._initializedPromise=this._initFromConfig(t.getFeaturesAndSettingsProvider())):this._initializedPromise=this._initFromConfig(this._analyticsClient.appConfig);let o=Promise.resolve();e.userConsent===n.Yz.UNINITIALIZED&&(o=this._analyticsClient.ensureUserConsentIsAvailable()),this._doneBufferingPromise=Promise.all([this._initializedPromise,o]).then((()=>{this._shouldBuffer=!1;for(const e of this._logBuffer)this._filteredPush(e);this._logBuffer=[]})).catch((e=>{this._shouldBuffer=!1,this._logBuffer=[],console.error("Logger: initialization failed. One or more promises rejected",e)}))}get _sendProcessedLogsToConsole(){return Boolean(this._rawFeatures["processed-logs-to-console"])}get _suppressLogsToIngest(){return Boolean(this._rawFeatures["suppress-logs-to-ingest"])}async _initFromConfig(e){const t=await e.getSettings(),i=await e.getFeatures();this._initFromConfigSync(i,t),this._categoryLoggers.forEach((e=>{e._initFromConfigSync(this._rawFeatures,this._rawSettings)}))}_initFromConfigSync(e,t){this._rawFeatures=e,this._rawSettings=t;const i=t.apiKey;this._errorCounter=c.ZP.metrics.getMeterProvider().getMeter(`${i}_logger_init`).createCounter(`hz_${i}_logger_error_count`),this._fatalErrorCounter=c.ZP.metrics.getMeterProvider().getMeter(`${i}_logger_init`).createCounter(`hz_${i}_fatal_crash_error_count`),this._initLogLevelsFromConfig()}_initLogLevelsFromConfig(){const e=this._rawSettings;if(e.enabledLogLevel&&(this._enabledLogLevel=r[e.enabledLogLevel]),e.consoleLogLevel&&(this._consoleLogLevel=r[e.consoleLogLevel]),this._category){let e=`${u}${this._category}`,t=this._rawSettings[e];void 0!==t&&(this._consoleLogLevel=r[t]),e=`enabledLogLevel-${this._category}`,t=this._rawSettings[e],void 0!==t&&(this._enabledLogLevel=r[t]),this._isTraceflowFeatureEnabled(this._category)&&(this._enabledLogLevel=r.traceflow),this._isTraceflowConsoleFeatureEnabled(this._category)&&(this._consoleLogLevel=r.traceflow)}this._initialized=!0}async shutdown(){await this._analyticsClient.shutdown(),f.singleton()._destroySingleton()}async initialized(){return this._initializedPromise}async _doneBuffering(){return this._doneBufferingPromise}getBuffer(){return this._logBuffer}get enabledLogLevel(){return this._enabledLogLevel}get consoleLogLevel(){return this._consoleLogLevel}get category(){return this._category}getFeaturesAndSettingsProvider(){return{getSettings:async()=>(await this.initialized(),this._rawSettings),getFeatures:async()=>(await this.initialized(),this._rawFeatures)}}static get(e){return f.singleton().get(e)}get(e){if(this._category===e)return this;let t=this._categoryLoggers.get(e);return t||(t=this.createCategoryLogger(e),this._categoryLoggers.set(e,t),t)}createCategoryLogger(e){return new f(this._analyticsClient,this,e)}createRequestLogger(e){return new m(this._analyticsClient,e,this)}async createInitializeRequestLogger(e){const t=new m(this._analyticsClient,e,this);return await t.initialized(),t}_isErrorMeta(e){return"error"in e}_extractErrorMeta(e){if(this._isErrorMeta(e)){return e.error}return null}_processArgs(e,t){let i,o=t[0];"string"!=typeof o&&(t.length>1&&"string"==typeof t[1]?(o=t[1],t[1]=t[0],t[0]=o):(o=this._getMessageFromUnknownObject(t[0]),t.unshift(o)));let n,c=null;if(2===t.length)n=t[1],n instanceof s.R||n instanceof Error?(c=n,i={}):"object"==typeof n?(c=this._extractErrorMeta(n),i=(0,a.a1)(n)):i={unknown:(0,a.a1)(t[1])};else if(t.length>2){i=[];for(let e=1;e<t.length;e++)i.push((0,a.a1)(t[e]))}else i={};if(this._hasKnownMetaKeys(i)?this._normalizeMetaKeys(i):i={[_.METADATA]:i},c)if(c instanceof s.R){i[_.ERROR_UUID]=c.uuid,i[_.ERROR_MESSAGE]=c.message,i[_.ERROR_CODE]=c.code,i[_.ERROR_FULL_STACK]=c.fullStack.replace(/[\s]{2,}/g," "),i[_.ERROR_FULL_MESSAGE_WITH_CODE]=c.fullMessageWithCode,c.category&&(i[_.ERROR_CATEGORY]=c.category),c.isExpected&&(i[_.ERROR_IS_EXPECTED]=c.isExpected);const e=c.fullLogMetadata;e&&(i[_.ERROR_LOG_METADATA]=(0,a.a1)(e))}else{i[_.ERROR_MESSAGE]=c.toString();const e=c.stack||"Unknown";i[_.ERROR_FULL_STACK]=e.replace(/[\s]{2,}/g," ")}return{level:r[e],msg:o,meta:i}}_getMessageFromUnknownObject(e){if(!e)return"unknown-message";if(e instanceof Error)return e.message;const t=(0,a.or)(e);return t?t.substring(0,1e3):"unknown-message"}_hasKnownMetaKeys(e){let t,i;if(e&&"object"==typeof e)for(const r of Object.keys(e))if(t=r.indexOf("."),t>0&&(i=r.substr(0,t),i in n.Hk))return!0;return!1}_normalizeMetaKeys(e){let t,i;for(const[r,o]of Object.entries(e))t=r.indexOf("."),t<0?(e["custom."+r]=o,delete e[r]):(i=r.substr(0,t),i in n.Hk||(e["custom."+r]=o,delete e[r]))}error(...e){this._logWithLevel("error",e)}static error(...e){f.singleton().error(...e)}warn(...e){this._logWithLevel("warn",e)}static warn(...e){f.singleton().warn(...e)}info(...e){this._logWithLevel("info",e)}_logWithLevel(e,t){try{const i=r[e];if(this._shouldMirrorToConsole(i)){let r=t;if(this._category){r=["traceflow"===e?`[TRACEFLOW: ${this._category}]`:`[${this._category}]`,...t]}this._mirrorOriginalConsole(i,r)}if(this._initialized&&!this._shouldSendLog(i))return;const o=this._processArgs(e,t);this._filteredPush(o)}catch(i){console.error(`Logger.${e}(): An error was thrown while logging`,i,...t)}}static info(...e){f.singleton().info(...e)}debug(...e){this._logWithLevel("debug",e)}static debug(...e){f.singleton().debug(...e)}traceflow(e,...t){this._category===e?this.trace(...t):this.get(e).trace(...t)}trace(...e){this._category?this._logWithLevel("traceflow",e):this.get(d).trace(...e)}static traceflow(e,...t){f.singleton().traceflow(e,...t)}_isTraceflowCategoryEnabled(e){return void 0!==this._traceflowOverrides?.[e]?this._traceflowOverrides[e]:Boolean(this._rawFeatures[e])}_isTraceflowFeatureEnabled(e){return this._isTraceflowCategoryEnabled("traceflow-all")||this._isTraceflowCategoryEnabled(`traceflow-${e}`)}_isTraceflowConsoleFeatureEnabled(e){return this._isTraceflowFeatureEnabled("console-all")||this._isTraceflowFeatureEnabled(`console-${e}`)}isTraceflowEnabled(e){return this.get(e).enabledLogLevel<=r.traceflow}isTraceflowConsoleEnabled(e){return this.get(e).consoleLogLevel<=r.traceflow}static isTraceflowEnabled(e){return f.singleton().isTraceflowEnabled(e)}_adornWithContext(e){const t=c.ZP.trace.getSpanContext(c.ZP.context.active());t&&(0,l.BM)(t)&&(e.meta[_.TRACE_ID]=t.traceId,e.meta[_.SPAN_ID]=t.spanId),e.meta[_.EVENT_TYPE]=h[r[e.level]],e.meta[_.EVENT_SUBTYPE]="log",e.meta[_.EVENT_WORKFLOW]=n.kC.WORKFLOW_DEBUG,e.meta[_.EVENT_SUBCATEGORY]=this._category||d}_mirrorOriginalConsole(e,t){if(this._initialized)f._originalConsoles[e].apply(console,t);else try{const i=JSON.stringify(t);f._originalConsoles[e].apply(console,[i])}catch(e){console.error("Failed to stringify args",t)}}_echoProcessedLogToConsole(e){let t=e;try{t.level===r.traceflow&&(t={...e},t.level=r.info);const i=JSON.stringify(t);f._originalConsoles[r.debug].apply(console,[i])}catch(e){console.error("Failed to stringify logEntry",t)}}_shouldSendLog(e){return this._enabledLogLevel<=e}_shouldMirrorToConsole(e){return this._consoleLogLevel<=e}_filteredPush(e){if(this._shouldBuffer)return this._adornWithContext(e),void this._logBuffer.push(e);this._shouldSendLog(e.level)&&(this._adornWithContext(e),this._category&&e.level===r.traceflow&&(e.meta["custom.traceflow"]=this._category),e.level===r.error&&(this._errorCounter?.add(1,{buildSha:this._buildSha}),!0===e.meta[_.ERROR_CLIENT_FATAL]&&this._fatalErrorCounter?.add(1,{expected:!0===e.meta[_.ERROR_IS_EXPECTED]&&e.meta[_.ERROR_IS_EXPECTED],buildSha:this._buildSha})),this._pushLog(e))}_adornLogEventWithContext(e){this._analyticsClient.context.adornEventData(e.meta)}_pushLog(e){if(e.meta[_.LOG_MESSAGE]=e.msg,e.meta[_.LOG_LEVEL]=r[e.level],this._adornLogEventWithContext(e),this._sendProcessedLogsToConsole&&this._echoProcessedLogToConsole(e),this._suppressLogsToIngest)return;const t=!!e?.meta[_.ERROR_CLIENT_FATAL];t&&this._analyticsClient.userConsent!==n.Yz.ALLOWED&&(delete e.meta["event.mcid_guid"],delete e.meta["event.user_guid"]),(t||this._analyticsClient.userConsent===n.Yz.ALLOWED)&&this._analyticsClient.transport.queueEventData(e.meta)}}f._originalConsoles={[r.none]:p,[r.traceflow]:p,[r.debug]:p,[r.info]:p,[r.warn]:p,[r.error]:p},f.HijackConsole=!1;const g={sessionId:n.CA.EVENT_SESSION_ID,requestId:"custom.requestId",statusCode:"custom.statusCode",url:"custom.url",method:"custom.method",referrer:n.CA.EVENT_REFERRER,startTime:n.CA.EVENT_TIME_START,userId:n.CA.EVENT_USER_GUID,traceId:"custom.traceId"};class m extends f{constructor(e,t,i,r){super(e,i,r),this.requestContext=t}createCategoryLogger(e){return new m(this._analyticsClient,this.requestContext,this,e)}_adornLogEventWithContext(e){this._analyticsClient.context.adornEventData(e.meta);for(const[t,i]of Object.entries(this.requestContext))g[t]?e.meta[g[t]]=i:e.meta[t]=i}_mirrorOriginalConsole(e,t){const i=[this.requestContext].concat(t);return super._mirrorOriginalConsole(e,i)}}},807794:(e,t,i)=>{"use strict";i.d(t,{L:()=>o});var r=i(589806);class o extends r.Yd{static _getUserSetTraceflow(){const e=this._getSearchString(),t=new URLSearchParams(e);if(!t.has("traceflow"))return;const i={};return t.getAll("traceflow").forEach((e=>{i[`traceflow-${e}`]=!0,i[`traceflow-console-${e}`]=!0})),i}static _getSearchString(){return window.location.search}static singleton(){const e=super.singleton();return o._initialized||(o._initialized=!0,e.traceflowOverrides=o._getUserSetTraceflow()),e}}o._initialized=!1},6784:(e,t,i)=>{"use strict";i.d(t,{Q:()=>a});class r{constructor(e){this._trailingFramesCapacity=e,this._trailingFrames=[],this._trailingFramesAvgDuration=0,this._trailingFramesMinDuration=1/0,this._trailingFramesMaxDuration=-1/0,this._needsRecomputeTrailingFramesMinMaxDuration=!0,this._allFramesCount=0,this._allFramesAvgDuration=0,this._allFramesMinDuration=1/0,this._allFramesMaxDuration=-1/0}push(e){if(e.hasEnded)if(this._trailingFrames.push(e),this._allFramesCount++,this._allFramesMinDuration=Math.min(e.duration,this._allFramesMinDuration),this._allFramesMaxDuration=Math.max(this._allFramesMaxDuration,e.duration),this._allFramesAvgDuration=this._allFramesAvgDuration+(e.duration-this._allFramesAvgDuration)/this._allFramesCount,this._trailingFrames.length<=this._trailingFramesCapacity)this._trailingFramesAvgDuration=this._allFramesAvgDuration,this._trailingFramesMinDuration=this._allFramesMinDuration,this._trailingFramesMaxDuration=this._allFramesMaxDuration,this._needsRecomputeTrailingFramesMinMaxDuration=!1;else{const t=this._trailingFrames.shift();this._trailingFramesAvgDuration=this._trailingFramesAvgDuration+(e.duration-t.duration)/this._trailingFramesCapacity,this._needsRecomputeTrailingFramesMinMaxDuration=!0}else console.warn("Complete frame required.")}get trailingFramesCapacity(){return this._trailingFramesCapacity}get trailingFramesCount(){return this._trailingFrames.length}get trailingFrames(){return this._trailingFrames}get trailingAvgDuration(){return this._trailingFramesAvgDuration}get trailingMinDuration(){return this._recomputeTrailingFramesMinMaxDurationIfNeeded(),this._trailingFramesMinDuration}get trailingMaxDuration(){return this._recomputeTrailingFramesMinMaxDurationIfNeeded(),this._trailingFramesMaxDuration}_recomputeTrailingFramesMinMaxDurationIfNeeded(){if(!1!==this._needsRecomputeTrailingFramesMinMaxDuration){this._trailingFramesMinDuration=1/0,this._trailingFramesMaxDuration=-1/0;for(const e of this._trailingFrames){const t=e.duration;t<this._trailingFramesMinDuration&&(this._trailingFramesMinDuration=t),this._trailingFramesMaxDuration<t&&(this._trailingFramesMaxDuration=t)}Number.isFinite(this._trailingFramesMinDuration)||(this._trailingFramesMinDuration=0),Number.isFinite(this._trailingFramesMaxDuration)||(this._trailingFramesMaxDuration=0),this._needsRecomputeTrailingFramesMinMaxDuration=!1}}get framesCount(){return this._allFramesCount}get avgDuration(){return this._allFramesAvgDuration}get minDuration(){return Number.isFinite(this._allFramesMinDuration)?this._allFramesMinDuration:0}get maxDuration(){return Number.isFinite(this._allFramesMaxDuration)?this._trailingFramesMaxDuration:0}}class o{constructor(e,t,i,r,o,n,s,a,c,l){this._category=e,this._name=t,this._id=i,this._startTime=r,this._startTimeOffset=o,this._recordsFrames=n,this._locked=s,this._marked=a,this._frameCapacity=c,this._hasBeenHidden=l,this._endTime=-1,this._framesByName=new Map,this._metadata=void 0,this._endTimeOffset=0}static createForTrailingFrames(e){return new o("","","",-1,0,!0,!1,!1,e,!1)}get hasEnded(){return this._endTime>0}get hasBeenHidden(){return this._hasBeenHidden}set hasBeenHidden(e){this._hasBeenHidden=e}get category(){return this._category}get name(){return this._name}get id(){return this._id}get startTime(){return this._startTime}get endTime(){return this._endTime}get startTimeOffset(){return this._startTimeOffset}get endTimeOffset(){return this._endTimeOffset}set endTimeOffset(e){this._endTimeOffset=e}get recordsFrames(){return this._recordsFrames}get locked(){return this._locked}get marked(){return this._marked}get frameCapacity(){return this._frameCapacity}get duration(){return this.hasEnded?this._endTime-this._startTime:-1}get metadata(){return this._metadata}set metadata(e){this._metadata=e}getFramesByName(e){return this._framesByName.get(e)}getNumFramesByName(e){return this.getFramesByName(e)?.framesCount??0}end(e){e<this._startTime?(console.warn(`PerfAction.end: endTime should be greater than or equal to startTime for action with name "${this.name}" and id "${this.id}".`),this._endTime=this._startTime):this._endTime=e}isFrameInRange(e){return e.startTime>=this._startTime&&(-1===this._endTime||e.endTime<=this._endTime)}pushFrame(e,t){if(!this._recordsFrames)return;let i=this.getFramesByName(e);i||(i=new r(this._frameCapacity),this._framesByName.set(e,i)),i.push(t)}}class n{constructor(e){this._startTime=e,this._endTime=-1}end(e){e<this._startTime?(console.warn("PerfFrame.end: endTime should be greater than or equal to startTime."),this._endTime=this._startTime):this._endTime=e}get hasEnded(){return this._endTime>0}get startTime(){return this._startTime}get endTime(){return this._endTime}get duration(){return this.hasEnded?this._endTime-this._startTime:-1}}var s=i(795358);class a extends s.a{constructor(e){super(e.currentTimeFn,e.timeOrigin,e.currentDateFn),this._completedActions=[],this._openActionsByID=new Map,this._firstTimeOriginActionsById=new Map,this._openFramesByName=new Map,this._hasVisibilityEverBeenHidden="hidden"===document.visibilityState,this._globalActionMetadata={},this._isMonitoringActions=!1,this._onVisibilityChange=()=>{if("hidden"===document.visibilityState){this._hasVisibilityEverBeenHidden=!0;[...this._openActionsByID.values()].forEach((e=>{e.hasBeenHidden=!0}))}},this._maxActions=e.maxActions,this._trailingFramesAction=o.createForTrailingFrames(e.numTrailingFramesToTrack),this._markAllActions=e.markAllActions}get trailingFramesAction(){return this._trailingFramesAction}get completedActions(){return this._completedActions}startMonitoringActions(e){this._isMonitoringActions||(this._isMonitoringActions=!0,this._actionCompleteCallback=e,this.startVisibilityEventListener(),this._completedActions.forEach((t=>e(t))))}stopMonitoringActions(){this._isMonitoringActions&&(this.stopVisibilityEventListener(),this._actionCompleteCallback=void 0,this._isMonitoringActions=!1)}_onActionCompleted(e){let t=!0;this._completedActions.length>=this._maxActions&&(this._removeOldestAction()||(t=!1)),t&&this._completedActions.push(e),this._isMonitoringActions&&void 0!==this._actionCompleteCallback&&this._actionCompleteCallback(e)}registerCompletedAction(e,t,i,r,o,n){const s=o??this.currentTime();super.registerCompletedAction(e,t,i,r,s,n)}startVisibilityEventListener(){document.addEventListener("visibilitychange",this._onVisibilityChange)}stopVisibilityEventListener(){document.removeEventListener("visibilitychange",this._onVisibilityChange)}_beginAction(e,t,i,r,n){if(this._openActionsByID.has(i))return;if("startup"===e&&n.firstTimeOnly&&this._firstTimeOriginActionsById.has(i))return;const s=!!n.originAction&&this._hasVisibilityEverBeenHidden,c=new o(e,t,i,r,n.startTimeOffset??0,n.recordsFrames,n.locked,n.marked,a.DEFAULT_MAX_FRAMES_PER_ACTION,s);this._openActionsByID.set(i,c),"startup"===e&&n.firstTimeOnly&&this._firstTimeOriginActionsById.set(i,c);(this._markAllActions||n.marked)&&this._beginMark(c,n.markStartTime)}_endAction(e,t){const i=this._openActionsByID.get(e);if(!i){if(t.noError)return;return void console.error(`Action not found with id: ${e}`)}const r=this._markAllActions||i.marked;if(i.end(t.endTime),i.endTimeOffset=t.endTimeOffset??0,r&&this._endMark(i),Object.keys(this._globalActionMetadata).length>0){const e=Object.assign({},this._globalActionMetadata,i.metadata);i.metadata=e}this._openActionsByID.delete(i.id),this._onActionCompleted(i)}_setActionMetadata(e,t){const i=this._openActionsByID.get(e);i?i.metadata=t:console.warn(`Action not found with id: ${e}`)}_addActionMetadata(e,t,i){const r=this._openActionsByID.get(e);if(r)r.metadata={...r.metadata,...t};else{if(i.noError)return;console.warn(`Action not found with id: ${e}`)}}_setGlobalActionMetadataEntry(e,t){Object.keys(this._globalActionMetadata).length>=8?console.warn("Too many global metadata values"):void 0!==t?this._globalActionMetadata[e]=t:delete this._globalActionMetadata[e]}_beginFrame(e,t){if(this._openFramesByName.has(e))return void console.error(`Frame has already begun with name: ${e}`);const i=new n(t);this._openFramesByName.set(e,i)}_endFrame(e,t){const i=this._openFramesByName.get(e);i?(i.end(t),this._openFramesByName.delete(e),this._pushFrameToOpenActions(e,i),this._trailingFramesAction.pushFrame(e,i)):console.error(`Frame not found with name: ${e}`)}_pushFrameToOpenActions(e,t){this._openActionsByID.forEach((i=>{i.isFrameInRange(t)&&i.pushFrame(e,t)}))}_removeOldestAction(){const e=this._completedActions.findIndex((e=>!e.locked));return!(e<0)&&(this._completedActions.splice(e,1),!0)}_beginMark(e,t){const i=void 0!==t?{startTime:t}:{startTime:e.startTime-this.timeOrigin};performance.mark(this._getMarkName(e.category,e.id,"begin"),i)}_endMark(e){const t={startTime:e.endTime-this.timeOrigin};performance.mark(this._getMarkName(e.category,e.id,"end"),t),performance.measure(this._getMarkName(e.category,e.id),this._getMarkName(e.category,e.id,"begin"),this._getMarkName(e.category,e.id,"end"))}_getMarkName(e,t,i){return i?`${e}:${t}:${i}`:`${e}:${t}`}}a.DEFAULT_MAX_FRAMES_PER_ACTION=1800},754284:(e,t,i)=>{"use strict";i.d(t,{v:()=>E});var r=i(474867),o=i(896250),n=i(286586),s=i(571909),a=i(107169);const c=new s.L0("logged-out-user-support",!1),l=new s.L0("ims-guest-access-token",!1),u=new s.L0("use-custom-sign-in",!1),d=new s.L0("customize-susi-with-dcp",!1),h=new a.NE("imsHostURL","https://ims-na1-stg1.adobelogin.com/",{prod:"https://ims-na1.adobelogin.com/"}),_={loggedOffUserSupport:c,imsGuestAccessTokenEnabled:l,customSignInEnabled:u,customizeSUSIWithDCP:d,checkForImsStateCorruptionIssue:new s.L0("check-for-ims-state-corruption-issue",!1),imsHostURL:h,imsClientId:new a.NE("imsClientId","projectx_webapp",{local:"projectx_webapp",dev:"projectx_webapp",stage:"projectx_webapp",qa:"projectx_webapp",prod:"projectx_webapp"})};var p=i(357231),f=i(990209),g=i(589806);class m{constructor(e,t,i,r){this._host=e,this._config=t,this._logger=i,this._imsService=r,i||(i=g.Yd.singleton().get("ims-org-client-service"))}_getFetchRequestOptions(e,t,i){const r={method:e,headers:t};return i&&(r.body=i),r}_getBaseURL(){return this._config.imsBaseURL||_.imsHostURL.value}_getImsClientId(){return this._config.adobeIoApiKey||_.imsClientId.value}async _getHeaders(){return{Authorization:`Bearer ${await(this._imsService?.getAccessTokenValue())}`}}async getOrgDetails(){return this.fetchPromise||(this.fetchPromise=(async()=>{try{const e=`${this._getBaseURL()}ims/organizations?client_id=${this._getImsClientId()}`,t=await this._getHeaders(),i=this._getFetchRequestOptions("GET",t),r=await(0,f.q)({host:this._host,logger:this._logger,url:e,fetchRequestOptions:i,returnFinalResponse:!0});return await r.json()}catch(e){throw this._logger?.error(e),e}})()),this.fetchPromise}}class E{constructor(){this.id=E.id,this.dependencies=["@hz/client-storage"]}async onActivate({locator:e}){const t=await e.get("AppConfig");await t.attach(_);const i=_.loggedOffUserSupport.enabled,s=_.customSignInEnabled.enabled,a=_.imsGuestAccessTokenEnabled.enabled,c=_.checkForImsStateCorruptionIssue.enabled,l=await e.get("SessionStorageService");e.set("SessionPersistenceService",(async()=>new n.Uz(l)));const[u,d,h,p]=await e.getAll(["Logger","SessionPersistenceService","PerfMonitorModel","ImsServiceOptions"]),f=new o.E$(u,d,l,h,p,{allowLoggedOutUser:i,useIMSGuestAccessToken:a,checkForImsStateCorruptionIssue:c,customSignInEnabled:s});e.set("ImsService",(async()=>f));const g=new m(new r.r,{},u,f);e.set("ImsOrgServiceClient",(async()=>g))}}E.id="@hz/ims-service-client",E.dependencies=[p.X]},896250:(e,t,i)=>{"use strict";i.d(t,{E$:()=>_,kd:()=>l,oU:()=>u});var r=i(110966),o=i(17305),n=i(207268),s=i(472568),a=i(286586);const c="anonymous_user_id",l="dctx_id";var u,d,h;!function(e){e.uninitialized="uninitialized",e.anonymous="anonymous",e.authenticated="authenticated",e.expired="expired"}(u||(u={})),function(e){e.imsLoad="ims-load"}(d||(d={})),function(e){e.code="code",e.token="token"}(h||(h={}));class _{get locale(){return this._locale}set locale(e){this._locale=e}get adobeIMS(){return this._adobeIMS}get adobeIdData(){const e={client_id:this._imsServiceOptions.clientId,environment:this._imsServiceOptions.environment,alwaysRemoveTokenFromUrl:!0,scope:this._imsServiceOptions.scope,useLocalStorage:!1,autoValidateToken:!0,api_parameters:{check_token:{guest_allowed:this.useIMSGuestAccessToken}},modalMode:this.isLoadedInIFrame(),modalSettings:{allowedOrigin:location.protocol+"//"+location.host},onReady:this._onReady,onError:this._onError,onAccessToken:this._onAccessToken,onAccessTokenHasExpired:this._onAccessTokenHasExpired};return this._addEmbedSpecificParams(e),e}get isLoaded(){return!0===this._imsDeferred?.isSettled}constructor(e,t,i,l,h,_={allowLoggedOutUser:!1,useIMSGuestAccessToken:!1,customSignInEnabled:!1,checkForImsStateCorruptionIssue:!1},p=navigator){this._logger=e,this._sessionPersistenceService=t,this._sessionStorageService=i,this._perf=l,this._imsServiceOptions=h,this.features=_,this._navigator=p,this._userState=u.uninitialized,this._tokenListeners=new Set,this._profileListeners=new Set,this._modalSignInDeferred=new n.B,this._modalSUSICallbackAttached=!1,this._locale="en_US",this._customSignInCallback=void 0,this._customSignInDeferred=void 0,this._isIMSStateCorruptionHandled=!1,this.processServiceWorkerMessage=async e=>{if("AUTHENTICATION_FAILURE"===e.data.msg){if(this.allowLoggedOutUser&&this.isAnonymousUser())return;let e=!1;try{e=await this._adobeIMS.validateToken()}finally{e||await this._signInInternal("token is not valid",{},!0)}}},this._modalSUSICallbackFunc=e=>{const t=this._modalSignInOptions?.redirect_uri,i=e.origin.includes("adobe.com")||e.origin===window.location.origin;e.data?.includes("wasmodal")&&i?(t&&this._reload(`${t}`),this._modalSignInDeferred.resolve()):this._modalSignInDeferred.reject("unable to sign in. Try again later."),window.removeEventListener("message",this._modalSUSICallbackFunc),this._modalSUSICallbackAttached=!1},this._onAccessToken=e=>{const t=this._userState===u.anonymous;this._userState=u.authenticated,e.token!==this._currentToken&&(this._currentToken=e.token,this._scheduleIMSStateCorruptionCheck(),this._tokenListeners.forEach((t=>t(e.token))),this._scheduleTokenRefresh(e.expire?.getTime?.()-18e4-Date.now())),this.useIMSGuestAccessToken&&e.isGuestToken&&this._makeAnonymousProfile(),t&&(this._profilePromise=void 0,this.getProfile().then((()=>this._profileListeners.forEach((e=>e()))))),this._imsDeferred?.isSettled||this._imsDeferred?.resolve()},this._scheduleIMSStateCorruptionCheck=()=>{this.checkForImsStateCorruptionIssue&&!this._isIMSStateCorruptionHandled&&(clearTimeout(this._stateCorruptionChecker),this._stateCorruptionChecker=setTimeout((async()=>{null===this._adobeIMS.getAccessToken()&&this._currentToken?(this._logger.info("IMS state corruption detected. Attempting to refresh state."),this._isIMSStateCorruptionHandled=!0,await this.refreshToken(),this._currentToken=this.adobeIMS.getAccessToken()?.token,this._profilePromise=await this.adobeIMS.getProfile(),this._logger.info("IMS state corruption successfully resolved.")):this._scheduleIMSStateCorruptionCheck()}),100))},this._onReady=async()=>{(0,a.tz)(),this.isAnonymousUser()||this.isSignedInUser()||await this._onAccessTokenHasExpired(),this.allowLoggedOutUser||await this.ensureSignedInUser()},this._onAccessTokenHasExpired=async()=>{if(this._userState===u.uninitialized||this._userState===u.authenticated){if(this._userState=this._userState===u.uninitialized?u.anonymous:u.expired,this._userState===u.anonymous&&this.allowLoggedOutUser){if(this.useIMSGuestAccessToken){if("noError"!==await this.refreshToken())return void await this._signInInternal("access token expired",{},!0)}this._makeAnonymousProfile()}this._userState!==u.expired&&this.allowLoggedOutUser||await this._signInInternal("access token expired",{},!0),this._imsDeferred?.isSettled||this._imsDeferred?.resolve()}},this._onError=(e,t)=>{if(!this.adobeIdData.overrideErrorHandler||!this._imsDeferred?.isSettled)throw this._imsDeferred?.reject(t),new o.R("ImsService",e,new Error(t))},this._generateAnonymousUserId=()=>`${(0,s.Z)()}@anonymous`,this._persistAnonymousProfile=(e,t)=>{this._sessionStorageService.setInStorage(c,JSON.stringify({userId:e,name:t}))},this._retrieveAnonymousProfile=()=>{try{return JSON.parse(this._sessionStorageService.getFromStorage(c)??"")}catch(e){return}},this._makeAnonymousProfile=()=>{const e=this._retrieveAnonymousProfile(),{userId:t,name:i}=e??{userId:this._generateAnonymousUserId(),name:"Guest"};e||this._persistAnonymousProfile(t,i),this._profilePromise=Promise.resolve({account_type:"anonymous",countryCode:"UD",displayName:i,email:"",emailVerified:"false",first_name:i,last_name:"",mrktPerm:"",mrktPermEmail:"false",name:i,phoneNumber:"",preferred_languages:null,userId:t,utcOffset:""})},this._overrideErrorHandlerFunction=e=>{const t=new URL(window.location.href);return t.searchParams.set("redirectError",JSON.stringify(e)),window.history.replaceState(null,"",t),this._logger?.debug(`Check token error in embed context. Error: ${JSON.stringify(e)}`),this._imsDeferred?.isSettled||this._imsDeferred?.resolve(),!1},this._perf.beginStartupAction(d.imsLoad);const{allowLoggedOutUser:f,useIMSGuestAccessToken:g,customSignInEnabled:m,checkForImsStateCorruptionIssue:E}=_;this.allowLoggedOutUser=Boolean(f),this.useIMSGuestAccessToken=Boolean(g),this.customSignInEnabled=Boolean(m),this.checkForImsStateCorruptionIssue=Boolean(E),this._adobeIMS=new r.H(this.adobeIdData),window.adobeIMS=this._adobeIMS,window.adobeid=this._adobeIMS.adobeid;const{customSignInCallback:v}=this._imsServiceOptions;v&&this.registerCustomSignInCallback(v)}registerCustomSignInCallback(e){this.customSignInEnabled&&(this._customSignInCallback=e)}async load(){return this._imsDeferred||(this._imsDeferred=new n.B,this._imsDeferred.promise.then((()=>this._perf.endStartupAction(d.imsLoad))),this._adobeIMS.adobeIdData.alwaysRemoveTokenFromUrl=!0,await this.adobeIMS.initialize(),this.registerServiceWorkerMessage()),this._imsDeferred.promise}registerServiceWorkerMessage(){try{if(!("serviceWorker"in this._navigator))return;this._navigator.serviceWorker.removeEventListener("message",this.processServiceWorkerMessage),this._navigator.serviceWorker.addEventListener("message",this.processServiceWorkerMessage)}catch(e){this._logger.error(`Failed to add service worker message event listener ${e}`)}}isSignedInUser(){return this.adobeIMS.isSignedInUser()}isAnonymousUser(){if(this.useIMSGuestAccessToken){const e=this.adobeIMS.getAccessToken();return Boolean(e?.isGuestToken)}return this._userState===u.anonymous}async getProfile(){return this.allowLoggedOutUser?await this.load():await this.ensureSignedInUser(),this._profilePromise||(this._profilePromise=this.adobeIMS.getProfile()),this._profilePromise}async getAccessTokenValue(){return this.isLoaded||await this.load(),this._currentToken??this.adobeIMS.getAccessToken()?.token}addTokenListener(e){this._tokenListeners.add(e)}removeTokenListener(e){this._tokenListeners.delete(e)}addProfileListener(e){this._profileListeners.add(e)}removeProfileListener(e){this._profileListeners.delete(e)}async updateAnonymousProfile(e){const{userId:t}=this._retrieveAnonymousProfile();this._persistAnonymousProfile(t??this._generateAnonymousUserId(),e),this._makeAnonymousProfile(),this._profileListeners.forEach((e=>e()))}async ensureSignedInUser(e=!1){this.isLoaded||await this.load(),this.allowLoggedOutUser&&!e||this.isSignedInUser()||await this._signInInternal("user not signed in",{},!0)}async _signInCustom(e,t){if(!this.customSignInEnabled||!this._customSignInCallback)return this._signIn(e,t);if(this._customSignInDeferred)return this._customSignInDeferred.promise;this._customSignInDeferred=new n.B,this._logger.debug(`Will redirect to custom sign in screen. Reason: ${e}`),this._makeAnonymousProfile(),this._userState=u.anonymous,this._imsDeferred?.isSettled||this._imsDeferred?.resolve();try{await this._customSignInCallback(t),this._customSignInDeferred?.resolve(),this._customSignInDeferred=void 0}catch(i){return this._logger.debug(`Couldn't invoke custom sign in flow, falling back to IMS sign in: ${i}`),this._signIn(e,t)}}async _signInInternal(e,t,i=!1){if(this.customSignInEnabled&&i)return this._signInCustom(e,t);await this._signIn(e,t)}async _getSignInOptions(e={}){const{locale:t,[l]:i,...r}=e,o=i??await(this._imsServiceOptions.customDCPCallback?.()),n={locale:t??this._locale};return o&&(n[l]=o),{...r,...n}}async _signIn(e,t){this._logger?.debug(`Will redirect to IMS login. Reason: ${e}`);const i=await this._getSignInOptions(t);return new Promise((()=>{this.adobeIMS.signIn(i)}))}async _signUp(e,t){this._logger?.debug(`Will redirect to IMS Sign Up. Reason: ${e}`);const i=await this._getSignInOptions(t);return new Promise((()=>{this.adobeIMS.signUp(i)}))}_inIframeSignIn(e,t){return this._logger?.debug(`Will launch pop window of IMS login. Reason: ${e}`),this._modalSignInOptions=t,this._modalSUSICallbackAttached||window.addEventListener("message",this._modalSUSICallbackFunc),this.adobeIMS.signIn({...t,locale:t?.locale||this._locale}),this._modalSignInDeferred.promise}_inIframeSignUp(e,t){return this._logger?.debug(`Will launch pop window of IMS SignUp. Reason: ${e}`),this._modalSignInOptions=t,this._modalSUSICallbackAttached||window.addEventListener("message",this._modalSUSICallbackFunc),this.adobeIMS.signUp({...t,locale:t?.locale||this._locale}),this._modalSignInDeferred.promise}_reload(e){window.location.assign(e)}signOut(e){clearTimeout(this._stateCorruptionChecker),this.adobeIMS.signOut(e)}getRedirectUrl(e){const t=e?new URL(e):new URL(window.location.href);return(0,a.F0)(this._sessionPersistenceService.getOtpToken(),t)}async _signInWithSocialProvider(e,t){return new Promise((()=>{this.adobeIMS.signInWithSocialProvider(e,{...t,locale:t?.locale||this._locale})}))}async signInWithSocialProvider(e,t){const i={redirect_uri:this.getRedirectUrl(t).href};await this._signInWithSocialProvider(e,i)}async customSignIn(e){await this.signIn(e,!0)}async signIn(e,t=!1,i={}){const r=this.getRedirectUrl(e),o="Manual trigger",n={...i,redirect_uri:r.href};if(this.isLoadedInIFrame())return r.searchParams.set("_cb",`${Date.now()}`),n.redirect_uri=r.href,void await this._inIframeSignIn(o,n);await this._signInInternal(o,n,t)}async signUp(e,t={}){const i=this.getRedirectUrl(e),r="Manual trigger",o={...t,redirect_uri:i.href};if(this.isLoadedInIFrame())return i.searchParams.set("_cb",`${Date.now()}`),t.redirect_uri=i.href,void await this._inIframeSignUp(r,o);await this._signUp(r,o)}_getTopWindow(){return window.top}_getCurrentWindow(){return window.self}isLoadedInIFrame(){return this._getTopWindow()!==this._getCurrentWindow()}async refreshToken(){return this._refreshTokenPromise||(this._refreshTokenPromise=new Promise((async e=>{try{this._logger.info("refreshToken is starting"),await this.adobeIMS.refreshToken(),e("noError")}catch(t){"rate_limited"===t.error?(this._logger.warn(`refreshToken failed. The server requested a retry after ${t.retryAfter} seconds"`),e(Number(t.retryAfter))):(this._logger.warn(`refreshToken failed with error "${t.error}"`),e(String(t.error)))}this._refreshTokenPromise=void 0}))),this._refreshTokenPromise}_scheduleTokenRefresh(e){!e||e<0||(clearTimeout(this._tokenRefreshTimeout),this._tokenRefreshTimeout=window.setTimeout((()=>this.refreshToken()),e))}_addEmbedSpecificParams(e){const t=new URLSearchParams(window.location.search);t.get("embed")&&(t.get("userId")&&(e.api_parameters={...e.api_parameters,check_token:{user_id:t.get("userId")}}),e.analytics={appCode:"embed_"+t.get("ccEverywhereHostClientId")},e.redirect_uri=this.getRedirectUrl().toString(),e.overrideErrorHandler=this._overrideErrorHandlerFunction)}async createJumpUrl(e,t,i,r){const n={target_client_id:e,bearer_token:this._currentToken,locale:this._locale};t&&(n.target_scope=t),i&&(n.target_redirect_uri=i),r&&(n.target_response_type=r);try{if(await this.load(),!this.isSignedInUser())return this._logger.error("Can't create jump url. User is not signed in."),Promise.reject(new o.R("ImsService","Can't create jump url. User is not signed in."));return await this.adobeIMS.jumpToken(n)}catch(e){return this._logger.error(`Error creating jump url: ${e}`),Promise.reject(new o.R("ImsService","Error creating jump url",e))}}async createJumpTokenForDevice(e,t){const i={target_client_group:e};t&&(i.client_redirect=t);try{if(await this.load(),!this.isSignedInUser())return this._logger.error("Can't create jump token for device. User is not signed in."),Promise.reject(new o.R("ImsService","Can't create jump token for device. User is not signed in."));return await this.adobeIMS.jumpTokenToDevice(i)}catch(e){return this._logger.error(`Error creating jump token for device: ${e}`),Promise.reject(new o.R("ImsService","Error creating jump token for device",e))}}}},286586:(e,t,i)=>{"use strict";i.d(t,{F0:()=>a,Uz:()=>c,tz:()=>s});const r="hz_persistence",o="otp",n=/&?otp=(\d+)/,s=()=>{const e=window.location.hash.replace(n,"");""===e?window.history.replaceState(null,"",window.location.pathname+window.location.search):window.location.hash=e},a=(e,t)=>{const i=t.hash?"&":"";return t.hash+=`${i}otp=${e}`,t};class c{constructor(e){this._storedData={},this._sessionStorageService=e,this._restoredData=this._restoreData(),this.persist(o,Math.random().toFixed(10).substring(3))}getOtpToken(){return this._storedData[o]}getRestoredData(e){return this._restoredData[e]}getStoredData(e){return this._storedData[e]}persist(e,t){this._storedData[e]=t,this._sessionStorageService.setInStorage(r,JSON.stringify(this._storedData))}remove(e){delete this._restoredData[e],delete this._storedData[e],this._sessionStorageService.setInStorage(r,JSON.stringify(this._storedData))}_restoreData(){const e=this._getPersistedData();return e[o]!==(window.location.hash.match(n)?.[1]||"")?[]:e}_getPersistedData(){try{return JSON.parse(this._sessionStorageService.getFromStorage(r)??"{}")}catch(e){return{}}}}},666320:(e,t,i)=>{"use strict";i.d(t,{$j:()=>l,Ku:()=>a,hX:()=>c,ni:()=>s});var r=i(125373),o=i(823293),n=i(17305);const s=e=>{let t;if("HttpError"===e.kind)t=new r.o(e.httpStatus,e.message,e.code,{requestId:e.headers.requestId,retryAfter:e.headers.retryAfter});else{if("HzError"!==e.kind){if("Error"===e.kind){const t=new Error(e.message);return t.stack=e.stack,t}throw new Error(`Unknown serialized error type: ${e.kind}`)}t=new n.R(e.code,e.message)}return t.category=e.category,t.uuid=e.uuid,t.stack=e.stack,t.isExpected=e.isExpected,t.logMetadata=e.logMetadata,e.previousErrorData&&(t.previousError=s(e.previousErrorData)),t},a=(e,t)=>{const i=e.getDataRepresentation(t);return s(i)},c=new Map([[o.o.BAD_REQUEST,"BadRequest"],[o.o.UNAUTHORIZED,"UnAuthorized"],[o.o.FORBIDDEN,"Forbidden"],[o.o.NOT_FOUND,"NotFound"],[o.o.CONFLICT,"Conflict"],[o.o.TOO_MANY_REQUESTS,"TooManyRequests"],[o.o.INTERNAL_SERVER_ERROR,"InternalServerError"],[o.o.BAD_GATEWAY,"BadGateway"],[o.o.SERVICE_UNAVAILABLE,"ServiceUnavailable"],[o.o.GATEWAY_TIMEOUT,"GatewayTimeout"]]);function l(e){return(t,i,r)=>{let o={category:e};return r instanceof Error?o.previousError=r:o=void 0===r?.category?{...r,category:e}:r,new n.R(t,i,o)}}},172377:(e,t,i)=>{"use strict";i.d(t,{P:()=>s});var r=i(207268);const o="locator-debug",n=class{constructor(e,t=""){this._logger=e,this.name=t,this._discarded=!1,this._singletonPromises=new Map,this._whenDefinedHooks=new Map,this._factoryDeferreds=new Map}_log(e){this._logger.traceflow(`locator-verbose-${this.name}`,e)}discard(){this._singletonPromises.clear(),this._whenDefinedHooks.clear(),this._factoryDeferreds.clear(),this._discarded=!0}get discarded(){return this._discarded}get logger(){return this._logger}_checkDiscarded(){if(this._discarded)throw new Error("Locator was discarded and can no longer be used.")}set(e,t){if(this._checkDiscarded(),this._singletonPromises.has(e)&&!this._factoryDeferreds.has(e))throw new Error(`Locator.set(): attempting to set new factory for singleton ${e} that already has one`);const i=this._getOrMakeFactoryDeferred(e);if(i.isSettled)throw new Error(`Locator.set(): attempting to set new factory for singleton ${e} that already has one`);i.resolve(t),this._log(`Locator.set(): factory for ${e}`);const r=this._whenDefinedHooks.get(e);r&&(this._log(`Locator.set(): running ${r.size} whenDefined hooks for ${e}`),r.forEach((e=>e()))),this._whenDefinedHooks.delete(e)}_getOrMakeFactoryDeferred(e){let t=this._factoryDeferreds.get(e);return t||(t=new r.B,this._factoryDeferreds.set(e,t)),t}getResolver(e){return()=>this.get(e)}whenDefined(e,t){if(this._checkDiscarded(),this._singletonPromises.has(e)&&!this._factoryDeferreds.has(e))return void t();if(this._getOrMakeFactoryDeferred(e).isSettled)return void t();let i=this._whenDefinedHooks.get(e);return i||(i=new Set,this._whenDefinedHooks.set(e,i)),i.add(t),()=>this._whenDefinedHooks.get(e)?.delete(t)}_getCallInfoOnError(e,t){let i="";if(e){i=`\nfrom Locator.get() call with stack:\n${t.split("\n").slice(1).join("\n")}`}return i}async get(e){this._checkDiscarded(),this._log(`Locator.get(): singleton ${e}`);let t=this._singletonPromises.get(e);if(t)return t;const i=this._logger.isTraceflowEnabled(o)||this._logger.isTraceflowConsoleEnabled(o);let s;i&&(s=(new Error).stack);const a=new r.B;t=a.promise,this._singletonPromises.set(e,t);const c=this._getOrMakeFactoryDeferred(e);let l=!1;const u=setTimeout((()=>{l=!0,this._logger.warn(`Locator: factory for ${e} not provided through Locator.set() within ${n.FACTORY_WARNING_TIMEOUT} ms`)}),n.FACTORY_WARNING_TIMEOUT),d=setTimeout((()=>{const t=this._getCallInfoOnError(i,s);this._logger.error(`Locator: factory for ${e} not provided through Locator.set() within ${n.FACTORY_ERROR_TIMEOUT} ms${t}`)}),n.FACTORY_ERROR_TIMEOUT),h=await c.promise;this._factoryDeferreds.delete(e),clearTimeout(u),clearTimeout(d),l&&this._logger.info(`Locator: factory for ${e} has eventually fulfilled.`);const _=setTimeout((()=>{const t=this._getCallInfoOnError(i,s);this._logger.error(`Locator: factory for ${e} failed to finish running within ${n.FACTORY_TIMEOUT} ms${t}`)}),n.FACTORY_TIMEOUT);return a.adopt(h(this)),await t,clearTimeout(_),l&&this._logger.info(`Locator: factory for ${e} has eventually fulfilled.`),t}async getAll(e){return Promise.all(e.map((e=>this.get(e))))}hasSetSingleton(e){return this._singletonPromises.has(e)||this._factoryDeferreds.has(e)}};let s=n;s.FACTORY_TIMEOUT=5e3,s.FACTORY_WARNING_TIMEOUT=1e4,s.FACTORY_ERROR_TIMEOUT=2e4},631458:(e,t,i)=>{"use strict";var r;i.d(t,{F:()=>r}),function(e){e.new="NEW",e.scheduled="SCHEDULED",e.active="ACTIVE",e.paused="PAUSED",e.stopped="STOPPED",e.archived="ARCHIVED",e.rolledOut="ROLLED_OUT"}(r||(r={}));r.new,r.active,r.scheduled,r.scheduled,r.active,r.new,r.active,r.paused,r.stopped,r.rolledOut,r.new,r.paused,r.active,r.stopped,r.rolledOut,r.new,r.stopped,r.archived,r.rolledOut,r.new,r.rolledOut,r.archived,r.archived},357231:(e,t,i)=>{"use strict";i.d(t,{X:()=>s});var r=i(253314),o=i(497197),n=i(75855);class s{constructor(){this.id=s.id,this.dependencies=[]}async onActivate({locator:e}){const t=await e.get("Logger");e.set("LocalStorageService",(async()=>new r.n(t))),e.set("SessionStorageService",(async()=>new o.u(t))),e.set("CookiesUtils",(async()=>new n.m))}}s.id="@hz/client-storage",s.dependencies=[]},10570:(e,t,i)=>{"use strict";i.d(t,{c:()=>r});class r{constructor(e){this._logger=e}setInStorage(e,t,i){const r={value:t};if("number"==typeof i){if(i<=0)return void this._logger?.warn(`Setting a storage value for '${e}' with an 'expireAfterMinutes' value of 0 or less is a no-op.`);r.expiry=Date.now()+Math.round(6e4*i)}try{const t=JSON.stringify(r);this.setItemInStorage(e,t)}catch(t){this._logger?.error(`Failed to serialize or persist item with key '${e}'.`,t)}}getFromStorage(e){try{const t=this.storage.getItem(e);if(!t)return;let i;try{i=JSON.parse(t)}catch(e){this._logger?.error(`Failed to parse storage item ${t}`)}if(!i)return;const r=i.expiry;return r&&Date.now()>r?void this.storage.removeItem(e):i.value}catch(e){return void this._logger?.error("Failed to get item from storage",e)}}removeFromStorage(e){this.storage.removeItem(e)}clearStorage(){this.storage.clear()}addItemToStoredArray(e,t,i){const r=this.getFromStorage(e);r&&Array.isArray(r)?(r.push(t),this.setInStorage(e,r,i)):this.setInStorage(e,[t],i)}getDocumentPreference(e,t){if(!e)return void this._logger?.warn("Failed to get document id");const i=this.storage.getItem(e);if(!i)return;let r;try{r=JSON.parse(i)}catch(e){this._logger?.error(`Failed to parse storage item ${i}`)}if(!r)return;return r[t]}setDocumentPreference(e,t,i){if(e)try{const r=this.storage.getItem(e);if(r){const o=JSON.parse(r);o[t]=i;const n=JSON.stringify(o);this.setItemInStorage(e,n)}else{const r={[t]:i},o=JSON.stringify(r);this.storage.setItem(e,o)}}catch(e){this._logger?.error(`Failed to serialize or persist item with key '${t}'.`,e)}else this._logger?.warn("Failed to get document id")}removeDocumentPreference(e,t){if(!e)return void this._logger?.warn("Failed to get document id");const i=this.storage.getItem(e);if(!i)return;let r;try{r=JSON.parse(i)}catch{this._logger?.error(`Failed to parse storage item ${i}`)}if(!r)return;delete r[t];const o=JSON.stringify(r);this.setItemInStorage(e,o)}setItemInStorage(e,t){try{this.storage.setItem(e,t)}catch(e){this._logger?.error("Failed to set item in storage",e)}}}},253314:(e,t,i)=>{"use strict";i.d(t,{n:()=>o});var r=i(10570);class o extends r.c{get storage(){return window.localStorage}}},497197:(e,t,i)=>{"use strict";i.d(t,{u:()=>o});var r=i(10570);class o extends r.c{get storage(){return window.sessionStorage}}},75855:(e,t,i)=>{"use strict";i.d(t,{m:()=>r});class r{read(e){const t=encodeURIComponent(e);let i;if(document.cookie.split(";").some((e=>e.replace(/\s*=.*$/,"").trim()===t&&(i=decodeURIComponent(e.replace(/^[^=]+=\s*/,"").trim()),!0))))return i}write(e,t,i={}){const{path:r,domain:o,maxAge:n,expires:s,samesite:a,secure:c}=i,l=[`${encodeURIComponent(e)}=${encodeURIComponent(t)}`];r&&r.length>0?l.push(`path=${encodeURI(r)}`):void 0===r&&l.push("path=/"),o&&o.length>0&&l.push(`domain=${o}`),n&&n>0&&l.push(`max-age=${n}`),s&&l.push(`expires=${s.toUTCString()}`),!0===c&&l.push("secure"),a&&l.push(`samesite=${a}`),document.cookie=l.join("; ")}delete(e){this.write(e,"",{expires:new Date(0)})}}},990465:(e,t,i)=>{"use strict";i.d(t,{Q:()=>s,Y:()=>o});var r=i(228138);class o{isValidLevelDependency(){return!0}isValidLevel(e){return"foundation"!==e}}async function n(e){const[t,i]=await e.getAll(["AppConfig","PerfMonitorModel"]);return new r.i(t,i,new o)}function s(e){e.set("BrickManager",n)}},911798:(e,t,i)=>{"use strict";i.d(t,{u:()=>s});var r=i(589806);const o=[{message:"ResizeObserver",jira:"CCEX-3523"},{message:"IngestAPIError",jira:"HZ-28795"},{message:"OTLPExporterError: Request Timeout",jira:"Hz-44250"}];class n{static isKnownError(e){return o.some((t=>e.includes(t.message)))}}function s(e=r.Yd.singleton(),t){const i=new a(e,t);return globalThis.addEventListener("error",i.handleUncaughtErrorEvent.bind(i)),globalThis.addEventListener("unhandledrejection",i.handleUnhandledRejectionEvent.bind(i)),i}class a{constructor(e,t={invokeNewRelicNoticeErrorExplicitly:!0}){this.logger=e,this.options=t}handleUncaughtErrorEvent(e){const{error:t}=e,i=t?.message??e.message??"Unspecified error";this._logError(`Uncaught error: ${i}`,{error:t,"custom.uncaughtClientError":!0},i)}handleUnhandledRejectionEvent(e){const{reason:t}=e;this._logError(`An uncaught promise rejection error occurred: ${t}`,{error:t,"custom.uncaughtRejection":!0,"custom.uncaughtClientError":!0},t?t.toString():"Unspecified reason")}_logError(e,t,i=""){if(n.isKnownError(i)){const t=`${e} (Known error)`;console.warn(t)}else if(this.logger.error(e,t),this.options.invokeNewRelicNoticeErrorExplicitly)try{window.newrelic?.noticeError(t.error)}catch(e){console.error("Failed to log error to newrelic: ",e)}}}}},e=>{e.O(0,[56335,12358,8576,39845],(()=>{return t=211246,e(e.s=t);var t}));e.O()}]);
//# sourceMappingURL=index.c4d6ee24a97ed6713899.js.map